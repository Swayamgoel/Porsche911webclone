/*!
 * udg-uc-sdk-pds - V 2.1.1
 *
 */(()=>{var e={280:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var i=n(43),s=function(e){var t,n,s,r,o=e.customization;this.accept={backgroundColor:(0,i.ap)(null===(t=null==o?void 0:o.color)||void 0===t?void 0:t.acceptBtnBackground),textColor:(0,i.ap)(null===(n=null==o?void 0:o.color)||void 0===n?void 0:n.acceptBtnText)},this.deny={backgroundColor:(0,i.ap)(null===(s=null==o?void 0:o.color)||void 0===s?void 0:s.denyBtnBackground),textColor:(0,i.ap)(null===(r=null==o?void 0:o.color)||void 0===r?void 0:r.denyBtnText)}}},692:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(43),s=n(239),r=function(e){return!(!e||!e.length||e[2]!==i.S.ACCEPT)},o=function(e){var t=e&&e.data&&e.data.__uspapiCall;t&&window[i.W](t.command,t.version,(function(n,i){!e.source||e.source instanceof MessagePort||e.source instanceof ServiceWorker||e.source.postMessage({__uspapiReturn:{callId:t.callId,returnValue:n,success:i}},"*")}))},a=function(e){function t(t,n,s,a){var c,l,u,d,h,p,g=this;return(g=e.call(this,n,s)||this).explicitDeny=!1,g.iabAgreementExists=(null===(c=t.ccpa)||void 0===c?void 0:c.iabAgreementExists)||!1,g.isActive=(null===(l=t.ccpa)||void 0===l?void 0:l.isActive)||!1,g.region=(null===(u=t.ccpa)||void 0===u?void 0:u.region)||i.L.US_CA_ONLY,g.reshowAfterDays=(null===(d=t.ccpa)||void 0===d?void 0:d.reshowAfterDays)||365,g.showOnPageLoad=(null===(h=t.ccpa)||void 0===h?void 0:h.showOnPageLoad)||!1,g.isOptedOut=!!navigator.globalPrivacyControl,g.isExplicitConsented=a,i.c.getCcpaString()!==i.D?(g.explicitNotice=!(!(p=i.c.getCcpaString())||!p.length||p[1]!==i.S.ACCEPT),!a&&g.isOptedOut?(g.explicitDeny=!0,g.setCcpaStorage(g.isOptedOut,g.explicitNotice?i.S.ACCEPT:i.S.UNKNOWN)):g.isOptedOut=r(i.c.getCcpaString())):(g.setCcpaStorage(g.isOptedOut,i.S.UNKNOWN),g.explicitNotice=!1),function(){if(!Object.prototype.hasOwnProperty.call(window.frames,i.F)){var e=document.createElement("iframe");e.style.display="none",e.name=i.F,document.body.appendChild(e)}}(),window[i.W]=function(e,t,n){switch("function"!=typeof n&&console.warn(i.d.API_INVALID_CALLBACK),t!==i.C&&n({uspString:null,version:null},!1),e){case i.e.GET_USP_DATA:n({uspString:i.c.getCcpaString(),version:i.C},!0);break;case i.W:n(null,!0);break;default:console.warn(i.d.API_INVALID_COMMAND,e),n(null,!1)}},window.addEventListener("message",o,!1),g}return(0,i.f)(t,e),t.prototype.getIsOptedOut=function(){return this.isOptedOut},t.prototype.getExplicitNotice=function(){return this.explicitNotice},t.prototype.setCcpaStorage=function(e,t){void 0===t&&(t=i.S.ACCEPT),this.setIsOptedOut(e),e?i.c.setCcpaTimeStamp():i.c.clearCcpaData(),t===i.S.ACCEPT?this.explicitNotice=!0:this.explicitNotice=!1;var n=function(e,t,n){var s="".concat(i.C).concat(t).concat(e?i.S.ACCEPT:i.S.DENY).concat(n?i.S.ACCEPT:i.S.UNKNOWN);return i.b.test(s)||(s=i.D),s}(e,t,this.iabAgreementExists);i.g.isCrossDomainAvailable()&&i.g.setCrossDomainCcpaData({ccpaString:n,timestamp:i.c.getCcpaTimeStamp()}).catch((function(){console.warn(i.h.CROSS_DOMAIN_SET_DATA_FAILURE)})),i.c.setCcpaString(n)},t.prototype.setIsOptedOut=function(e){var t="boolean"==typeof e?e:r(e);this.isOptedOut=t},t}(s.default)},425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(43),s=n(822),r=n(411),o=function(e){function t(t,n){var o,a,c=this;c=e.call(this,t,n)||this;var l=n.customization;return c.buttons=(0,i.p)((0,i.p)({},new s.B(n)),{ok:{backgroundColor:(0,i.ap)(null===(o=null==l?void 0:l.color)||void 0===o?void 0:o.ccpaButtonColor),textColor:(0,i.ap)(null===(a=null==l?void 0:l.color)||void 0===a?void 0:a.ccpaButtonTextColor)},optOutNotice:{isHidden:n.ccpa.removeDoNotSellToggle,label:n.ccpa.optOutNoticeLabel||"Do not sell my personal information"}}),c.firstLayer=(0,i.p)((0,i.p)((0,i.p)({},new s.F(n)),new r.F(n)),{hideToggles:!0,isLanguageSelectorEnabled:!(0,i.aq)(n.ccpa.firstLayerHideLanguageSwitch,!n.showLanguageDropdown),showShortDescriptionOnDesktop:!0===n.ccpa.firstLayerUseShortMessage,showShortDescriptionOnMobile:n.ccpa.firstLayerMobileDescriptionIsActive,variant:n.ccpa.firstLayerVariant||"BANNER"}),c.secondLayer=(0,i.p)((0,i.p)({},new r.S((0,i.p)((0,i.p)({},n),{secondLayer:(0,i.p)((0,i.p)({},n.secondLayer),{hideDataProcessingServices:!1})}))),{dpsDisplayFormat:n.dpsDisplayFormat||i.ar.ALL,hideToggles:!0,isLanguageSelectorEnabled:!(0,i.aq)(n.ccpa.secondLayerHideLanguageSwitch,!n.showLanguageDropdown),side:n.ccpa.secondLayerSide||"LEFT",variant:n.ccpa.secondLayerVariant||"CENTER"}),c}return(0,i.f)(t,e),t}(s.C)},239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(43),s=function(e){function t(n,s,r){var o=e.call(this,r)||this;return o.categorySlug=n.categorySlug,o.consent=(0,i.i)(n,s),o.id=n.templateId,o.isEssential=s.isEssential,o.isHidden=!!s.isHidden||n.isHidden,o.processorId="".concat((0,i.s)((0,i.v)())),o.subServices=[],o.subServicesLength=n.subConsents?n.subConsents.length:0,o.usesThirdCountry=n.usesThirdCountry,o.version=n.version,o.fetchSubServices=function(){return(0,i.j)(o,void 0,void 0,(function(){var e,r,o,a,c,l,u,d,h=this;return(0,i.k)(this,(function(p){switch(p.label){case 0:if(e=i.A.getInstance(),r=i.l.getInstance(),o=n.subConsents,!(a=(0,i.m)(o)).length)return[2,[]];l=null,p.label=1;case 1:return p.trys.push([1,4,,5]),[4,e.fetchAggregatedServices(a,!1)];case 2:return c=p.sent(),[4,e.fetchTranslations()];case 3:return l=p.sent(),[3,5];case 4:throw p.sent(),new Error(i.E.FETCH_DATA_PROCESSING_SERVICES);case 5:return c&&o?(u=r.getServicesBaseInfo(),d=u.filter((function(e){return e.id===h.id})),this.subServices=o.reduce((function(e,n){var r=null==c?void 0:c.find((function(e){return n.templateId===e.templateId&&n.version===e.version}));if(!r)return(0,i._)([],(0,i.a)(e),!1);var o=new t(n,s,r);return(0,i._)((0,i._)([],(0,i.a)(e),!1),[o],!1)}),[]),[2,this.subServices.reduce((function(e,t){var n=o.find((function(e){return t.id===e.templateId&&t.version===e.version}));if(!n)return(0,i._)([],(0,i.a)(e),!1);var s=new i.o(n,l,c),r=1===d.length?{legalBasis:d[0].legalBasis}:{},a=(0,i.p)((0,i.p)((0,i.p)((0,i.p)({},s),t),{subServices:[]}),r);return(0,i._)((0,i._)([],(0,i.a)(e),!1),[a],!1)}),[])]):[2,[]]}}))}))},o}return(0,i.f)(t,e),t}(i.n),r=function(e,t,n){this.isEssential=e.isEssential,this.isHidden=e.isHidden,this.services=o(e,t,n),this.slug=e.categorySlug},o=function(e,t,n){return t.reduce((function(t,r){if(r.categorySlug===e.categorySlug){var o=null==n?void 0:n.find((function(e){return r.templateId===e.templateId&&r.version===e.version})),a=new s(r,e,o);return(0,i._)((0,i._)([],(0,i.a)(t),!1),[a],!1)}return(0,i._)([],(0,i.a)(t),!1)}),[])},a=function(e,t,n){this.categories=e.categories.reduce((function(t,s){var o=new r(s,e.consentTemplates,n);return(0,i.q)(o.services)?(0,i._)((0,i._)([],(0,i.a)(t),!1),[o],!1):(0,i._)([],(0,i.a)(t),!1)}),[]),this.controllerId=t}},81:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(43),s=n(822),r=n(280),o=n(411),a=function(e){function t(t,n){var a,c,l,u,d=this;d=e.call(this,t,n)||this;var h=n.customization;return d.buttons=(0,i.p)((0,i.p)((0,i.p)({},new r.B(n)),new s.B(n)),{more:{backgroundColor:(0,i.Q)((0,i.ap)(null===(a=null==h?void 0:h.color)||void 0===a?void 0:a.moreBtnBackground),"#0045A5"),textColor:(0,i.Q)((0,i.ap)(null===(c=null==h?void 0:h.color)||void 0===c?void 0:c.moreBtnText),"#FAFAFA")},save:{backgroundColor:(0,i.ap)(null===(l=null==h?void 0:h.color)||void 0===l?void 0:l.saveBtnBackground),textColor:(0,i.ap)(null===(u=null==h?void 0:h.color)||void 0===u?void 0:u.saveBtnText)}}),d.firstLayer=(0,i.p)((0,i.p)((0,i.p)({},new o.F(n)),new s.F(n)),{closeOption:n.firstLayer.closeOption||null,hideButtonDeny:(0,i.aq)(n.firstLayer.hideButtonDeny,!n.btnDenyIsVisible),hideToggles:!1,isCategoryTogglesEnabled:n.firstLayer.isCategoryTogglesEnabled,isLanguageSelectorEnabled:!(0,i.aq)(n.firstLayer.hideLanguageSwitch,!n.showLanguageDropdown),showShortDescriptionOnDesktop:!0===n.firstLayer.useShortMessage,showShortDescriptionOnMobile:n.bannerMobileDescriptionIsActive,variant:(0,i.Q)(n.firstLayer.variant,"BANNER")}),d.secondLayer=(0,i.p)((0,i.p)({},new o.S(n)),{dpsDisplayFormat:n.dpsDisplayFormat||i.ar.ALL,hideButtonDeny:(0,i.aq)(n.secondLayer.hideButtonDeny,!n.btnDenyIsVisible),hideToggles:!1,hideTogglesForServices:(0,i.Q)(n.secondLayer.hideTogglesForServices,!1),isLanguageSelectorEnabled:!(0,i.aq)(n.secondLayer.hideLanguageSwitch,!n.showLanguageDropdown),side:n.secondLayer.side||"LEFT",variant:n.secondLayer.variant||"CENTER"}),d}return(0,i.f)(t,e),t}(s.C)},822:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,C:()=>o,F:()=>a});var i=n(43),s=function(e){var t=e.customization;this.alignment=(null==t?void 0:t.buttonAlignment)||i.as.HORIZONTAL,this.borderRadius=(0,i.at)((0,i.Q)(null==t?void 0:t.borderRadiusButton,"4px")),this.secondLayer=e.moreInfoButtonUrl.length>0?e.moreInfoButtonUrl:null},r="#ffffff",o=function(e,t){var n,s,o,a,c,l,u,d,h,p,g,f,v,m,y,S,b,I=t.customization;this.customCss=(null===(n=t.features)||void 0===n?void 0:n.customCss)&&t.useUnsafeCustomCss&&null!=t.stylesCss?t.stylesCss:null,this.enablePrivacyButton=e.privacyButtonIsVisible,this.font={family:(0,i.Q)(null===(s=null==I?void 0:I.font)||void 0===s?void 0:s.family,"BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Oxygen-Sans, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, Helvetica, Arial, sans-serif"),size:(0,i.Q)(null===(o=null==I?void 0:I.font)||void 0===o?void 0:o.size,14)},this.layer={backgroundColor:(0,i.Q)((0,i.ap)(null===(a=null==I?void 0:I.color)||void 0===a?void 0:a.layerBackground),"#ffffff"),borderRadius:(0,i.at)((0,i.Q)(null==I?void 0:I.borderRadiusLayer,"8px"))},this.links={fontColor:(0,i.Q)((0,i.ap)(null===(c=null==I?void 0:I.color)||void 0===c?void 0:c.linkFont),"#303030"),iconColor:(0,i.Q)((0,i.ap)(null===(l=null==I?void 0:I.color)||void 0===l?void 0:l.linkIcon),"#595959")},this.logo={altTag:(0,i.Q)(null==I?void 0:I.logoAltTag,null),position:(0,i.au)(t.firstLayer.logoPosition),url:(0,i.Q)(null==I?void 0:I.logoUrl,null)},this.overlay={backgroundColor:(0,i.Q)((0,i.ap)(null===(u=null==I?void 0:I.color)||void 0===u?void 0:u.overlay),"#333"),opacity:(0,i.Q)(null==I?void 0:I.overlayOpacity,.7)},this.poweredBy=t.enablePoweredBy?{partnerUrl:t.partnerPoweredByUrl||null,url:(0,i.av)(t.settingsId)}:null,this.privacyButtonUrls=e.privacyButtonUrls,this.primaryColor=(0,i.Q)((0,i.ap)(null===(d=null==I?void 0:I.color)||void 0===d?void 0:d.primary),"#0045A5"),this.accentColor=(0,i.Q)((0,i.ap)(null===(h=null==I?void 0:I.color)||void 0===h?void 0:h.tabsBorderColor),"#DDDDDD"),this.showCookieInformation=t.showCookieInformation,this.textColor=(0,i.Q)((0,i.ap)(null===(p=null==I?void 0:I.color)||void 0===p?void 0:p.text),"#303030"),this.theme=1,this.toggle={active:{backgroundColor:(0,i.Q)((0,i.ap)(null===(g=null==I?void 0:I.color)||void 0===g?void 0:g.toggleActiveBackground)||(0,i.ap)(null===(f=null==I?void 0:I.color)||void 0===f?void 0:f.primary),"#336AB7"),iconColor:(0,i.Q)((0,i.ap)(null===(v=null==I?void 0:I.color)||void 0===v?void 0:v.toggleActiveIcon),r)},disabled:{backgroundColor:(0,i.Q)((0,i.ap)(null===(m=null==I?void 0:I.color)||void 0===m?void 0:m.toggleDisabledBackground),"#dedede"),iconColor:(0,i.Q)((0,i.ap)(null===(y=null==I?void 0:I.color)||void 0===y?void 0:y.toggleDisabledIcon),r)},inactive:{backgroundColor:(0,i.Q)((0,i.ap)(null===(S=null==I?void 0:I.color)||void 0===S?void 0:S.toggleInactiveBackground),"#595959"),iconColor:(0,i.Q)((0,i.ap)(null===(b=null==I?void 0:I.color)||void 0===b?void 0:b.toggleInactiveIcon),r)}},this.useBackgroundShadow=(0,i.Q)(null==I?void 0:I.useBackgroundShadow,!0)},a=function(e){this.secondLayerTrigger=(0,i.Q)(e.firstLayer.secondLayerTrigger,i.aw.LINK)}},799:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(43),s=function(e,t){var n,s,r,o,a,c,l,u;this.customCss=null,this.hideDataProcessingServices=(0,i.Q)(t.hideDataProcessingServices,!1),this.defaultView=(0,i.Q)(t.defaultView,i.ao.CAT),this.backgroundColor=(0,i.Q)((0,i.ap)((null===(s=null===(n=e.customization)||void 0===n?void 0:n.color)||void 0===s?void 0:s.privacyButtonBackground)||(null===(o=null===(r=e.customization)||void 0===r?void 0:r.color)||void 0===o?void 0:o.primary)),null),this.desktopSize=(0,i.Q)(null===(a=e.customization)||void 0===a?void 0:a.privacyButtonSizeDesktop,null),this.iconColor=(0,i.Q)((0,i.ap)(null===(l=null===(c=e.customization)||void 0===c?void 0:c.color)||void 0===l?void 0:l.privacyButtonIcon),null),this.mobileSize=(0,i.Q)(null===(u=e.customization)||void 0===u?void 0:u.privacyButtonSizeMobile,null),this.iconUrl=(0,i.Q)(e.buttonPrivacyOpenIconUrl,null),this.position=function(e){switch(e){case"tl":case"tr":case"bl":case"br":return e;default:return"bl"}}(e.buttonDisplayLocation)}},411:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,S:()=>r});var i=n(43),s=function(e){this.isOverlayEnabled=(0,i.ax)(e)},r=function(e){var t,n;this.defaultView=(0,i.Q)(e.secondLayer.defaultView,i.ao.CAT),this.hideDataProcessingServices=(0,i.Q)(e.secondLayer.hideDataProcessingServices,!1),this.isOverlayEnabled=(0,i.ay)(e),this.showCategoriesTab=(0,i.Q)(e.secondLayer.tabsCategoriesIsEnabled,!0),this.showServicesTab=(0,i.Q)(e.secondLayer.tabsServicesIsEnabled,!0),this.tabColor=(0,i.Q)((0,i.ap)(null===(n=null===(t=e.customization)||void 0===t?void 0:t.color)||void 0===n?void 0:n.secondLayerTab),null)}},322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(43),s=function(){function e(){this.apiInstance=i.A.getInstance()}return e.prototype.getTargets=function(e){var t=this;return e.reduce((function(e,n){if("mark"!==n.entryType&&"measure"!==n.entryType&&"paint"!==n.entryType&&!n.name.startsWith("data:")&&!["visible"].includes(n.name)&&!/^https:\/\/([a-z0-9.]+).usercentrics\.eu/.test(n.name)){var s=n.name,r=t.extractSubdomain(s);if(-1===e.indexOf(r))return(0,i._)((0,i._)([],(0,i.a)(e),!1),[r],!1)}return e}),[])},e.prototype.initTagLogger=function(){var e=this;window.addEventListener("beforeunload",(function(){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.updateLog()}))}))},e.prototype.extractSubdomain=function(e){var t,n=e.split("/");return e.indexOf("://")>-1?(t="".concat(n[2]),n[3]&&(t+="/".concat(n[3]))):(t="".concat(n[0]),n[1]&&(t+="/".concat(n[1]))),"".concat(t.split("?")[0])},e.prototype.updateLog=function(){if(Object.prototype.hasOwnProperty.call(window,"performance")&&"function"==typeof performance.getEntries){var e=window.performance.getEntries();this.apiInstance.updateTagLoggerData(this.getTargets(e))}else console.log("UC Warning: tag logger functionality is not supported by your browser.")},e}()},464:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i,s,r,o,a,c=n(43),l=n(239);(a=i||(i={})).PING="ping",a.GET_TC_DATA="getTCData",a.GET_IN_APP_TC_DATA="getInAppTCData",a.GET_VENDOR_LIST="getVendorList",a.ADD_EVENT_LISTENER="addEventListener",a.REMOVE_EVENT_LISTENER="removeEventListener",function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(s||(s={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(r||(r={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(o||(o={}));var u=function(){function e(t,n,i,s){(0,c.t)(this,e),(0,c.u)(this,"listenerId",void 0),(0,c.u)(this,"callback",void 0),(0,c.u)(this,"next",void 0),(0,c.u)(this,"param",void 0),(0,c.u)(this,"success",!0),Object.assign(this,{callback:t,listenerId:i,param:n,next:s});try{this.respond()}catch(e){this.invokeCallback(null)}}return(0,c.r)(e,[{key:"invokeCallback",value:function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}]),e}(),d=function(e){(0,c.w)(n,u);var t=(0,c.x)(n);function n(){return(0,c.t)(this,n),t.apply(this,arguments)}return(0,c.r)(n,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new C(this.param,this.listenerId))}},{key:"throwIfParamInvalid",value:function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}]),n}(),h=function(){function e(){(0,c.t)(this,e),(0,c.u)(this,"eventQueue",new Map),(0,c.u)(this,"queueNumber",0)}return(0,c.r)(e,[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(){this.eventQueue.forEach((function(e,t){new d(e.callback,e.param,t,e.next)}))}},{key:"clear",value:function(){this.queueNumber=0,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}]),e}(),p=function(){function e(){(0,c.t)(this,e)}return(0,c.r)(e,null,[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,delete this.addtlConsent,this.enableAdvertiserConsentMode=!1,this.cmpStatus=s.LOADING,this.disabled=!1,this.displayStatus=r.HIDDEN,this.eventQueue.clear()}}]),e}();(0,c.u)(p,"apiVersion","2"),(0,c.u)(p,"tcfPolicyVersion",void 0),(0,c.u)(p,"eventQueue",new h),(0,c.u)(p,"cmpStatus",s.LOADING),(0,c.u)(p,"disabled",!1),(0,c.u)(p,"displayStatus",r.HIDDEN),(0,c.u)(p,"cmpId",void 0),(0,c.u)(p,"cmpVersion",void 0),(0,c.u)(p,"eventStatus",void 0),(0,c.u)(p,"gdprApplies",void 0),(0,c.u)(p,"tcModel",void 0),(0,c.u)(p,"tcString",void 0),(0,c.u)(p,"addtlConsent",void 0),(0,c.u)(p,"enableAdvertiserConsentMode",!1);var g,f,v,m,y,S,b=(0,c.r)((function e(){(0,c.t)(this,e),(0,c.u)(this,"cmpId",p.cmpId),(0,c.u)(this,"cmpVersion",p.cmpVersion),(0,c.u)(this,"gdprApplies",p.gdprApplies),(0,c.u)(this,"tcfPolicyVersion",p.tcfPolicyVersion)})),I=function(e){(0,c.w)(n,b);var t=(0,c.x)(n);function n(){var e;(0,c.t)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,c.u)((0,c.y)(e),"cmpStatus",s.ERROR),e}return(0,c.r)(n)}(),C=function(e){(0,c.w)(n,b);var t=(0,c.x)(n);function n(e,i){var s;if((0,c.t)(this,n),s=t.call(this),(0,c.u)((0,c.y)(s),"tcString",void 0),(0,c.u)((0,c.y)(s),"listenerId",void 0),(0,c.u)((0,c.y)(s),"eventStatus",void 0),(0,c.u)((0,c.y)(s),"cmpStatus",void 0),(0,c.u)((0,c.y)(s),"isServiceSpecific",void 0),(0,c.u)((0,c.y)(s),"useNonStandardStacks",void 0),(0,c.u)((0,c.y)(s),"publisherCC",void 0),(0,c.u)((0,c.y)(s),"purposeOneTreatment",void 0),(0,c.u)((0,c.y)(s),"outOfBand",void 0),(0,c.u)((0,c.y)(s),"purpose",void 0),(0,c.u)((0,c.y)(s),"vendor",void 0),(0,c.u)((0,c.y)(s),"specialFeatureOptins",void 0),(0,c.u)((0,c.y)(s),"publisher",void 0),s.eventStatus=p.eventStatus,s.cmpStatus=p.cmpStatus,s.listenerId=i,p.gdprApplies){var r=p.tcModel;s.tcString=p.tcString,s.isServiceSpecific=r.isServiceSpecific,s.useNonStandardStacks=r.useNonStandardStacks,s.purposeOneTreatment=r.purposeOneTreatment,s.publisherCC=r.publisherCountryCode,s.addtlConsent=r.addtlConsent,s.enableAdvertiserConsentMode=r.enableAdvertiserConsentMode,s.outOfBand={allowedVendors:s.createVectorField(r.vendorsAllowed,e),disclosedVendors:s.createVectorField(r.vendorsDisclosed,e)},s.purpose={consents:s.createVectorField(r.purposeConsents),legitimateInterests:s.createVectorField(r.purposeLegitimateInterests)},s.vendor={consents:s.createVectorField(r.vendorConsents,e),legitimateInterests:s.createVectorField(r.vendorLegitimateInterests,e)},s.specialFeatureOptins=s.createVectorField(r.specialFeatureOptins),s.publisher={consents:s.createVectorField(r.publisherConsents),legitimateInterests:s.createVectorField(r.publisherLegitimateInterests),customPurpose:{consents:s.createVectorField(r.publisherCustomConsents),legitimateInterests:s.createVectorField(r.publisherCustomLegitimateInterests)},restrictions:s.createRestrictions(r.publisherRestrictions)}}return s}return(0,c.r)(n,[{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0)for(var n=e.getMaxVendorId(),i=function(){var n=s.toString();e.getRestrictions(s).forEach((function(e){var i=e.purposeId.toString();t[i]||(t[i]={}),t[i][n]=e.restrictionType}))},s=1;s<=n;s++)i();return t}},{key:"createVectorField",value:function(e,t){return t?t.reduce((function(t,n){return t[String(n)]=e.has(Number(n)),t}),{}):(0,c.z)(e).reduce((function(e,t){return e[t[0].toString(10)]=t[1],e}),{})}}]),n}(),w=function(e){(0,c.w)(n,C);var t=(0,c.x)(n);function n(e){var i;return(0,c.t)(this,n),delete(i=t.call(this,e)).outOfBand,i}return(0,c.r)(n,[{key:"createVectorField",value:function(e){return(0,c.z)(e).reduce((function(e,t){return e+(t[1]?"1":"0")}),"")}},{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0){var n=e.getMaxVendorId();e.getRestrictions().forEach((function(e){t[e.purposeId.toString()]="_".repeat(n)}));for(var i=function(n){var i=n+1;e.getRestrictions(i).forEach((function(e){var i=e.restrictionType.toString(),s=e.purposeId.toString(),r=t[s].substr(0,n),o=t[s].substr(n+1);t[s]=r+i+o}))},s=0;s<n;s++)i(s)}return t}}]),n}(),E=function(e){(0,c.w)(n,b);var t=(0,c.x)(n);function n(){var e;return(0,c.t)(this,n),e=t.call(this),(0,c.u)((0,c.y)(e),"cmpLoaded",!0),(0,c.u)((0,c.y)(e),"cmpStatus",p.cmpStatus),(0,c.u)((0,c.y)(e),"displayStatus",p.displayStatus),(0,c.u)((0,c.y)(e),"apiVersion",String(p.apiVersion)),(0,c.u)((0,c.y)(e),"gvlVersion",void 0),p.tcModel&&p.tcModel.vendorListVersion&&(e.gvlVersion=+p.tcModel.vendorListVersion),e}return(0,c.r)(n)}(),A=function(e){(0,c.w)(n,u);var t=(0,c.x)(n);function n(){return(0,c.t)(this,n),t.apply(this,arguments)}return(0,c.r)(n,[{key:"respond",value:function(){this.invokeCallback(new E)}}]),n}(),T=function(e){(0,c.w)(n,d);var t=(0,c.x)(n);function n(){return(0,c.t)(this,n),t.apply(this,arguments)}return(0,c.r)(n,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new w(this.param))}}]),n}(),L=function(e){(0,c.w)(n,u);var t=(0,c.x)(n);function n(){return(0,c.t)(this,n),t.apply(this,arguments)}return(0,c.r)(n,[{key:"respond",value:function(){var e,t=this,n=p.tcModel,i=n.vendorListVersion;void 0===this.param&&(this.param=i),(e=this.param===i&&n.gvl?n.gvl:new c.G(this.param)).readyPromise.then((function(){t.invokeCallback(e.getJson())}))}}]),n}(),_=function(e){(0,c.w)(n,d);var t=(0,c.x)(n);function n(){return(0,c.t)(this,n),t.apply(this,arguments)}return(0,c.r)(n,[{key:"respond",value:function(){this.listenerId=p.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),(0,c.B)((0,c.H)(n.prototype),"respond",this).call(this)}}]),n}(),D=function(e){(0,c.w)(n,u);var t=(0,c.x)(n);function n(){return(0,c.t)(this,n),t.apply(this,arguments)}return(0,c.r)(n,[{key:"respond",value:function(){this.invokeCallback(p.eventQueue.remove(this.param))}}]),n}();g=i.PING,f=i.GET_TC_DATA,v=i.GET_IN_APP_TC_DATA,m=i.GET_VENDOR_LIST,y=i.ADD_EVENT_LISTENER,S=i.REMOVE_EVENT_LISTENER;var O=(0,c.r)((function e(){(0,c.t)(this,e)}));(0,c.u)(O,g,A),(0,c.u)(O,f,d),(0,c.u)(O,v,T),(0,c.u)(O,m,L),(0,c.u)(O,y,_),(0,c.u)(O,S,D);var R=function(){function e(){(0,c.t)(this,e)}return(0,c.r)(e,null,[{key:"has",value:function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}]),e}();(0,c.u)(R,"set_",new Set([0,2,void 0,null]));var N="__tcfapi",V=function(){function e(t){if((0,c.t)(this,e),(0,c.u)(this,"callQueue",void 0),(0,c.u)(this,"customCommands",void 0),t){var n=i.ADD_EVENT_LISTENER;if(null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed: Use ").concat(i.GET_TC_DATA," instead"));if(n=i.REMOVE_EVENT_LISTENER,null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed"));null!=t&&t[i.GET_TC_DATA]&&(t[i.ADD_EVENT_LISTENER]=t[i.GET_TC_DATA],t[i.REMOVE_EVENT_LISTENER]=t[i.GET_TC_DATA]),this.customCommands=t}try{this.callQueue=window[N]()||[]}catch(e){this.callQueue=[]}finally{window[N]=this.apiCall.bind(this),this.purgeQueuedCalls()}}return(0,c.r)(e,[{key:"apiCall",value:function(e,t,n){for(var s=arguments.length,r=new Array(s>3?s-3:0),o=3;o<s;o++)r[o-3]=arguments[o];if("string"!=typeof e)n(null,!1);else if(R.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");if(p.disabled)n(new I,!1);else if(this.isCustomCommand(e)||this.isBuiltInCommand(e))if(this.isCustomCommand(e)&&!this.isBuiltInCommand(e)){var a;(a=this.customCommands)[e].apply(a,[n].concat(r))}else e===i.PING?this.isCustomCommand(e)?new O[e](this.customCommands[e],r[0],null,n):new O[e](n,r[0]):void 0===p.tcModel?this.callQueue.push([e,t,n].concat(r)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new O[e](this.customCommands[e],r[0],null,n):new O[e](n,r[0]);else n(null,!1)}else n(null,!1)}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach((function(e){var t;(t=window)[N].apply(t,(0,c.z)(e))}))}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==O[e]}}]),e}(),k=function(){function e(t,n,i){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;(0,c.t)(this,e),(0,c.u)(this,"callResponder",void 0),(0,c.u)(this,"isServiceSpecific",void 0),(0,c.u)(this,"numUpdates",0),this.throwIfInvalidInt(n,"cmpId",2),this.throwIfInvalidInt(i,"cmpVersion",0),p.cmpId=n,p.cmpVersion=i,p.tcfPolicyVersion=t,this.isServiceSpecific=!!s,this.callResponder=new V(r)}return(0,c.r)(e,[{key:"throwIfInvalidInt",value:function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error("Invalid ".concat(t,": ").concat(e))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(p.disabled)throw new Error("CmpApi Disabled");p.cmpStatus=s.LOADED,t?(p.displayStatus=r.VISIBLE,p.eventStatus=o.CMP_UI_SHOWN):void 0===p.tcModel?(p.displayStatus=r.DISABLED,p.eventStatus=o.TC_LOADED):(p.displayStatus=r.HIDDEN,p.eventStatus=o.USER_ACTION_COMPLETE),p.gdprApplies=null!==e,p.gdprApplies?(""===e?(p.tcModel=new c.T,p.tcModel.cmpId=p.cmpId,p.tcModel.cmpVersion=p.cmpVersion,p.tcModel.policyVersion=p.tcfPolicyVersion):p.tcModel=c.I.decode(e),p.tcModel.addtlConsent=n||"",p.tcModel.enableAdvertiserConsentMode=!0===p.enableAdvertiserConsentMode,p.tcModel.isServiceSpecific=this.isServiceSpecific,p.tcfPolicyVersion=Number(p.tcModel.policyVersion),p.tcString=e):p.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():p.eventQueue.exec(),this.numUpdates++}},{key:"disable",value:function(){p.disabled=!0,p.cmpStatus=s.ERROR}}]),e}(),x=function(e){function t(t,n,i,s,r,o,a,l){var u=e.call(this,i,r)||this;u.gcmEnabled=!1,u.acmEnabled=!1,u.acmVendorIds=[],u.policyVersion=4,u.locationInstance=c.J.getInstance(),u.botInstance=c.K.getInstance(),u.previousStorage=null,u.selectedVendorsIncludeNonDisclosed=!1,u.cmpApi={},u.tcModel=null,u.tcfData=null,u.vendors=[];var d=t.tcf2,h=d.acmV2Enabled,p=d.changedPurposes,g=d.cmpId,f=d.cmpVersion,v=d.consensuScriptPath,m=d.dataRetentionPeriodLabel,y=d.disabledSpecialFeatures,S=d.gdprApplies,b=d.hideLegitimateInterestToggles,I=d.publisherCountryCode,C=d.purposeOneTreatment,w=d.selectedStacks,E=d.selectedVendorIds,A=d.selectedATPIds,T=d.tcfv2HistoryDisabled,L=d.vendorIdsOutsideEUList,_=t.googleConsentMode;return u.gcmEnabled=!0===_,u.acmEnabled=!0===h,u.acmVendorIds=h&&A||[],u.changedPurposes=(0,c.M)(p),u.cmpId=g||5,u.cmpVersion=f||(0,c.N)(),u.policyVersion="2.2"===t.tcf2.version?4:2,u.consensuScriptPath=(0,c.O)(v),u.consensuSubdomain=(0,c.P)(t.tcf2.consensuDomain),u.dataRetentionLabel=m,u.disabledSpecialFeatures=y||[],u.gdprApplies=(0,c.Q)(S,!1),u.hideLegitimateInterestToggles=b,u.isAnalyticsEnabled=!0===t.consentAnalytics,u.isApiV2Enabled=!0===t.consentAPIv2,u.isConsentXDeviceEnabled=!0===t.consentXDevice,u.publisherCountryCode=I||"DE",u.purposeOneTreatment=(0,c.Q)(C,!1),u.resurfaceOptions=(0,c.R)(n),u.stackIds=w||[],u.tcfv2HistoryDisabled=T,u.useGranularChoice=(0,c.U)(t.tcf2.firstLayerHideToggles,t.tcf2.secondLayerHideToggles),u.vendorIds=E||[],u.vendorIdsOutsideEUList=L||[],u.selectedLanguage=(0,c.V)(o),u.enableDeprecatedV1ConsentSaving=l,u.cmpApi=new k(u.policyVersion,u.cmpId,u.cmpVersion,!0),u.dataTransferSettings=s,u.excludeAcceptAllVendors=a,u}return(0,c.f)(t,e),t.prototype.updateControllerId=function(e){this.dataTransferSettings.controllerId=e},t.prototype.acceptAllDisclosed=function(e){var t,n;return(0,c.j)(this,void 0,void 0,(function(){var i,s,r,o=this;return(0,c.k)(this,(function(a){switch(a.label){case 0:return(i=this.tcModel)?(this.acmVendors&&(this.acmVendors=this.acmVendors.map((function(e){return(0,c.p)((0,c.p)({},e),{consent:{status:!0}})}))),s=[],r=[],this.getVendors().forEach((function(e){var t=e.id,n=e.legitimateInterestPurposes,a=e.purposes,c=e.specialPurposes,l=-1===o.excludeAcceptAllVendors.indexOf(t);a.length?(l&&i.vendorConsents.set(t),s=s.concat(a.map((function(e){return e.id})))):l&&i.vendorConsents.unset(t),n.length||c.length&&0===n.length&&0===a.length?(l&&i.vendorLegitimateInterests.set(t),r=r.concat(n.map((function(e){return e.id})))):l&&i.vendorLegitimateInterests.unset(t)})),i.purposeConsents.set((0,c.X)(s)),i.purposeLegitimateInterests.set((0,c.X)(r)),this.hideLegitimateInterestToggles&&(i.unsetAllVendorLegitimateInterests(),i.unsetAllPurposeLegitimateInterests()),i.specialFeatureOptins.set((0,c.Y)(null===(n=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===n?void 0:n.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),this.tcModel=i,[4,this.updateTCString(e)]):[2];case 1:return a.sent(),[2]}}))}))},t.prototype.areAllPurposesAccepted=function(){var e,t;return(0,c.Z)(this.tcModel,null===(e=this.tcModel)||void 0===e?void 0:e.gvl.stacks,null===(t=this.tcModel)||void 0===t?void 0:t.gvl.purposes,this.vendors,this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles).every((function(e){var t=!0,n=!0;return e.showConsentToggle&&null!==e.consent&&(t=e.consent),e.showLegitimateInterestToggle&&null!==e.legitimateInterestConsent&&(n=e.legitimateInterestConsent),t&&n}))},t.prototype.areAllVendorsAccepted=function(){return this.getVendors().every((function(e){var t=!0,n=!0;return e.showConsentToggle&&null!==e.consent&&(t=e.consent),e.showLegitimateInterestConsentToggle&&null!==e.legitimateInterestConsent&&(n=e.legitimateInterestConsent),t&&n}))},t.prototype.changeLanguage=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t;return(0,c.k)(this,(function(n){switch(n.label){case 0:return t=(0,c.V)(e),[4,this.resetGVLWithLanguage("en"===t?"".concat(t,"-v2"):t)];case 1:return n.sent(),this.tcModel&&this.tcModel.gvl.narrowVendorsTo(this.vendorIds),this.resetTcfData(),[2]}}))}))},t.prototype.denyAllDisclosed=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t;return(0,c.k)(this,(function(n){switch(n.label){case 0:return this.tcModel?(this.acmVendors&&(this.acmVendors=this.acmVendors.map((function(e){return(0,c.p)((0,c.p)({},e),{consent:{status:!1}})}))),this.tcModel.unsetAllVendorConsents(),this.tcModel.unsetAllVendorLegitimateInterests(),t=(0,c.$)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment),this.tcModel.purposeConsents.unset(t),this.tcModel.purposeLegitimateInterests.unset(t),this.tcModel.specialFeatureOptins.unset((0,c.Y)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),[4,this.updateTCString(e)]):[2];case 1:return n.sent(),[2]}}))}))},t.prototype.getSelectedVendorsIncludeNonDisclosed=function(){return this.selectedVendorsIncludeNonDisclosed},t.prototype.getTcModel=function(){return this.tcModel},t.prototype.getTCFData=function(){var e,t,n,i,s,r,o,a,l;return this.tcfData||(this.tcfData={features:(0,c.a0)(this.getVendors(),null===(t=null===(e=this.tcModel)||void 0===e?void 0:e.gvl)||void 0===t?void 0:t.features),purposes:(0,c.Z)(this.tcModel,null===(n=this.tcModel)||void 0===n?void 0:n.gvl.stacks,null===(i=this.tcModel)||void 0===i?void 0:i.gvl.purposes,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles),specialFeatures:(0,c.a1)(this.tcModel,null===(s=this.tcModel)||void 0===s?void 0:s.gvl,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.useGranularChoice),specialPurposes:(0,c.a2)(null===(o=null===(r=this.tcModel)||void 0===r?void 0:r.gvl)||void 0===o?void 0:o.specialPurposes,this.getVendors()),stacks:(0,c.a3)(null===(l=null===(a=this.tcModel)||void 0===a?void 0:a.gvl)||void 0===l?void 0:l.stacks,this.disabledSpecialFeatures,this.stackIds),vendors:this.getVendors(),acmVendors:this.getAcmVendors()}),this.tcfData},t.prototype.getGdprApplies=function(){return(0,c.j)(this,void 0,void 0,(function(){return(0,c.k)(this,(function(e){switch(e.label){case 0:return this.gdprApplies?[4,this.locationInstance.getIsUserInEU()]:[2,!0];case 1:return[2,e.sent()]}}))}))},t.prototype.getACString=function(){var e;if(this.acmEnabled&&(null===(e=this.acmVendors)||void 0===e?void 0:e.length)){var t=this.acmVendors.reduce((function(e,t){var n=e.consentedAcmVendorIds,i=e.disclosedAcmVendorIds;return t.consent.status?n.push(t.id):i.push(t.id),{consentedAcmVendorIds:n,disclosedAcmVendorIds:i}}),{consentedAcmVendorIds:[],disclosedAcmVendorIds:[]}),n=t.consentedAcmVendorIds,i=t.disclosedAcmVendorIds;return"2~".concat(n.join("."),"~dv.").concat(i.join("."))}return""},t.prototype.getTCString=function(e){return this.tcModel?c.I.encode(this.tcModel,e):""},t.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.getTCString({segments:[c.a4.VENDORS_DISCLOSED]})},t.prototype.init=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t,n;return(0,c.k)(this,(function(i){switch(i.label){case 0:return this.previousStorage=c.c.fetchTCFData(),t=c.c.fetchTCString()||"",n=c.c.fetchACString()||"",[4,this.initTCModel({acString:n,tcString:t},e,this.policyVersion)];case 1:return i.sent(),this.botInstance.isRobot()&&this.acceptAllDisclosed(1),[2]}}))}))},t.prototype.setUIAsClosed=function(){return(0,c.j)(this,void 0,void 0,(function(){return(0,c.k)(this,(function(e){return[2,this.cmpApiUpdate(c.c.fetchTCString(),!1,c.c.fetchACString())]}))}))},t.prototype.setUIAsOpen=function(){return(0,c.j)(this,void 0,void 0,(function(){return(0,c.k)(this,(function(e){return[2,this.cmpApiUpdate(c.c.fetchTCString(),!0,c.c.fetchACString())]}))}))},t.prototype.shouldResurfaceUI=function(){var e=this.resurfaceOptions;return 4===this.policyVersion&&e.onATPListChanged&&(0,c.a5)(this.previousStorage,this.getAcmVendors())||e.onIABLegalBasisChanged&&(0,c.a6)(this.previousStorage,this.tcModel)||e.onVendorAdded&&(0,c.a7)(this.previousStorage,this.getVendors())||e.onPurposeChanged&&(0,c.a8)(this.previousStorage,this.getVendors())||e.onPeriodEnded&&(0,c.a9)(this.previousStorage)},t.prototype.updateChoices=function(e,t){return(0,c.j)(this,void 0,void 0,(function(){return(0,c.k)(this,(function(n){switch(n.label){case 0:return e.purposes?[4,this.savePurposes(e.purposes)]:[3,2];case 1:n.sent(),n.label=2;case 2:return e.specialFeatures?[4,this.saveSpecialFeatures(e.specialFeatures)]:[3,4];case 3:n.sent(),n.label=4;case 4:return e.vendors?[4,this.saveVendors(e.vendors)]:[3,6];case 5:n.sent(),n.label=6;case 6:return this.tcModel&&this.hideLegitimateInterestToggles&&(this.tcModel.unsetAllVendorLegitimateInterests(),this.tcModel.unsetAllPurposeLegitimateInterests()),e.purposes||e.specialFeatures||e.vendors?[4,this.updateTCString(t)]:[3,8];case 7:n.sent(),n.label=8;case 8:return[2]}}))}))},t.prototype.resetTcf=function(){this.cmpApi={},this.selectedVendorsIncludeNonDisclosed=!1,this.tcModel={},this.tcfData=null,this.vendors=[]},t.prototype.applyPurposeRestrictions=function(e,t){var n=this;e.forEach((function(e){var i,s=new c.aa(e,t);null===(i=n.tcModel)||void 0===i||i.publisherRestrictions.restrictPurposeToLegalBasis(s)}))},t.prototype.cmpApiUpdate=function(e,t,n){return void 0===n&&(n=""),(0,c.j)(this,void 0,void 0,(function(){return(0,c.k)(this,(function(i){switch(i.label){case 0:return[4,this.getGdprApplies()];case 1:return i.sent()?this.cmpApi.update(e,t,n):this.cmpApi.update(null),[2]}}))}))},t.prototype.getVendors=function(){return(0,c.q)(this.vendors)||this.setVendors(),this.vendors},t.prototype.initTCModel=function(e,t,n){var i=e.tcString,s=e.acString;return void 0===n&&(n=4),(0,c.j)(this,void 0,void 0,(function(){var e,r,o,a,l,u,d,h,p,g=this;return(0,c.k)(this,(function(f){switch(f.label){case 0:if(!this.acmEnabled||!this.acmVendorIds.length||this.acmVendors)return[3,2];if(e=[],s)try{e=s.split("~")[1].split(".").map((function(e){return parseInt(e,10)}))}catch(e){}return[4,c.A.getInstance().fetchAcmVendors().then((function(t){var n=[];g.acmVendorIds.forEach((function(i){if(t.providers[i]){var s=(0,c.a)(t.providers[i],2),r=s[0],o=s[1];n.push({consent:{status:e.some((function(e){return e===i}))},id:i,name:r,privacyPolicyUrl:o})}})),g.acmVendors=n}))];case 1:f.sent(),f.label=2;case 2:if(this.isPolicyVersion4()?(c.G.baseUrl=t?c.ac:c.ad,c.G.languageFilename=c.ae,c.G.latestFilename=c.af):(c.G.baseUrl=t?c.ag:c.ah,c.G.languageFilename=c.ai,c.G.latestFilename=c.aj),(r=new c.G).tcfPolicyVersion=n,this.tcModel=new c.T(r),this.tcModel.policyVersion=n,this.tcModel.cmpId=this.cmpId,this.tcModel.cmpVersion=this.cmpVersion,this.tcModel.isServiceSpecific=!0,this.tcModel.publisherCountryCode=this.publisherCountryCode,this.tcModel.purposeOneTreatment=this.purposeOneTreatment,this.gcmEnabled&&this.setEnableAdvertiserConsentMode(this.gcmEnabled),this.acmEnabled&&this.setAddtlConsent(s||""),i)try{o=this.tcModel.gvl,a=this.tcModel.publisherRestrictions,this.tcModel=c.I.decode(i,this.tcModel),this.isPolicyVersion4()&&this.tcModel.purposeLegitimateInterests.unset([1,3,4,5,6]),this.tcModel=Object.assign(this.tcModel,{gvl:o,publisherRestrictions:a})}catch(e){console.warn(c.ak.INIT_TCF_ERROR,e)}if(null===this.tcModel)throw new Error(c.ak.TC_MODEL_UNDEFINED);if(!this.selectedLanguage)throw new Error(c.ak.SELECTED_LANGUAGE_UNDEFINED);return[4,this.tcModel.gvl.readyPromise.catch((function(e){console.warn(c.ak.RESET_GVL_FAILURE,e)}))];case 3:return f.sent(),this.tcModel.gvl.narrowVendorsTo(this.vendorIds),l=(0,c._)([],(0,c.a)(this.tcModel.gvl.vendorIds),!1),u=(0,c.V)(this.selectedLanguage),[4,this.resetGVLWithLanguage("en"===u?"".concat(u,"-v2"):u)];case 4:return f.sent(),d=this.changedPurposes,h=d.purposes,p=d.legitimateInterestPurposes,this.applyPurposeRestrictions(h,c.ab.REQUIRE_CONSENT),this.applyPurposeRestrictions(p,c.ab.REQUIRE_LI),this.setSelectedVendorsIncludeNonDisclosed(l),[2]}}))}))},t.prototype.setEnableAdvertiserConsentMode=function(e){this.tcModel&&(this.tcModel.enableAdvertiserConsentMode=e),p.enableAdvertiserConsentMode=e},t.prototype.setAddtlConsent=function(e){this.tcModel&&(this.tcModel.addtlConsent=e),p.addtlConsent=e},t.prototype.resetGVLWithLanguage=function(e){var t,n;return(0,c.j)(this,void 0,void 0,(function(){var i;return(0,c.k)(this,(function(s){return i=(0,c.V)(e),[2,null===(n=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===n?void 0:n.changeLanguage(i).catch((function(e){console.warn(c.ak.RESET_GVL_FAILURE,e)}))]}))}))},t.prototype.resetTcfData=function(){this.setVendors(),this.tcfData=null},t.prototype.setSelectedVendorsIncludeNonDisclosed=function(e){var t=c.c.fetchTCFVendorsDisclosedObject();e.some((function(e){return!(0,c.al)(e,t)}))&&(this.selectedVendorsIncludeNonDisclosed=!0)},t.prototype.savePurposes=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t;return(0,c.k)(this,(function(n){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.purposeConsents.set(e.id):t.purposeConsents.unset(e.id),e.legitimateInterestConsent?t.purposeLegitimateInterests.set(e.id):t.purposeLegitimateInterests.unset(e.id)})),[2]):[2]}))}))},t.prototype.saveSpecialFeatures=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t;return(0,c.k)(this,(function(n){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.specialFeatureOptins.set(e.id):t.specialFeatureOptins.unset(e.id)})),[2]):[2]}))}))},t.prototype.saveVendors=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t;return(0,c.k)(this,(function(n){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.vendorConsents.set(e.id):t.vendorConsents.unset(e.id),e.legitimateInterestConsent?t.vendorLegitimateInterests.set(e.id):t.vendorLegitimateInterests.unset(e.id)})),[2]):[2]}))}))},t.prototype.setVendors=function(){this.vendors=(0,c.am)(this.tcModel,this.disabledSpecialFeatures,this.useGranularChoice,this.hideLegitimateInterestToggles,this.purposeOneTreatment,this.vendorIdsOutsideEUList,this.dataRetentionLabel)},t.prototype.getTcfData=function(){return{acString:this.getACString(),tcString:this.getTCString(),timestamp:Date.now(),vendors:(0,c.an)(this.getVendors())}},t.prototype.injectTCString=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t,n;return(0,c.k)(this,(function(i){switch(i.label){case 0:return t=c.I.decode(e),this.isPolicyVersion4()&&t.purposeLegitimateInterests.unset([1,3,4,5,6]),this.tcModel&&t.lastUpdated>=this.tcModel.lastUpdated?(n=this.getTcfData(),c.c.saveTCFData((0,c.p)((0,c.p)({},n),{tcString:e})),[4,this.saveTCFData(n)]):[3,2];case 1:return i.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype.isPolicyVersion4=function(){return 4===this.policyVersion},t.prototype.saveTCFData=function(e){return(0,c.j)(this,void 0,void 0,(function(){return(0,c.k)(this,(function(t){return[2,c.A.getInstance().saveTCFConsents(this.dataTransferSettings,e,"onTcfStringChange","explicit",this.isApiV2Enabled?{isAnalyticsEnabled:this.isAnalyticsEnabled,isConsentAPIv2Enabled:this.isConsentXDeviceEnabled}:null,this.enableDeprecatedV1ConsentSaving)]}))}))},t.prototype.updateTCString=function(e){return(0,c.j)(this,void 0,void 0,(function(){var t;return(0,c.k)(this,(function(n){switch(n.label){case 0:return this.tcModel&&(this.isPolicyVersion4()&&this.tcModel.purposeLegitimateInterests.unset([1,3,4,5,6]),this.tcModel.consentScreen=e,this.tcModel.updated()),t=this.getTcfData(),c.c.saveTCFData(t),[4,this.cmpApiUpdate(t.tcString,!1,t.acString)];case 1:return n.sent(),this.resetTcfData(),this.botInstance.isRobot()?[3,3]:[4,this.saveTCFData(t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.getVendorsCount=function(){return(this.getVendors().length||0)+this.getAcmVendorsCount()},t.prototype.getAcmVendors=function(){return this.acmVendors||[]},t.prototype.getAcmVendorsCount=function(){return this.getAcmVendors().length||0},t}(l.default)},276:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(43),s=n(822),r=n(280),o=function(e){function t(t,n){var o,a,c,l,u,d=this;d=e.call(this,t,n)||this;var h=n.customization;return d.buttons=(0,i.p)((0,i.p)((0,i.p)({},new r.B(n)),new s.B(n)),{save:{backgroundColor:(0,i.ap)(null===(o=null==h?void 0:h.color)||void 0===o?void 0:o.saveBtnBackground),textColor:(0,i.ap)(null===(a=null==h?void 0:h.color)||void 0===a?void 0:a.saveBtnText)}}),d.firstLayer=(0,i.p)((0,i.p)({},new s.F(n)),{hideButtonDeny:(0,i.aq)(n.tcf2.firstLayerHideButtonDeny,!n.tcf2.buttonsDenyAllIsEnabled),hideCustomizationButton:!0===(null===(c=n.tcf2)||void 0===c?void 0:c.enforceAcceptAll),hideNonIabPurposes:n.tcf2.hideNonIabOnFirstLayer,hideToggles:n.tcf2.firstLayerHideToggles||!0===n.tcf2.enforceAcceptAll,isOverlayEnabled:(0,i.ax)(n),showDescriptions:n.tcf2.firstLayerShowDescriptions}),d.secondLayer={dpsDisplayFormat:n.dpsDisplayFormat||i.ar.ALL,hideButtonDeny:(0,i.aq)(n.tcf2.secondLayerHideButtonDeny,!n.tcf2.buttonsDenyAllIsEnabled),hideLegitimateInterestToggles:n.tcf2.hideLegitimateInterestToggles,hideToggles:n.tcf2.secondLayerHideToggles||!0===n.tcf2.enforceAcceptAll,isOverlayEnabled:(0,i.ay)(n),showToggleAllVendors:n.tcf2.vendorToggleAll,tabColor:(0,i.Q)((0,i.ap)(null===(u=null===(l=n.customization)||void 0===l?void 0:l.color)||void 0===u?void 0:u.secondLayerTab),null)},d}return(0,i.f)(t,e),t}(s.C)},43:(e,t,n)=>{"use strict";function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,o=Object.create(r.prototype),a=new T(i||[]);return s(o,"_invoke",{value:C(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function p(){}function g(){}function f(){}var v={};l(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==t&&n.call(y,o)&&(v=y);var S=f.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function i(s,r,o,a){var c=d(e[s],e,r);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,a)}))}a(c.arg)}var r;s(this,"_invoke",{value:function(e,n){function s(){return new t((function(t,s){i(e,n,t,s)}))}return r=r?r.then(s,s):s()}})}function C(e,t,n){var i="suspendedStart";return function(s,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===s)throw r;return{value:void 0,done:!0}}for(n.method=s,n.arg=r;;){var o=n.delegate;if(o){var a=w(o,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=d(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var s=d(i,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,h;var r=s.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e||""===e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=f,s(S,"constructor",{value:f,configurable:!0}),s(f,"constructor",{value:g,configurable:!0}),g.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},b(I.prototype),l(I.prototype,a,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,i,s,r){void 0===r&&(r=Promise);var o=new I(u(t,n,i,s),r);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=L,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(a&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var s=i.arg;A(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function r(e,t,n,i,s,r,o){try{var a=e[r](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,s)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,c,"next",e)}function c(e){r(o,i,s,a,c,"throw",e)}a(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,E(i.key),i)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return f=g()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return n&&p(s,n.prototype),s},f.apply(null,arguments)}function v(e){var t="function"==typeof Map?new Map:void 0;return v=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return f(e,arguments,h(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),p(i,e)},v(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){var t=g();return function(){var n,i=h(e);if(t){var s=h(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}},S.apply(this,arguments)}function b(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function E(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}n.d(t,{$:()=>cs,A:()=>jt,B:()=>S,C:()=>te,D:()=>ne,E:()=>Ne,F:()=>ie,G:()=>qi,H:()=>h,I:()=>Zi,J:()=>Pt,K:()=>Qt,L:()=>Ve,M:()=>ns,N:()=>Ie,O:()=>is,P:()=>ss,Q:()=>Ee,R:()=>us,S:()=>gn,T:()=>Ji,U:()=>os,V:()=>Cs,W:()=>re,X:()=>_e,Y:()=>ds,Z:()=>ls,_:()=>Y,a:()=>z,a0:()=>rs,a1:()=>hs,a2:()=>ps,a3:()=>gs,a4:()=>oi,a5:()=>ys,a6:()=>ms,a7:()=>Ss,a8:()=>bs,a9:()=>vs,aD:()=>Xi,aS:()=>Wi,aa:()=>si,ab:()=>ni,ac:()=>cn,ad:()=>on,ae:()=>un,af:()=>hn,ag:()=>an,ah:()=>rn,ai:()=>ln,aj:()=>dn,ak:()=>oe,al:()=>as,am:()=>ts,an:()=>Is,ao:()=>Re,ap:()=>Je,aq:()=>qe,ar:()=>B,as:()=>M,at:()=>Qe,au:()=>Ke,av:()=>tt,aw:()=>P,ax:()=>Ye,ay:()=>We,az:()=>_s,b:()=>se,c:()=>ye,d:()=>pn,e:()=>Qi,f:()=>T,g:()=>pe,h:()=>G,i:()=>yn,j:()=>q,k:()=>J,l:()=>Un,m:()=>Ht,n:()=>Ln,o:()=>bn,p:()=>j,q:()=>Ce,r:()=>l,s:()=>_t,t:()=>a,u:()=>u,v:()=>kt,w:()=>d,x:()=>y,y:()=>m,z:()=>b});var A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},A(e,t)};function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var L,_,D,O,R,N,V,k,x,U,P,F,M,B,$,G,H,j=function(){return j=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},j.apply(this,arguments)};function q(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function J(e,t){var n,i,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(o=0)),o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function z(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,s,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Y(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function W(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,s){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,s,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError,function(e){e.CONSENT_RESPONSE="consent-response",e.CONSENT_UI="consent-ui"}(L||(L={})),function(e){e.ACCEPT="accept",e.REJECT="reject",e.DISMISS="dismiss",e.FULLSCREEN="enter-fullscreen",e.READY="ready"}(_||(_={})),function(e){e[e.TCF_V2=2]="TCF_V2",e[e.CCPA=3]="CCPA"}(D||(D={})),function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE"}(O||(O={})),function(e){e[e.DATA_LAYER=0]="DATA_LAYER",e[e.WINDOW_EVENT=1]="WINDOW_EVENT"}(R||(R={})),function(e){e[e.MAJOR=0]="MAJOR",e[e.MINOR=1]="MINOR",e[e.PATCH=2]="PATCH"}(N||(N={})),function(e){e.CALL_INIT="Usercentrics: You have to call the init method before!",e.DATA_LOCAL="Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!",e.UNKNOWN_VARIANT="Usercentrics: Unknown variant",e.NOT_CCPA="Usercentrics: CCPA was not initialized",e.NOT_DEFAULT="Usercentrics: GDPR was not initialized",e.NOT_TCF="Usercentrics: TCF was not initialized"}(V||(V={})),function(e){e.BANNER="BANNER",e.WALL="WALL"}(k||(k={})),function(e){e.CENTER="CENTER",e.SIDE="SIDE"}(x||(x={})),function(e){e[e.DARK=0]="DARK",e[e.LIGHT=1]="LIGHT"}(U||(U={})),function(e){e.LINK="LINK",e.BUTTON="BUTTON",e.MORE_LINK_BUTTON="MORE_LINK_BUTTON"}(P||(P={})),function(e){e.LEFT="LEFT",e.RIGHT="RIGHT"}(F||(F={})),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(M||(M={})),function(e){e.ALL="ALL",e.SHORT="SHORT"}(B||(B={})),function(e){e.CROSS_DEVICE_DATA_NOT_AVAILABLE="Usercentrics: Cross Device Consents data is not available",e.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Device TCF data is not available",e.CROSS_DEVICE_FEATURE_DISABLED="Usercentrics: The `Cross-Device Consent Sharing` feature is not enabled. Please contact the support team in order to enable this feature for your configuration"}($||($={})),function(e){e.CROSS_DOMAIN_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain Consents data is not available",e.CROSS_DOMAIN_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain TCF data is not available",e.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent Sharing is not available.",e.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent language is not available",e.CROSS_DOMAIN_SET_DATA_FAILURE="Usercentrics: Unable to set Cross Domain data",e.CROSS_DOMAIN_SET_TCF_DATA_FAILURE="Usercentrics: Unable to set Cross Domain TCF data",e.CROSS_DOMAIN_IFRAME_ERROR="Usercentrics: Iframe error",e.CROSS_DOMAIN_IFRAME_NOT_FOUND="Usercentrics: Cross Domain iFrame not found",e.CROSS_DOMAIN_IFRAME_LOAD_ERROR="Usercentrics: IFrame did not load"}(G||(G={})),function(e){e.CLEAR="clear",e.GET_CROSS_DOMAIN_LANGUAGE="getCrossDomainLanguage",e.GET_CROSS_DOMAIN_SESSION_DATA="getCrossDomainSessionData",e.GET_CROSS_DOMAIN_TCF_DATA="getCrossDomainTcfData",e.GET_CROSS_DOMAIN_CCPA_DATA="getCrossDomainCcpaData",e.GET_TC_STRING="getTCString",e.PING="ping",e.SET_CROSS_DOMAIN_DATA="setCrossDomainData",e.SET_CROSS_DOMAIN_TCF_DATA="setCrossDomainTcfData",e.SET_CROSS_DOMAIN_CCPA_DATA="setCrossDomainCcpaData",e.SET_TC_STRING="setTCString"}(H||(H={}));var Q,K,X="ucMobileSdk",Z=["usercentrics-sandbox.eu","usercentrics.eu"],ee="4.35.1",te=1,ne="1---",ie="__uspapiLocator",se=/^[1][nNyY-][nNyY-][nNyY-]$/,re="__uspapi";!function(e){e.CCPA="uc_usprivacy",e.CCPA_DATA="uc_ccpa",e.CONSENTS_BUFFER="uc_consents_buffer",e.CONSENTS_V2_BUFFER="uc_consents_v2_buffer",e.GCM_DATA="uc_gcm",e.LEGACY_SETTINGS="ucSettings",e.SERVICES="uc_services",e.SETTINGS="uc_settings",e.TCF="uc_tcf",e.USER_INTERACTION="uc_user_interaction",e.AB_TEST_VARIANT="uc_ab_variant"}(Q||(Q={})),function(e){e.USER_COUNTRY="uc_user_country"}(K||(K={}));var oe,ae,ce,le,ue="uc-cross-domain-bridge",de="".concat("https://app.usercentrics.eu","/browser-sdk/").concat(ee,"/cross-domain-bridge.html"),he="".concat("https://app.eu.usercentrics.eu","/browser-sdk/").concat(ee,"/cross-domain-bridge.html"),pe=function(){function e(){}return e.setDomainBridgeUri=function(t){var n="";t&&(t.crossDomainConsentSharingIFrame?n=t.crossDomainConsentSharingIFrame:t.app&&(n="".concat(t.app,"/browser-sdk/").concat(ee,"/cross-domain-bridge.html")));var i=""!==n?n:de,s=he;e.domainBridgeUri=e.useEuCdn?s:i},e.getDomainBridgeUri=function(){return e.domainBridgeUri},e.init=function(t,n){return q(this,void 0,void 0,(function(){return J(this,(function(i){return e.setDomainBridgeUri(n),e.setUseEuCdn((null==t?void 0:t.useEuCdn)||!1),e.setDomainBridgeUri(n),[2,this.initIFrame(e.getDomainBridgeUri(),ue)]}))}))},e.initIFrame=function(t,n){return q(this,void 0,void 0,(function(){var i=this;return J(this,(function(s){return[2,new Promise((function(s,r){var o=e.createIFrame(t,n);o.onload=function(){return q(i,void 0,void 0,(function(){var i;return J(this,(function(a){return i=setTimeout((function(){o={},r(new Error(G.CROSS_DOMAIN_IFRAME_LOAD_ERROR))}),1e3),e.queryIFrame(t,n,H.PING).then((function(){clearTimeout(i),s(!0)})).catch((function(e){clearTimeout(i),r(e)})),[2]}))}))},o.onerror=function(){return q(i,void 0,void 0,(function(){return J(this,(function(e){return r(new Error(G.CROSS_DOMAIN_IFRAME_ERROR)),[2]}))}))},e.appendIFrame(o)}))]}))}))},e.setIsCrossDomainAvailable=function(t){e.crossDomainAvailable=t},e.isCookieBridgeAvailable=function(){return e.cookieBridgeAvailable},e.setIsCookieBridgeAvailable=function(t){e.cookieBridgeAvailable=t},e.isCrossDomainAvailable=function(){return e.crossDomainAvailable},e.getCrossDomainId=function(){return e.crossDomainId},e.setCrossDomainId=function(t){e.crossDomainId="".concat("uc_cross_domain_data","_").concat(t)},e.setCookieBridgeDomain=function(e,t){this.cookieBridgeDomain="".concat(e).concat(t)},e.setUseEuCdn=function(t){e.useEuCdn=t},e.createIFrame=function(t,n){e.removeIFrame(n);var i=document.createElement("iframe");return i.style.display="none",i.id=n,i.src=t,i},e.removeIFrame=function(e){var t=document.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)},e.queryIFrame=function(e,t,n,i,s){return q(this,void 0,void 0,(function(){var r;return J(this,(function(o){if(!(r=document.getElementById(t))||!r.id)throw new Error(G.CROSS_DOMAIN_IFRAME_NOT_FOUND);return[2,new Promise((function(t,o){var a=JSON.stringify({crossDomainId:s,method:n,payload:i}),c=new MessageChannel;c.port1.onmessage=function(e){var n=JSON.parse(e.data),i=n.success,s=n.data;i?t(s):o(e)},r&&r.contentWindow&&r.contentWindow.postMessage(a,e,[c.port2])}))]}))}))},e.appendIFrame=function(e){try{document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))}catch(e){return new Error(G.CROSS_DOMAIN_IFRAME_ERROR)}return null},e.query=function(t,n){return q(this,void 0,void 0,(function(){return J(this,(function(i){return[2,e.queryIFrame(e.getDomainBridgeUri(),ue,t,n,e.crossDomainId)]}))}))},e.getCrossDomainLanguage=function(){return e.query(H.GET_CROSS_DOMAIN_LANGUAGE)},e.setCrossDomainData=function(t){return q(this,void 0,void 0,(function(){return J(this,(function(n){return[2,e.query(H.SET_CROSS_DOMAIN_DATA,(i=t,{consents:i.services.map((function(e){return e.history.map((function(t){return{action:t.action,consentId:"",settingsVersion:t.versions.settings,status:t.status,templateId:e.id,timestamp:"".concat(t.timestamp),updatedBy:t.type}}))})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return parseInt(e.timestamp,10)-parseInt(t.timestamp,10)})),controllerId:i.controllerId,language:i.language}))];var i}))}))},e.setCrossDomainCcpaData=function(t){return q(this,void 0,void 0,(function(){return J(this,(function(n){return[2,e.query(H.SET_CROSS_DOMAIN_CCPA_DATA,t)]}))}))},e.getCrossDomainCcpaData=function(){return q(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(H.GET_CROSS_DOMAIN_CCPA_DATA)]}))}))},e.getCrossDomainSessionData=function(){return q(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(H.GET_CROSS_DOMAIN_SESSION_DATA)]}))}))},e.getCrossDomainTcfData=function(){return q(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(H.GET_CROSS_DOMAIN_TCF_DATA)]}))}))},e.setCrossDomainTcfData=function(t){return q(this,void 0,void 0,(function(){return J(this,(function(n){return[2,e.query(H.SET_CROSS_DOMAIN_TCF_DATA,t)]}))}))},e.clearCrossDomainStorage=function(){return q(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(H.CLEAR)]}))}))},e.crossDomainId="",e.cookieBridgeDomain="",e.domainBridgeUri=de,e.useEuCdn=!1,e.cookieBridgeAvailable=!1,e.crossDomainAvailable=!1,e}(),ge=function(){function e(){this.length=0,this.data={}}return e.prototype.updateLength=function(){this.length=Object.keys(this.data).length},e.prototype.key=function(e){var t=Object.keys(this.data)[e];return void 0===s(t)?null:t},e.prototype.getItem=function(e){return void 0!==this.data[e]?this.data[e]:null},e.prototype.setItem=function(e,t){this.data[e]=String(t),this.updateLength()},e.prototype.removeItem=function(e){delete this.data[e],this.updateLength()},e.prototype.clear=function(){this.data={},this.updateLength()},e}();!function(e){e.COOKIE_BRIDGE_NOT_AVAILABLE="Usercentrics: Cookie bridge is not available.",e.COOKIE_BRIDGE_OPTIONS_NOT_SET="Usercentrics: Cookie bridge options are not set",e.GET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to get the Global TC string",e.INIT_TCF_ERROR="Usercentrics: Unable to init TCF",e.RESET_GVL_FAILURE="Usercentrics: Unable to reset Global Vendor List",e.SET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to set the Global TC string",e.VENDOR_REMOVED="Usercentrics: The following vendor is not part of the official vendors list anymore: ",e.TC_MODEL_UNDEFINED="Usercentrics: tcModel can not be null.",e.SELECTED_LANGUAGE_UNDEFINED="Usercentrics: Selected language can not be undefined"}(oe||(oe={})),function(e){e.LEGITIMATE_INTEREST="legIntPurposes",e.PURPOSES="purposes"}(ae||(ae={})),function(e){e[e.ID=0]="ID",e[e.LEGITIMATE_INTEREST=1]="LEGITIMATE_INTEREST",e[e.PURPOSES=2]="PURPOSES",e[e.SPECIAL_PURPOSES=3]="SPECIAL_PURPOSES"}(ce||(ce={})),function(e){e[e.FIRST_LAYER=1]="FIRST_LAYER",e[e.SECOND_LAYER=2]="SECOND_LAYER"}(le||(le={}));var fe=function(e){switch(e){case"onAcceptAllBtnClick":case"onSpecialFunctionAcceptAllConsentTrigger":return"onAcceptAllServices";case"onDenyAllAnchorClick":case"onDenyAllBtnClick":return"onDenyAllServices";case"onNonEURegion":return"onNonEURegion";case"onInitialPageLoad":case"onCountdownFinished":default:return"onInitialPageLoad";case"onToggleCategory":case"onToggleConsent":case"onToggleSelectAll":return"onEssentialChange";case"onWindowFunctionUpdateConsent":case"bySettingsUpdate":case"onSaveBtnClick":return"onUpdateServices"}},ve=function(e){switch(e){case"update":case"implicit":default:return"implicit";case"explicit":return"explicit"}},me="RAMDOM_KEY_LOCAL_STORAGE",ye=function(){function e(){this.localStorage=null,this.sessionStorage=null,this.storeServiceIdToNameMapping=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.localStorage=null,e.instance.sessionStorage=null},e.prototype.setStoreServiceIdToNameMapping=function(e){this.storeServiceIdToNameMapping=e},e.prototype.getStoreServiceIdToNameMapping=function(){return this.storeServiceIdToNameMapping},e.prototype.init=function(){try{localStorage.setItem(me,me),localStorage.removeItem(me),this.localStorage=localStorage}catch(e){this.localStorage=new ge}try{sessionStorage.setItem(me,me),sessionStorage.removeItem(me),this.sessionStorage=sessionStorage}catch(e){this.sessionStorage=new ge}},e.appendToConsentsBuffer=function(t){var n,i=e.fetchConsentsBuffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.CONSENTS_BUFFER,JSON.stringify(i))},e.appendToConsentsV2Buffer=function(t){var n,i=e.fetchConsentsV2Buffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.CONSENTS_V2_BUFFER,JSON.stringify(i))},e.clearOnNewSettingsId=function(t){t!==e.fetchSettingsId()&&e.clear()},e.findBufferItem=function(t){return e.fetchConsentsBuffer().slice().find((function(e){return JSON.stringify(e.consents)===JSON.stringify(t)}))},e.findV2BufferItem=function(t){return e.fetchConsentsV2Buffer().slice().find((function(e){return JSON.stringify(e.consents)===JSON.stringify(t)}))},e.removeConsentsBufferItem=function(t){var n,i,s=e.fetchConsentsBuffer(),r=s.length+0;(s=s.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))).length&&s.length!==r?null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.CONSENTS_BUFFER,JSON.stringify(s)):null===(i=e.getInstance().localStorage)||void 0===i||i.removeItem(Q.CONSENTS_BUFFER)},e.removeConsentsV2BufferItem=function(t){var n,i,s=e.fetchConsentsV2Buffer(),r=s.length+0;(s=s.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))).length&&s.length!==r?null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.CONSENTS_V2_BUFFER,JSON.stringify(s)):null===(i=e.getInstance().localStorage)||void 0===i||i.removeItem(Q.CONSENTS_V2_BUFFER)},e.getCcpaString=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.CCPA);return n&&se.test(n)?n:ne},e.getCcpaData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.CCPA_DATA);return n?JSON.parse(n):null},e.fetchConsentsBuffer=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.CONSENTS_BUFFER);return n?JSON.parse(n):[]},e.fetchConsentsV2Buffer=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.CONSENTS_V2_BUFFER);return n?JSON.parse(n):[]},e.fetchControllerId=function(){var t=e.fetchSettings();return t?t.controllerId:""},e.fetchLanguage=function(){var t=e.fetchSettings();return t?t.language:""},e.fetchServices=function(){var t=e.fetchSettings();return t?t.services:[]},e.fetchLegacySettings=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.LEGACY_SETTINGS);return n?JSON.parse(n):null},e.fetchSettings=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.SETTINGS);return n?JSON.parse(n):{}},e.fetchSettingsId=function(){var t=e.fetchSettings();return t?t.id:""},e.fetchSettingsVersion=function(){var t=e.fetchSettings();return t?t.version:""},e.fetchTCFData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.TCF),i=n?JSON.parse(n):{acString:"",tcString:"",timestamp:Date.now(),vendors:[]};return i.vendors||(i.vendors=[]),i},e.fetchTCFVendorsDisclosedObject=function(t){var n,i=e.fetchTCFData(),s=i.acString,r=i.tcString,o=i.vendors,a=i.vendorsDisclosed;if(!o&&!a)return{};if((a||!a&&!o.length&&r)&&t){var c=Object.keys(t).map(Number);n=(a||c).filter((function(e){return t[e]})).map((function(e){var n=t[e];return[n.id,n.legIntPurposes,n.purposes,n.specialPurposes]})),e.saveTCFData({acString:s,tcString:r,timestamp:Date.now(),vendors:n})}else n=o;return n.reduce((function(e,t){var n;return j(j({},e),((n={})[t[ce.ID]]=!0,n))}),{})},e.fetchTCString=function(){return e.fetchTCFData().tcString||""},e.fetchACString=function(){return e.fetchTCFData().acString||""},e.fetchUserActionPerformed=function(){var t;return"true"===(null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.USER_INTERACTION))},e.fetchUserCountryResponse=function(){var t;try{return JSON.parse((null===(t=e.getInstance().sessionStorage)||void 0===t?void 0:t.getItem(K.USER_COUNTRY))||"null")}catch(e){return null}},e.setUserCountryResponse=function(t){var n;null===(n=e.getInstance().sessionStorage)||void 0===n||n.setItem(K.USER_COUNTRY,JSON.stringify(t))},e.mapServices=function(e){return e.map((function(e){return{history:e.consent.history,id:e.id,processorId:e.processorId,status:e.consent.status}}))},e.mapSettings=function(t,n){return{controllerId:t.controllerId,id:t.id,language:t.selectedLanguage,services:e.mapServices(n),version:t.version}},e.migrateLegacySettings=function(t){if(!e.settingsExist()){var n,i,s=e.fetchLegacySettings();if(e.clearLegacySettings(),null==s?void 0:s[t]){var r=(n=s[t])&&Ce(n.ucConsents.consents)?((i={})[Q.SETTINGS]={controllerId:n.ucConsents.consents[0].controllerId,id:n.usercentrics.settings.settingsId,language:n.usercentrics.settings.language,services:n.ucConsents.consents.map((function(e){return{history:e.history.map((function(e){return{action:fe(e.action),language:e.language,status:e.consentStatus,timestamp:e.updatedAt,type:ve(e.updatedBy),versions:{application:e.appVersion,service:e.consentTemplateVersion,settings:e.settingsVersion}}})),id:e.templateId,processorId:e.processorId,status:e.consentStatus}})),version:n.usercentrics.settings.version},i[Q.USER_INTERACTION]=n.usercentrics.firstUserInteraction.stateSaved,i):null;r&&(e.saveSettings(r[Q.SETTINGS]),r[Q.USER_INTERACTION]&&e.setUserActionPerformed(!0))}}},e.saveSettings=function(t,n){var i,s;if(null===(i=e.getInstance().localStorage)||void 0===i||i.setItem(Q.SETTINGS,JSON.stringify(t)),e.getInstance().getStoreServiceIdToNameMapping()&&n&&n.length){var r=n.reduce((function(e,t){return e[t.id]=t.name,e}),{});null===(s=e.getInstance().localStorage)||void 0===s||s.setItem(Q.SERVICES,JSON.stringify(r))}pe.isCrossDomainAvailable()&&pe.setCrossDomainData(t).catch((function(){console.warn(G.CROSS_DOMAIN_SET_DATA_FAILURE)}))},e.saveTCFData=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.TCF,JSON.stringify(t)),pe.isCrossDomainAvailable()&&pe.setCrossDomainTcfData(t).catch((function(){console.warn(G.CROSS_DOMAIN_SET_TCF_DATA_FAILURE)}))},e.fetchGcmData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(Q.GCM_DATA);return n?JSON.parse(n):null},e.saveGcmData=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.GCM_DATA,JSON.stringify(t))},e.saveTCString=function(t){var n=e.fetchTCFData();this.saveTCFData(j(j({},n),{tcString:t}))},e.setCcpaTimeStamp=function(t){var n,i=t||{ccpaString:this.getCcpaString()||"",timestamp:(new Date).getTime()};null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.CCPA_DATA,JSON.stringify(i))},e.getCcpaTimeStamp=function(){var e=this.getCcpaData();return e&&e.timestamp?e.timestamp:(new Date).getTime()},e.setCcpaString=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.CCPA,t),this.setCcpaTimeStamp()},e.settingsExist=function(){return we(e.fetchSettings())},e.setUserActionPerformed=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(Q.USER_INTERACTION,JSON.stringify(t))},e.clearCcpa=function(){var t;this.clearCcpaData(),null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(Q.CCPA)},e.clearCcpaData=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(Q.CCPA_DATA)},e.clearTcf=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(Q.TCF)},e.clearGcm=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(Q.GCM_DATA)},e.clear=function(){var t,n;e.clearCcpa(),e.clearTcf(),e.clearGcm(),null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(Q.SETTINGS),null===(n=e.getInstance().localStorage)||void 0===n||n.removeItem(Q.USER_INTERACTION)},e.clearAll=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return this.clear(),pe.isCrossDomainAvailable()?[4,pe.clearCrossDomainStorage()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.fetchAbTestVariant=function(t){var n,i,s=(null===(n=e.getInstance().localStorage)||void 0===n?void 0:n.getItem(Q.AB_TEST_VARIANT))||"";if(t.includes(s))return s;var r=t[Math.floor(Math.random()*t.length)];return null===(i=e.getInstance().localStorage)||void 0===i||i.setItem(Q.AB_TEST_VARIANT,r),r},e.clearLegacySettings=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(Q.LEGACY_SETTINGS)},e}(),Se=function(e,t){return-1!==e.indexOf(t)},be=function(){return"SDK-".concat(ee)},Ie=function(){return parseInt("3",10)},Ce=function(e){return Array.isArray(e)&&e.length>0},we=function(e){return"object"===s(e)&&null!==e&&Object.keys(e).length>0},Ee=function(e,t){if(void 0===t)throw new Error("altElement of nullishOperation can not be undefined");return null!=e?e:t},Ae=function(e,t,n,i,s,r){return{applicationVersion:be(),consent:{action:n,status:t.consent.status,type:i},service:{categorySlug:s||"",id:t.id,name:t.name,processorId:t.processorId,version:t.version},settings:{controllerId:e.controllerId,id:e.id,language:e.selectedLanguage,referrerControllerId:Ee(null==r?void 0:r.referrerControllerId,""),version:e.version},timestamp:Ee(null==r?void 0:r.timestamp,(new Date).valueOf())}},Te=function(e){var t=e.dataTransferSettings,n=e.services,i=void 0===n?[]:n,s=e.consentAction,r=e.consentString,o=e.isCcpa,a=e.isTcf,c=e.isAnalyticsEnabled,l=e.isConsentXDeviceEnabled,u=i.map((function(e){return{consentStatus:e.consent.status,consentTemplateId:e.id,consentTemplateVersion:e.version}})),d="",h="",p="";if(a){var g=ye.fetchTCFData(),f=g.acString,v=g.tcString,m=g.timestamp,y=g.vendors,S=g.vendorsDisclosed;h=Ee(h?null==r?void 0:r.TCF2:v,""),p=JSON.stringify({timestamp:m,vendors:y,vendorsDisclosed:S}),f&&(d=f)}else o&&(h=Ee(null==r?void 0:r.CCPA,""));return j(j(j(j(j({action:s,analytics:Ee(c,!1),appVersion:be().replace("SDK-","")},p&&{consentMeta:p}),{consents:u}),h&&{consentString:h}),d&&{acString:d}),{controllerId:t.controllerId,language:t.selectedLanguage,settingsId:t.id,settingsVersion:t.version,xdevice:Ee(l,!1)})},Le=function(e,t){return e.reduce((function(e,n){var i=t[n];if(!(null==i?void 0:i.name))return e;var s=i.name;return Y(Y([],z(e),!1),[{id:n,name:s}],!1)}),[])};function _e(e){return Y([],z(new Set(e)),!1)}var De,Oe,Re,Ne,Ve,ke,xe,Ue,Pe,Fe,Me=function(e){return e&&"object"===s(e)},Be=function e(t,n,i){void 0===i&&(i=!1);var s=j({},n);if(!Me(s))throw new Error("Source param should be an object");return Me(t)?(Object.keys(t).forEach((function(n){var r,o,a,c,l,u=t[n],d=s[n];void 0!==d&&(s=Array.isArray(u)&&Array.isArray(d)?j(j({},s),i?((r={})[n]=(l=u.concat(d)).filter((function(e,t){return l.indexOf(e)===t})),r):((o={})[n]=u,o)):Me(u)&&Me(d)?j(j({},s),((a={})[n]=e(j({},u),d),a)):j(j({},s),((c={})[n]=u,c)))})),s):s},$e=function(e,t,n,i){return void 0===n&&(n=2e4),void 0===i&&(i=5),new Promise((function(s,r){var o=setInterval((function(){e()&&(clearTimeout(a),clearInterval(o),s())}),i),a=setTimeout((function(){clearTimeout(a),clearInterval(o),r(new Error(t))}),n)}))},Ge=function(e,t){for(var n=e.split("."),i=t.split("."),s=Math.min(n.length,i.length),r=0;r<s;r+=1){var o=Number(n[r])||0,a=Number(i[r])||0;if(o!==a)return o>a?1:-1}return i.length-n.length};!function(e){e[e.COOKIE=0]="COOKIE",e[e.WEB=1]="WEB",e[e.APP=2]="APP"}(De||(De={})),function(e){e.LEFT="LEFT",e.CENTER="CENTER",e.RIGHT="RIGHT"}(Oe||(Oe={})),function(e){e.CAT="CAT",e.SRV="SRV"}(Re||(Re={})),function(e){e.AVAILABLE_LANGUAGES_NOT_FOUND="Unable to find available languages using given settingsId and version.",e.FETCH_ACM_VENDORS="Something went wrong while fetching the atp vendors.",e.FETCH_AVAILABLE_LANGUAGES="Something went wrong while fetching the available languages.",e.FETCH_DATA_PROCESSING_SERVICES="Something went wrong while fetching the data processing services.",e.FETCH_LEGAL_BASIS="Something went wrong while fetching the legal data translations.",e.FETCH_SETTINGS="Something went wrong while fetching the settings.",e.FETCH_USER_CONSENTS="Something went wrong while fetching the user's consents.",e.FETCH_USER_COUNTRY="Something went wrong while fetching the user's country.",e.FETCH_USER_TCF_DATA="Something went wrong while fetching the user's tcf data.",e.GENERATE_DATA_PROCESSING_SERVICES="Something went wrong while generating the data processing services.",e.RULESET_NOT_FOUND="Config Map not found!",e.TAGLOGGER="Tag logger API is being called just before browser unload, some browsers like firefox cancel the api call and throw the error.",e.SAVE_CONSENTS="Something went wrong while saving user consents.",e.SAVE_CONSENTS_RETRY="Number of retries exceeded for saving user consents.",e.SETTINGS_NOT_FOUND="Unable to find settings using given settingsId and version.",e.CUSTOM_REFERRER_NOT_VALID="A custom referrer was passed to setTrackingPixel but it is not a valid URL. Origin and pathname will be passed instead."}(Ne||(Ne={})),function(e){e.US_CA_ONLY="US_CA_ONLY",e.US="US"}(Ve||(Ve={})),function(e){e[e.FIRST_LAYER=1]="FIRST_LAYER",e[e.SECOND_LAYER=3]="SECOND_LAYER"}(ke||(ke={})),function(e){e[e.DATA_LAYER=1]="DATA_LAYER",e[e.WINDOW_EVENT=4]="WINDOW_EVENT"}(xe||(xe={})),function(e){e.DATA_COLLECTED_LIST="dataCollectedList",e.DATA_PURPOSES_LIST="dataPurposesList",e.DATA_RECIPIENTS_LIST="dataRecipientsList",e.TECHNOLOGY_USED="technologyUsed"}(Ue||(Ue={})),function(e){e.MAJOR="major",e.MINOR="minor",e.PATCH="patch"}(Pe||(Pe={})),function(e){e.ICON="ICON",e.LINK="LINK"}(Fe||(Fe={}));var He,je={acceptAllButton:"Accept All",ccpaButton:"Agree to CCPA",ccpaMoreInformation:"More Information",closeButton:"Close Second Layer",collapse:"Collapse",cookiePolicyButton:"Open Cookie Policy",copyControllerId:"Copy Controller ID",denyAllButton:"Deny all",expand:"Expand",fullscreenButton:"Enter full screen",imprintButton:"Open Imprint",languageSelector:"Select language",privacyButton:"Open",privacyPolicyButton:"Open Privacy Policy",saveButton:"Save",serviceInCategoryDetails:"View Service details",servicesInCategory:"List of Services in this category",tabButton:"Tab",usercentricsCard:"Card",usercentricsCMPButtons:"Footer including buttons",usercentricsCMPContent:"Content",usercentricsCMPHeader:"Header including language selection and external links",usercentricsCMPUI:"Consent Management Platform Interface",usercentricsList:"List",vendorConsentToggle:"Consent",vendorDetailedStorageInformation:"Detailed Storage Information",vendorLegIntToggle:"Legitimate Interest"},qe=function(e,t){return"boolean"==typeof e?e:t},Je=function(e){if(!e)return null;var t=e.startsWith("#")?e:"#".concat(e);return ze(t)?t:"#0045A5"},ze=function(e){return!(""===e||!e)&&/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(e)},Ye=function(e){if(null!=e.firstLayer.isOverlayEnabled)return e.firstLayer.isOverlayEnabled;var t=e.backgroundOverlay.find((function(e){var t;return(null===(t=e.target)||void 0===t?void 0:t[0])===ke.FIRST_LAYER}));return!!t&&(null==t?void 0:t.darken)>0},We=function(e){if(null!=e.secondLayer.isOverlayEnabled)return e.secondLayer.isOverlayEnabled;var t=e.backgroundOverlay.find((function(e){var t;return(null===(t=e.target)||void 0===t?void 0:t[0])===ke.SECOND_LAYER}));return!!t&&(null==t?void 0:t.darken)>0},Qe=function(e){return"number"==typeof e||"string"==typeof e&&!e.includes("px")?"".concat(e,"px"):e},Ke=function(e){switch(e){case Oe.CENTER:return"center";case Oe.RIGHT:return"right";case Oe.LEFT:default:return"left"}},Xe={description:"",id:"",legalBasis:[],name:""},Ze=function(e,t){return e.reduce((function(e,n){var i=t.find((function(e){return e.id===n.id}));return i?Y(Y([],z(e),!1),[{categorySlug:n.categorySlug,consent:n.consent,id:n.id,language:n.language,name:i.name,processorId:n.processorId,version:n.version}],!1):Y([],z(e),!1)}),[])},et=function e(t,n){return t.map((function(t){var i=n.find((function(e){return e.id===t.id}));return j(j(j({},t),i||Xe),{description:t.description||(null==i?void 0:i.description)||Xe.description,id:t.id,subServices:e(t.subServices,n)})}))},tt=function(e){return e&&["6pQCTVMo7mVG8N","9aVGlQzKS","PaMK9K2B4","_v9nurqi9","y7uLonfofrs_0R","gtnldVdT-","y0wwoAe-13YS1z","UDSViM719","4P4lKGrvj","QbxscVYVd"].includes(e)?"https://usercentrics.com/usercentrics-data-shield/":"https://www.usercentrics.com/consent-management-platform-powered-by-usercentrics/"},nt=function(e){return null!=e&&null!=e.region},it=function(e){return null!=e&&null!=e.changedPurposes},st=function(e){var t;return null!=e&&null!=(null===(t=e.buttons)||void 0===t?void 0:t.optOutNotice)},rt=function(e){return null!=e&&null!=e.vendor},ot=function(e){var t;return null!=e&&null!=(null===(t=e.buttons)||void 0===t?void 0:t.showSecondLayer)},at=function(e){return null!=e&&(st(e)||ot(e)||rt(e))},ct=function(e){var t,n;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.showShortDescriptionOnMobile)&&null==(null===(n=e.firstLayer)||void 0===n?void 0:n.isCategoryTogglesEnabled)},lt=function(e){var t;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.hideNonIabPurposes)},ut=function(e){var t;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.isCategoryTogglesEnabled)},dt=function(){function e(){this.ampEnabled=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.ampEnabled=!1},e.prototype.isAmpEnabled=function(){return this.ampEnabled},e.prototype.setIsAmpEnabled=function(e){this.ampEnabled=e},e}(),ht="latest",pt={EU_URI:{AGGREGATOR:"https://aggregator.eu.usercentrics.eu/aggregate/",CDN:"https://config.eu.usercentrics.eu",FETCH_CONSENTS:"https://consents.eu.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics.eu",FETCH_TCF_DATA:"https://consents.eu.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.eu.usercentrics.eu/consentState",GRAPHQL:"https://api.eu.usercentrics.eu/graphql",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.eu.usercentrics.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics.eu/aggregate/",CDN:"https://api.usercentrics.eu",FETCH_CONSENTS:"https://consents.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics.eu",FETCH_TCF_DATA:"https://consents.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.usercentrics.eu/consentState",GRAPHQL:"https://graphql.usercentrics.eu/graphql",RULESET:"https://api.usercentrics.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics.eu/session/1px.png"}},gt={EU_URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",RULESET:"https://api.usercentrics-sandbox.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"}},ft=["onEssentialChange","onInitialPageLoad","onNonEURegion"],vt=["onSessionRestored","onMobileSessionRestore"],mt=function(e,t,n){return q(void 0,void 0,void 0,(function(){return J(this,(function(i){return[2,St(e,t,null,n)]}))}))},yt=function(e,t,n,i){return q(void 0,void 0,void 0,(function(){return J(this,(function(s){return[2,St(e,n,t,i)]}))}))},St=function(e,t,n,i){return q(void 0,void 0,void 0,(function(){var s,r;return J(this,(function(o){return s={"content-type":"application/json"},r=j(j({},i),{headers:s,method:n?"POST":"GET"}),n&&(r.body=JSON.stringify(n)),(null==i?void 0:i.headers)&&(r.headers=j(j({},s),i.headers)),[2,fetch(e,r).then((function(e){return q(void 0,void 0,void 0,(function(){return J(this,(function(n){if(e.ok)return[2,It(e)];throw bt(t,e.status)}))}))}))]}))}))},bt=function(e,t){return{errorMessage:e,statusCode:t}},It=function(e){return q(void 0,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return[4,Ct(e)];case 1:return[2,{data:t.sent(),location:e.headers.get("x-client-geo-location"),statusCode:e.status}]}}))}))},Ct=function(e){return q(void 0,void 0,void 0,(function(){var t,n;return J(this,(function(i){switch(i.label){case 0:return[4,e.text()];case 1:return t=i.sent(),[2,(n=""===t?{}:JSON.parse(t)).data||n]}}))}))};!function(e){e[e.RESOURCE_NOT_FOUND=403]="RESOURCE_NOT_FOUND"}(He||(He={}));var wt,Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},At={exports:{}},Tt={exports:{}};Tt.exports=(wt=wt||function(e,t){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==Et&&Et.crypto&&(i=Et.crypto),!i)try{i=n(730)}catch(e){}var s=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},a=o.lib={},c=a.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,s=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<s;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=o<<24-(i+r)%4*8}else for(var a=0;a<s;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(s());return new l.init(t,e)}}),u=o.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new l.init(n,t/2)}},h=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new l.init(n,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},g=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,s=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,u=e.min(4*c,r);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(s,d);n=s.splice(0,c),i.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=o.algo={};return o}(Math),wt),At.exports=function(e){return function(t){var n=e,i=n.lib,s=i.WordArray,r=i.Hasher,o=n.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,s=0;s<64;)e(i)&&(s<8&&(a[s]=n(t.pow(i,.5))),c[s]=n(t.pow(i,1/3)),s++),i++}();var l=[],u=o.SHA256=r.extend({_doReset:function(){this._hash=new s.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],s=n[1],r=n[2],o=n[3],a=n[4],u=n[5],d=n[6],h=n[7],p=0;p<64;p++){if(p<16)l[p]=0|e[t+p];else{var g=l[p-15],f=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,v=l[p-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[p]=f+l[p-7]+m+l[p-16]}var y=i&s^i&r^s&r,S=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+c[p]+l[p];h=d,d=u,u=a,a=o+b|0,o=r,r=s,s=i,i=b+(S+y)|0}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,s=8*e.sigBytes;return n[s>>>5]|=128<<24-s%32,n[14+(s+64>>>9<<4)]=t.floor(i/4294967296),n[15+(s+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=r._createHelper(u),n.HmacSHA256=r._createHmacHelper(u)}(Math),e.SHA256}(Tt.exports);var Lt,_t=At.exports,Dt=new Uint8Array(16);function Ot(){if(!Lt&&!(Lt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lt(Dt)}for(var Rt=[],Nt=0;Nt<256;++Nt)Rt.push((Nt+256).toString(16).slice(1));var Vt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function kt(e,t,n){if(Vt.randomUUID&&!t&&!e)return Vt.randomUUID();var i=(e=e||{}).random||(e.rng||Ot)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=i[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Rt[e[t+0]]+Rt[e[t+1]]+Rt[e[t+2]]+Rt[e[t+3]]+"-"+Rt[e[t+4]]+Rt[e[t+5]]+"-"+Rt[e[t+6]]+Rt[e[t+7]]+"-"+Rt[e[t+8]]+Rt[e[t+9]]+"-"+Rt[e[t+10]]+Rt[e[t+11]]+Rt[e[t+12]]+Rt[e[t+13]]+Rt[e[t+14]]+Rt[e[t+15]]).toLowerCase()}(i)}var xt=function(){function e(){this.needsSessionRestore=!1,this.controllerId=""}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.controllerId=""},Object.defineProperty(e.prototype,"value",{get:function(){return this.controllerId},set:function(e){this.controllerId=e},enumerable:!1,configurable:!0}),e.prototype.setControllerIdByResolvedSettingsId=function(e,t){var n=t.find((function(t){var n=t.settingsId;return e===n}));n&&(this.value=n.controllerId)},e.prototype.setNeedSessionRestore=function(){this.needsSessionRestore=""!==this.controllerId},e.prototype.init=function(){if(""===this.controllerId){var e=this.getStorageControllerId();this.controllerId=e||this.generateControllerId()}},e.prototype.generateControllerId=function(){return"".concat(_t(kt()))},e.prototype.getStorageControllerId=function(){return ye.fetchControllerId()},e}(),Ut=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","IS","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],Pt=function(){function e(){this.userCountryData={},this.convertUserCountryString=function(e){var t=null==e?void 0:e.split(","),n=t&&t[0]?t[0]:"DE";return{countryCode:n,countryName:n||"Germany (default)",regionCode:t&&t[1]&&t[1].length>=3?t[1].substring(2):""}}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.userCountryData={}},e.prototype.setUserCountryData=function(e){this.userCountryData=e},e.prototype.getUserCountryData=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.userCountryData]}))}))},e.prototype.getIsUserInCalifornia=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.getIsUserInUS("CA")]}))}))},e.prototype.getIsUserInEU=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.getUserCountryData()];case 1:return e=t.sent(),[2,Se(Ut,e.code.toUpperCase())]}}))}))},e.prototype.getIsUserInUS=function(e){return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return[4,this.getUserCountryData()];case 1:return[2,"US"===(t=n.sent()).code&&(!e||t.regionCode===e)]}}))}))},e.prototype.resolveLocation=function(t){return q(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return n=this.convertUserCountryString(t),[4,e.getInstance().getUserCountryData()];case 1:return i=s.sent(),we(i)||(ye.setUserCountryResponse(n),this.setUserCountryData({code:n.countryCode,name:n.countryName,regionCode:n.regionCode})),[2]}}))}))},e.mapUserCountryData=function(e){return{countryCode:e.code,countryName:e.name,regionCode:e.regionCode}},e}(),Ft={numOfAttempts:7,onFirstFail:function(){},onFirstRetriedSuccess:function(){},startingDelay:100,timeMultiple:2};function Mt(e,t){return void 0===t&&(t={}),q(this,void 0,void 0,(function(){var n;return J(this,(function(i){switch(i.label){case 0:return n=function(e){var t=j(j({},Ft),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}(t),[4,new $t(e,n).execute()];case 1:return[2,i.sent()]}}))}))}var Bt,$t=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return q(this,void 0,void 0,(function(){var e,t;return J(this,(function(n){switch(n.label){case 0:if(this.attemptLimitReached)return[3,7];n.label=1;case 1:return n.trys.push([1,5,,6]),this.attemptNumber?[4,this.wait(this.delay)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[4,this.request()];case 4:return e=n.sent(),this.attemptNumber&&this.options.onFirstRetriedSuccess(),[2,e];case 5:if(t=n.sent(),this.attemptNumber||this.options.onFirstFail(),this.attemptNumber+=1,this.attemptLimitReached)throw t;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!1,configurable:!0}),e.prototype.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.attemptNumber;return e*Math.pow(t,n)},enumerable:!1,configurable:!0}),e}(),Gt=function(e,t){return{id:e,version:t}},Ht=function(e){if(!e)return[];var t,n,i=e.reduce((function(e,t){return Y(Y([],z(e),!1),[Gt(t.templateId,t.version)],!1)}),[]);return function(e,t){return e.sort((function(e,t){return e.id>t.id?1:-1}))}((t=function(e,t){return e.id===t.id&&e.version===t.version},n=[],i.forEach((function(e){-1===n.findIndex((function(n){return t(e,n)}))&&n.push(e)})),n))},jt=function(){function e(){this.API=pt,this.abTestVariant="",this.controllerIdInstance=xt.getInstance(),this.jsonCacheBustingString="",this.jsonFileLanguage="",this.jsonFileVersion=ht,this.settingsId="",this.rulesetId="",this.useEuCdn=!1,this.disableServerConsents=!1,this.aggregatedServicesCache=null,this.translationsCache=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.jsonCacheBustingString="",e.instance.jsonFileLanguage="",e.instance.jsonFileVersion=ht,e.instance.settingsId="",e.instance.disableServerConsents=!1},e.prototype.resetAggregatedServicesCache=function(){this.aggregatedServicesCache=null},e.prototype.resetTranslationsCache=function(){this.translationsCache=null},e.prototype.getAbTestVariant=function(){return this.abTestVariant},e.prototype.getJsonFileLanguage=function(){return this.jsonFileLanguage},e.prototype.getJsonFileVersion=function(){return this.jsonFileVersion},e.prototype.getSettingsId=function(){return this.settingsId},e.prototype.getRulesetId=function(){return this.rulesetId},e.prototype.getDisableServerConsents=function(){return this.disableServerConsents},e.prototype.setJsonCacheBustingString=function(e){this.jsonCacheBustingString=e},e.prototype.setJsonFileLanguage=function(e){this.jsonFileLanguage=e},e.prototype.setJsonFileVersion=function(e){this.jsonFileVersion=e},e.prototype.setDisableServerConsents=function(e){this.disableServerConsents=e},e.prototype.setDomains=function(e,t){this.API=e?gt:t?{EU_URI:{AGGREGATOR:pt.EU_URI.AGGREGATOR,CDN:pt.EU_URI.CDN,FETCH_CONSENTS:pt.EU_URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:pt.EU_URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:pt.EU_URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:pt.EU_URI.FETCH_TCF_DATA_V2,GRAPHQL:pt.EU_URI.GRAPHQL,SAVE_CONSENTS_V2:pt.EU_URI.SAVE_CONSENTS_V2,TRACK_EVENT:pt.EU_URI.TRACK_EVENT,TRACK_SESSION:pt.EU_URI.TRACK_SESSION},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:j(j({AGGREGATOR:""!==t.aggregator?"".concat(t.aggregator,"/aggregate/"):pt.URI.AGGREGATOR,CDN:""!==t.cdn?t.cdn:pt.URI.CDN,RULESET:pt.URI.RULESET},""!==t.consents?{FETCH_CONSENTS:"".concat(t.consents,"/consentsHistory"),FETCH_CONSENTS_V2:"".concat(t.consents),FETCH_TCF_DATA:"".concat(t.consents,"/consentsHistoryTCF"),FETCH_TCF_DATA_V2:"".concat(t.consents,"/consentState")}:{FETCH_CONSENTS:pt.URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:pt.URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:pt.URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:pt.URI.FETCH_TCF_DATA_V2}),{GRAPHQL:""!==t.graphql?"".concat(t.graphql,"/graphql"):pt.URI.GRAPHQL,SAVE_CONSENTS_V2:""!==t.consentsV2?"".concat(t.consentsV2,"/consent"):pt.URI.SAVE_CONSENTS_V2,TRACK_EVENT:""!==t.trackingEvent?"".concat(t.trackingEvent,"/uct"):pt.URI.TRACK_EVENT,TRACK_SESSION:""!==t.app?"".concat(t.app,"/session/1px.png"):pt.URI.TRACK_SESSION})}:pt},e.prototype.setSettingsId=function(e){this.settingsId=e},e.prototype.setRulesetId=function(e){this.rulesetId=e},e.prototype.setEuMode=function(e){this.useEuCdn=e},e.prototype.isEuMode=function(){return this.useEuCdn},e.prototype.getAggregatorUri=function(){return this.isEuMode()?this.API.EU_URI.AGGREGATOR:this.API.URI.AGGREGATOR},e.prototype.getCdnUri=function(){return this.isEuMode()?this.API.EU_URI.CDN:this.API.URI.CDN},e.prototype.getGraphQLUri=function(){return this.isEuMode()?this.API.EU_URI.GRAPHQL:this.API.URI.GRAPHQL},e.prototype.getTcfDataV2Uri=function(){return this.isEuMode()?this.API.EU_URI.FETCH_TCF_DATA_V2:this.API.URI.FETCH_TCF_DATA_V2},e.prototype.fetchAggregatedServices=function(e,t){return void 0===t&&(t=!0),q(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return this.aggregatedServicesCache&&t?[2,this.aggregatedServicesCache]:(n="".concat(this.getAggregatorUri()).concat(this.jsonFileLanguage,"?templates=").concat(e.map((function(e){return"".concat(e.id,"@").concat(e.version)})).join(",")),[4,mt(n,Ne.GENERATE_DATA_PROCESSING_SERVICES)]);case 1:return i=s.sent(),t&&(this.aggregatedServicesCache=i.data.templates),[2,i.data.templates]}}))}))},e.prototype.fetchRuleset=function(){var e;return q(this,void 0,void 0,(function(){var t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.createRulesetUrl(),[4,mt(t,Ne.RULESET_NOT_FOUND)];case 1:return n=r.sent(),i=null===(e=n.location)||void 0===e?void 0:e.split(","),[2,{defaultRule:n.data.defaultRule,description:n.data.description,location:{code:i?i[0]:"",name:n.location||"",regionCode:i&&i[1]?i[1]:""},rules:n.data.rules}];case 2:throw(s=r.sent()).statusCode&&s.statusCode===He.RESOURCE_NOT_FOUND&&(s.errorMessage=Ne.RULESET_NOT_FOUND),s;case 3:return[2]}}))}))},e.prototype.fetchAvailableLanguages=function(){return q(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=this.createAvailableLanguagesUrl(),[4,mt(e,Ne.FETCH_AVAILABLE_LANGUAGES)];case 1:return t=i.sent(),[4,Pt.getInstance().resolveLocation(t.location)];case 2:return i.sent(),[2,t.data.languagesAvailable];case 3:throw(n=i.sent()).statusCode&&n.statusCode===He.RESOURCE_NOT_FOUND&&(n.errorMessage=Ne.AVAILABLE_LANGUAGES_NOT_FOUND),n;case 4:return[2]}}))}))},e.prototype.fetchTranslations=function(){return q(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:if(this.translationsCache)return[2,this.translationsCache];i.label=1;case 1:return i.trys.push([1,3,,4]),e=this.createLanguagesUrl(),[4,mt(e,Ne.FETCH_LEGAL_BASIS)];case 2:return t=i.sent(),this.translationsCache=t.data,[2,t.data];case 3:return(n=i.sent()).statusCode&&n.statusCode===He.RESOURCE_NOT_FOUND&&(n.errorMessage=Ne.FETCH_LEGAL_BASIS),[2,null];case 4:return[2]}}))}))},e.prototype.mergeAbVariant=function(e){return q(this,void 0,void 0,(function(){var t,n,i;return J(this,(function(s){switch(s.label){case 0:if(t=JSON.parse(e.data.variants.experiments),"UC"===e.data.variants.activateWith)return n=Object.keys(t),this.abTestVariant=ye.fetchAbTestVariant(n),[2,Be(t[this.abTestVariant],e.data)];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,$e((function(){return!!window.UC_AB_VARIANT}),"window.UC_AB_VARIANT is not defined",2e3)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),console.warn(i),[3,4];case 4:return window.UC_AB_VARIANT&&t&&t[window.UC_AB_VARIANT]?(this.abTestVariant=window.UC_AB_VARIANT,[2,Be(t[window.UC_AB_VARIANT],e.data)]):[2,e.data]}}))}))},e.prototype.fetchAcmVendors=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return e=this.createAcmVendorsJsonUrl(),[4,mt(e,Ne.FETCH_ACM_VENDORS)];case 1:return[2,t.sent().data]}}))}))},e.prototype.fetchSettingsJson=function(){return q(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),e=this.createSettingsJsonUrl(),[4,mt(e,Ne.FETCH_SETTINGS)];case 1:return t=i.sent(),["ccpa","firstLayer","secondLayer"].forEach((function(e){t.data[e]||(t.data[e]={})})),t.data.tcf2&&(t.data.tcf2.selectedVendorIds=(t.data.tcf2.selectedVendorIds||[]).sort((function(e,t){return e-t}))),t.data.consentTemplates&&(t.data.consentTemplates=t.data.consentTemplates.reduce((function(e,t){return t.isDeactivated||e.push(t),e}),[])),t.data.variants&&t.data.variants.enabled&&function(e,t){try{JSON.parse(e)}catch(t){return console.warn("Invalid JSON string from ".concat("A/B Testing",': "').concat(e,'"')),!1}return!0}(t.data.variants.experiments)?[4,this.mergeAbVariant(t)]:[3,3];case 2:return[2,i.sent()];case 3:return[2,t.data];case 4:throw(n=i.sent()).statusCode&&n.statusCode===He.RESOURCE_NOT_FOUND&&(n.errorMessage=Ne.SETTINGS_NOT_FOUND),n;case 5:return[2]}}))}))},e.prototype.fetchUserConsents=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return this.getDisableServerConsents()?[3,2]:(e=this.createFetchUserConsentsUrl(),[4,mt(e,Ne.FETCH_USER_CONSENTS)]);case 1:return[2,t.sent().data.reverse()];case 2:return[2,[]]}}))}))},e.prototype.fetchUserConsentsV2=function(e,t){return q(this,void 0,void 0,(function(){var n,i,s,r,o,a,c,l;return J(this,(function(u){switch(u.label){case 0:return n=function(e){return Y(Y([],z(ft),!1),z(vt),!1).includes(e)?"implicit":"explicit"},this.getDisableServerConsents()?[3,2]:(i=this.createFetchUserConsentsV2Url(),[4,mt(i,Ne.FETCH_USER_CONSENTS)]);case 1:return s=u.sent(),r=s.data,o=null,a=null,e&&(c=JSON.parse(r.consentMeta),o={acString:r.acString||"",tcString:r.consentString,timestamp:c.timestamp,vendors:c.vendors,vendorsDisclosed:c.vendorsDisclosed}),t&&(a={ccpaString:r.consentString,timestamp:r.timestamp||Date.now()}),l=r.consents.reduce((function(e,t){return Y(Y([],z(e),!1),[{action:r.action,consentId:"",settingsVersion:r.settingsVersion,status:t.consentStatus,templateId:t.consentTemplateId,timestamp:r.timestamp||Date.now(),updatedBy:n(r.action)}],!1)}),[]),[2,j(j({consents:l},a&&{ccpa:a}),o&&{tcf:o})];case 2:return[2,null]}}))}))},e.prototype.fetchUserTcfData=function(){return q(this,void 0,void 0,(function(){var e,t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return this.getDisableServerConsents()?[3,2]:(e=this.createFetchUserTcfDataUrl(),[4,mt(e,Ne.FETCH_USER_TCF_DATA)]);case 1:return t=r.sent(),n=t.data,i=n.tcString,s=n.meta,[2,j({tcString:i},JSON.parse(s)||{})];case 2:return[2,null]}}))}))},e.prototype.fetchUserTcfDataV2=function(){return q(this,void 0,void 0,(function(){var e,t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return e=this.createFetchUserTcfDataV2Url(),[4,mt(e,Ne.FETCH_USER_TCF_DATA)];case 1:if((t=r.sent()).data&&t.data.tcf2)return n=t.data.tcf2,i=n.tcString,s=n.meta,[2,j({tcString:i},JSON.parse(s)||{})];throw new Error(Ne.FETCH_USER_TCF_DATA)}}))}))},e.prototype.saveTCFConsents=function(e,t,n,i,s,r){return q(this,void 0,void 0,(function(){var o,a,c,l,u,d,h;return J(this,(function(p){switch(p.label){case 0:return o={consent:{status:!0},id:"tcf2",name:"tcf2",processorId:"abcd",version:"1.0.0"},a=t.tcString,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(t,["tcString"]),l=[],r&&(u=Ae(e,o,n,i),d={consentMeta:{TCF2:JSON.stringify(c)},consentString:{TCF2:a},dataTransferObjects:[u]},l.push(this.saveConsentsV1_DEPRECATED(d))),s&&(h=Te({consentAction:n,consentString:{TCF2:a},dataTransferSettings:e,isAnalyticsEnabled:!0===s.isAnalyticsEnabled,isCcpa:!1,isConsentXDeviceEnabled:!0===s.isConsentAPIv2Enabled,isTcf:!0}),l.push(this.saveConsents(h))),[4,Promise.all(l)];case 1:return p.sent(),[2]}}))}))},e.prototype.saveConsentsV1_DEPRECATED=function(e){return q(this,void 0,void 0,(function(){var t,n,i,s=this;return J(this,(function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=qt(),n=Jt(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Mt((function(){return yt(s.getGraphQLUri(),n,Ne.SAVE_CONSENTS,t)}),{onFirstFail:function(){return ye.appendToConsentsBuffer(e)},onFirstRetriedSuccess:function(){var t=ye.findBufferItem(e);t&&ye.removeConsentsBufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(i=r.sent())instanceof Error&&console.error("".concat(Ne.SAVE_CONSENTS_RETRY,": ").concat(i.message)),console.error(Ne.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}}))}))},e.prototype.saveConsents=function(e){return q(this,void 0,void 0,(function(){var t,n,i,s;return J(this,(function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=this.createSaveConsentsV2Url(),n=e,i=qt(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Mt((function(){return yt(t,n,Ne.SAVE_CONSENTS,i)}),{onFirstFail:function(){return ye.appendToConsentsV2Buffer(e)},onFirstRetriedSuccess:function(){var t=ye.findV2BufferItem(e);t&&ye.removeConsentsV2BufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(s=r.sent())instanceof Error&&console.error("".concat(Ne.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ne.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}}))}))},e.prototype.sendConsents=function(e,t){return yt(this.getGraphQLUri(),e,Ne.SAVE_CONSENTS,t)},e.prototype.sendConsentsV2=function(e,t){return yt(this.createSaveConsentsV2Url(),e,Ne.SAVE_CONSENTS,t)},e.prototype.saveConsentsFromBuffer=function(){var e,t,n,i;return q(this,void 0,void 0,(function(){var s,r,o,a,c,l,u=this;return J(this,(function(d){switch(d.label){case 0:if(this.getDisableServerConsents())return[3,13];if(s=ye.fetchConsentsBuffer(),!Array.isArray(s)||!s.length)return[3,13];d.label=1;case 1:d.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return J(this,(function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=qt(),n=Jt(e.consents),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,Mt((function(){return u.sendConsents(n,t)}))];case 3:return r.sent(),ye.removeConsentsBufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(Ne.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ne.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}}))},o=!0,a=W(s),d.label=2;case 2:return[4,a.next()];case 3:return c=d.sent(),(e=c.done)?[3,6]:[5,r()];case 4:d.sent(),d.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return l=d.sent(),t={error:l},[3,13];case 8:return d.trys.push([8,,11,12]),o||e||!(n=a.return)?[3,10]:[4,n.call(a)];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}}))}))},e.prototype.saveConsentsV2FromBuffer=function(){var e,t,n,i;return q(this,void 0,void 0,(function(){var s,r,o,a,c,l,u=this;return J(this,(function(d){switch(d.label){case 0:if(this.getDisableServerConsents())return[3,13];if(s=ye.fetchConsentsV2Buffer(),!Array.isArray(s)||!s.length)return[3,13];d.label=1;case 1:d.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return J(this,(function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=qt(),n=e.consents,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,Mt((function(){return u.sendConsentsV2(n,t)}))];case 3:return r.sent(),ye.removeConsentsV2BufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(Ne.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ne.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}}))},o=!0,a=W(s),d.label=2;case 2:return[4,a.next()];case 3:return c=d.sent(),(e=c.done)?[3,6]:[5,r()];case 4:d.sent(),d.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return l=d.sent(),t={error:l},[3,13];case 8:return d.trys.push([8,,11,12]),o||e||!(n=a.return)?[3,10]:[4,n.call(a)];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}}))}))},e.prototype.setTrackingPixel=function(e){var t,n="".concat(document.location.origin).concat(document.location.pathname);e.referrer?function(e){try{return Boolean(new URL(e))}catch(e){return!1}}(e.referrer)?t=e.referrer:(console.warn(Ne.CUSTOM_REFERRER_NOT_VALID),t=n):t=n;var i=(new Date).getTime(),s=encodeURIComponent(t),r="".concat(this.isEuMode()?this.API.EU_URI.TRACK_EVENT:this.API.URI.TRACK_EVENT,"?v=").concat(1,"&sid=").concat(this.settingsId,"&t=").concat(e.eventType,"&abv=").concat(e.abTestVariant,"&r=").concat(s,"&cb=").concat(i);(new Image).src=r},e.prototype.updateTagLoggerData=function(e){var t=this.settingsId,n=window.location.href,i=zt({settingsId:t,source:n,targets:e});this.saveTagLoggerData(i)},e.prototype.addJsonCacheBustingString=function(e){return this.jsonCacheBustingString?"".concat(e,"?c=").concat(this.jsonCacheBustingString):e},e.prototype.createAvailableLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion,"/languages.json"))},e.prototype.createLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.TRANSLATIONS,"/translations-").concat(this.jsonFileLanguage,".json"))},e.prototype.getSettingsUrl=function(){return"".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion)},e.prototype.createSettingsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getSettingsUrl(),"/").concat(this.jsonFileLanguage,".json"))},e.prototype.createAcmVendorsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/tcfac/acp.json"))},e.prototype.createSessionTrackingUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.TRACK_SESSION:this.API.URI.TRACK_SESSION,"?settingsId=").concat(this.settingsId)},e.prototype.createFetchUserConsentsUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS:this.API.URI.FETCH_CONSENTS,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS_V2:this.API.URI.FETCH_CONSENTS_V2,"?settingsId=").concat(this.getSettingsId(),"&controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataUrl=function(){return"".concat(this.API.URI.FETCH_TCF_DATA,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataV2Url=function(){return"".concat(this.getTcfDataV2Uri(),"?controllerId=").concat(this.controllerIdInstance.value,"&tcf2=true&settingsId=").concat(this.settingsId)},e.prototype.createRulesetUrl=function(){return"".concat(this.API.URI.RULESET,"/").concat(this.API.FOLDER.RULESET,"/").concat(this.rulesetId,".json")},e.prototype.createSaveConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.SAVE_CONSENTS_V2:this.API.URI.SAVE_CONSENTS_V2,"/uw/").concat(3)},e.prototype.saveTagLoggerData=function(e){try{yt(this.getGraphQLUri(),e,"",j(j({},qt()),{keepalive:!0}))}catch(e){console.warn(Ne.TAGLOGGER,e)}},e}(),qt=function(){return{credentials:"omit",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","X-Request-ID":kt()},mode:"cors"}},Jt=function(e){var t=e.dataTransferObjects,n=e.consentMeta,i=e.consentString;return{query:"mutation saveConsents($consents: [NewCreateConsentInput], $consentMeta: ConsentMeta, $consentString: ConsentString)\n      {\n        saveConsents(consents: $consents, consentMeta: $consentMeta, consentString: $consentString) { data { consentId } }\n      }",variables:{consentMeta:n,consents:Yt(t),consentString:i}}},zt=function(e){return{operationName:"saveTagLoggerData",query:"mutation saveTagLoggerData($settingsId: String, $source: String, $targets: [String])\n        {\n          saveTagLoggerData(settingsId: $settingsId, source: $source, targets: $targets)\n        }",variables:{settingsId:e.settingsId,source:e.source,targets:e.targets}}},Yt=function(e){return e.map((function(e){return{action:e.consent.action,appVersion:e.applicationVersion,consentStatus:e.consent.status?"1":"0",consentTemplateId:e.service.id,consentTemplateVersion:e.service.version,controllerId:e.settings.controllerId,language:e.settings.language,processorId:e.service.processorId,referrerControllerId:e.settings.referrerControllerId,settingsId:e.settings.id,settingsVersion:e.settings.version,updatedBy:e.consent.type}}))};!function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.NOT_SET=2]="NOT_SET"}(Bt||(Bt={}));var Wt,Qt=function(){function e(){this.isBotEnabled=!1,this.isBot=Bt.NOT_SET}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.isBot=Bt.NOT_SET},e.prototype.isRobot=function(){if(this.isBot===Bt.NOT_SET)if(this.isBotEnabled){var e=window.navigator.userAgent,t=new RegExp("bingbot/|BingPreview/|DuckDuckBot/|Google Page Speed Insights|Google PP|Google Search Console|Google Web Preview|Googlebot/|Googlebot-Image/|Googlebot-Mobile/|Googlebot-News|Googlebot-Video/|Google-SearchByImage|Google-Structured-Data-Testing-Tool|Chrome-Lighthouse|YahooSeeker|YahooCacheSystem|Yahoo! Site Explorer Feed Validator|Yahoo! Slurp|Slurp/","i");this.isBot=t.test(e)?Bt.YES:Bt.NO}else this.isBot=Bt.NO;return this.isBot===Bt.YES},e}(),Kt="UC_SDK_EVENT",Xt=["LykAT-gy","UekC8ye4S","9V8bg4D63","ByzZ5EsOsZX","S1_9Vsuj-Q","dqFgQeZH","twMyStLkn","B1Hk_zoTX","pxiRY9112","dyHOCwp5Y","DHS2sEi4b"],Zt=["HkocEodjb7","87JYasXPF"],en=function(){function e(){this.dataLayerNames=[],this.windowEventNames=[],this.dataLayer=new Map,this.blockDataLayerPush=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setBlockDataLayerPush=function(e){this.blockDataLayerPush=e},e.prototype.shouldBlockDataLayerPush=function(){return this.blockDataLayerPush},e.resetInstance=function(){e.instance.dataLayerNames=[],e.instance.windowEventNames=[],e.instance.dataLayer=new Map},e.prototype.init=function(e){var t=this;e.forEach((function(e){e.type===R.DATA_LAYER?t.dataLayerNames=Ee(e.names,[]):e.type===R.WINDOW_EVENT&&(t.windowEventNames=Ee(e.names,[]))})),this.windowEventNames.includes(Kt)||this.windowEventNames.push(Kt)},e.prototype.setDataLayer=function(e,t){this.dataLayer.set(t,e)},e.prototype.getDataLayer=function(){return this.dataLayer},e.prototype.dispatch=function(e,t,n){Ce(e)&&(this.pushEventsToDataLayer(e,t,n),this.dispatchWindowEvents(e,n))},e.prototype.isValidDataLayer=function(e){return window[e]&&(Array.isArray(window[e])||Object.prototype.hasOwnProperty.call(window[e],"push"))},e.prototype.pushEventsToDataLayer=function(e,t,n){var i=this;Ce(this.dataLayerNames)&&this.dataLayerNames.forEach((function(s){if(window[s]=Ee(window[s],[]),!i.isValidDataLayer(s))throw Error("DataLayer: ".concat(s," is not of a valid type!"));if(t&&"dataLayer"===s){var r=!1,o=!1,a=!1,c=!1,l=!1;nn("set","developer_id.dOThhZD",!0),e.forEach((function(e){var t=e.service.id,n=e.consent,i=n.status,s=n.type,o=n.action;Zt.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===o)&&(r=r||i,l=!0),Xt.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===o)&&(c=!0,l=!0,i||(a=!0))})),c&&!a&&(o=!0);var u={adsDataRedaction:!o};if(l){u=j(j({},u),{adPersonalization:o?"granted":"denied",adStorage:o?"granted":"denied",adUserData:o?"granted":"denied",analyticsStorage:r?"granted":"denied"}),nn("consent","update",{ad_personalization:u.adPersonalization,ad_storage:u.adStorage,ad_user_data:u.adUserData,analytics_storage:u.analyticsStorage}),ye.saveGcmData(u);var d=new window.CustomEvent("UC_GCM_UPDATE",{detail:u});window.dispatchEvent(d)}nn("set","ads_data_redaction",u.adsDataRedaction)}window[s].push(tn(e,n)),i.setDataLayer(window[s],s),i.shouldBlockDataLayerPush()||"explicit"===e[0].consent.type&&e.forEach((function(e){e.consent.status||window[s].push({event:"".concat(e.service.name," EXPLICIT_DENY")})}))}))},e.prototype.dispatchWindowEvents=function(e,t){if(Ce(this.windowEventNames)){var n=tn(e,t);this.windowEventNames.forEach((function(e){var t=new window.CustomEvent(e,{detail:n});window.dispatchEvent(t)}))}},e}(),tn=function(e,t){var n={action:null!=t?t:e[0].consent.action,event:"consent_status",type:e[0].consent.type,ucCategory:{}};return e.forEach((function(e){var t,i,s,r=(null===(i=e.service.categorySlug)||void 0===i?void 0:i.length)&&Object.prototype.hasOwnProperty.call(n.ucCategory,e.service.categorySlug);n=j(j({},n),((t={})[e.service.name]=e.consent.status,t)),(null===(s=e.service.categorySlug)||void 0===s?void 0:s.length)&&(n.ucCategory[e.service.categorySlug]=r&&n.ucCategory[e.service.categorySlug]!==e.consent.status?null:e.consent.status)})),n},nn=function(){window.dataLayer.push(arguments)},sn="en",rn="https://api.usercentrics.eu/tcf2/",on="https://api.usercentrics.eu/gvl/v3/",an="https://config.eu.usercentrics.eu/tcf2/",cn="https://config.eu.usercentrics.eu/gvl/v3/",ln="[LANG].json",un="[LANG].json",dn="en-v2.json",hn="en.json";!function(e){e.TEXT_JAVASCRIPT="text/javascript",e.TEXT_PLAIN="text/plain"}(Wt||(Wt={}));var pn,gn,fn="data-usercentrics",vn=function(){function e(){}return e.enableScriptsForServicesWithConsent=function(t){var n=e.getDisabledScripts();Array.prototype.forEach.call(n,(function(n){e.disabledScriptHasConsent(t,n)&&e.enableScript(n)}))},e.getDisabledScripts=function(){return document.querySelectorAll("script[".concat(fn,'][type="').concat(Wt.TEXT_PLAIN,'"]'))},e.disabledScriptHasConsent=function(e,t){return e.some((function(e){return e.name===t.getAttribute(fn)}))},e.enableScript=function(t){var n,i,s;i=t.src?e.createSrcScriptTag(t):e.createInlineScriptTag(t),(s=(n=t).parentNode)&&s.replaceChild(i,n)},e.createSrcScriptTag=function(t){var n=e.cloneScriptTag(t);return n.removeAttribute(fn),n.type=Wt.TEXT_JAVASCRIPT,n},e.createInlineScriptTag=function(t){var n=e.cloneScriptTag(t);n.removeAttribute(fn);var i=document.createTextNode(t.text);return n.appendChild(i),n.type=Wt.TEXT_JAVASCRIPT,n},e.cloneScriptTag=function(e){var t=document.createElement("script");return Array.from(e.attributes).forEach((function(e){t.setAttribute(e.name,e.value)})),t},e}(),mn=function(e,t,n){var i,s;this.anyDomain=e.anyDomain||"any domain (ex. first party cookie)",this.cookieRefresh=(null==t?void 0:t.COOKIE_REFRESH)||(null===(i=null==n?void 0:n.labels)||void 0===i?void 0:i.COOKIE_REFRESH)||"Cookie Refresh",this.cookieStorage=(null==t?void 0:t.COOKIE_STORAGE)||(null===(s=null==n?void 0:n.labels)||void 0===s?void 0:s.COOKIE_STORAGE)||"Cookie Storage",this.day=e.day,this.days=e.days,this.description=e.storageInformationDescription||"Below you can see the longest potential duration for storage on a device, as set when using the cookie method of storage and if there are any other methods used.",this.domain=e.domain||"Domain",this.duration=e.duration||"Duration",this.error=e.informationLoadingNotPossible||"Sorry; we could not load the required information.",this.hour=e.hour,this.hours=e.hours,this.identifier=e.identifier||"Identifier",this.loading=e.loadingStorageInformation||"Loading storage information",this.maximumAge=e.maximumAgeCookieStorage||"Maximum age of cookie storage",this.minute=e.minute,this.minutes=e.minutes,this.month=e.month,this.months=e.months,this.multipleDomains=e.multipleDomains||"multiple subdomains may exist",this.name=e.name||"Name",this.no=e.no||"no",this.nonCookieStorage=e.nonCookieStorage||"Non-cookie storage",this.purposes=e.purposes||"Purposes",this.second=e.second||"second",this.seconds=e.seconds||"seconds",this.session=e.session||"Session",this.storedInformation=e.storedInformation||"Stored Information",this.storedInformationDescription=e.storedInformationDescription||"This service uses different means of storing information on a users device as listed below.",this.title=e.storageInformation||"Storage Information",this.titleDetailed=e.detailedStorageInformation||"Detailed Storage Information",this.tryAgain=e.tryAgain||"Try again?",this.type=e.type||"Type",this.year=e.year,this.years=e.years,this.yes=e.yes||"yes"},yn=function(e,t){var n=e.defaultConsentStatus;return{history:[],status:!!(null==t?void 0:t.isEssential)||n}},Sn=function(e,t){return(null==e?void 0:e.description)||(null==t?void 0:t.descriptionOfService)||(null==t?void 0:t.description)||""},bn=function(e,t,n){var i,s=null==n?void 0:n.find((function(t){return e.templateId===t.templateId&&e.version===t.version})),r=(null==t?void 0:t.legalBasis)&&e.legalBasisList?e.legalBasisList.reduce((function(e,n){return(null==t?void 0:t.legalBasis[n])?Y(Y([],z(e),!1),[null==t?void 0:t.legalBasis[n]],!1):e}),[]):[];this.description=Sn(e,s),this.id=e.templateId,this.legalBasis=s&&!e.disableLegalBasis?function(e,t){var n=e.legalBasisList,i=e.legalGround;return t.length>0?t:function(e,t){return Ce(e)?e:[t]}(n,i)}(s,r):[],this.name=(null===(i=e._meta)||void 0===i?void 0:i.name)||(null==s?void 0:s.dataProcessor)||(null==s?void 0:s.dataProcessors[0])||""},In=function(e){function t(t,n,i,s){var r,o,a,c,l,u,d,h=this;h=e.call(this)||this;var p=t.labels;if(h.ariaLabels=(null==i?void 0:i.labelsAria)||je,h.categories=n.categories.map((function(e){return{description:e.description,label:e.label,slug:e.categorySlug}})),h.cookieInformation=new mn(p,null,i),h.general={back:(null===(r=null==i?void 0:i.labels)||void 0===r?void 0:r.BACK)||"Back",consentGiven:p.accepted,consentNotGiven:p.denied,consentType:p.consentType,controllerId:(null===(o=null==i?void 0:i.labels)||void 0===o?void 0:o.CID_TITLE)||"Controller ID",copied:p.copied,copy:p.copy,date:p.date,decision:p.decision,details:(null===(a=null==i?void 0:i.labels)||void 0===a?void 0:a.DETAILS)||"Details",explicit:p.explicit,gpcSignalHonored:(null===(c=null==i?void 0:i.labels)||void 0===c?void 0:c.GPC_SIGNAL_HONORED)||p.gpcSignalHonored||"The GPC signal is honored",implicit:p.implicit,implicitNo:p.noImplicit,implicitYes:p.yesImplicit,privacyButton:p.btnChipName,showLess:p.readLess,showMore:p.btnBannerReadMore||p.showMore,subservice:(null===(l=null==i?void 0:i.labels)||void 0===l?void 0:l.SUB_SERVICE)||"Subservice",subservices:(null===(u=null==i?void 0:i.labels)||void 0===u?void 0:u.SUB_SERVICES)||"Subservices",subservicesDescription:(null===(d=null==i?void 0:i.labels)||void 0===d?void 0:d.SUB_SERVICES_DESCRIPTION)||"Below you can find all the services that are subordinate to this service. The current consent status of this service applies to all subservices."},h.links={cookiePolicy:{ariaLabel:je.cookiePolicyButton,label:Ee(p.cookiePolicyLinkText,""),url:t.cookiePolicyUrl},imprint:{ariaLabel:je.imprintButton,label:p.imprintLinkText||null,url:t.imprintUrl},privacyPolicy:{ariaLabel:je.privacyPolicyButton,label:p.privacyPolicyLinkText,url:t.privacyPolicyUrl}},t.integrations&&t.integrations.mine){var g={mine:{ariaLabel:"",label:t.integrations.mine[0].privacyCenterLabel,url:t.integrations.mine[0].privacyCenterUrl}};h.integrationLinks=j(j({},h.integrationLinks),g)}return h.poweredBy={label:"Powered by",partnerUrlLabel:Ee(p.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"},h.service={dataCollected:{description:p.dataCollectedInfo,title:p.dataCollectedList},dataDistribution:{processingLocationDescription:p.locationofProcessingInfo,processingLocationTitle:p.locationOfProcessing,thirdPartyCountriesDescription:p.transferToThirdCountriesInfo,thirdPartyCountriesTitle:p.transferToThirdCountries},dataProtectionOfficer:{description:p.dataProtectionOfficerInfo,title:p.dataProtectionOfficer},dataPurposes:{description:p.dataPurposesInfo,title:p.dataPurposes},dataRecipients:{description:p.dataRecipientsListInfo,title:p.dataRecipientsList},descriptionTitle:p.descriptionOfService,history:{description:null,title:p.history},legalBasis:{description:p.legalBasisInfo,title:p.legalBasisList},processingCompanyTitle:p.processingCompany,retentionPeriod:{description:p.retentionPeriodInfo,title:p.retentionPeriod},technologiesUsed:{description:p.technologiesUsedInfo,title:p.technologiesUsed},urls:{cookiePolicyTitle:p.cookiePolicyInfo,optOutTitle:p.optOut,privacyPolicyTitle:p.policyOf}},h.services=n.consentTemplates.reduce((function(e,t){var n=new bn(t,i,s);return Y(Y([],z(e),!1),[n],!1)}),[]),h}return T(t,e),t}((function(){this.ariaLabels=je})),Cn=function(e){function t(t,n,i,s){var r=e.call(this,t,n,i,s)||this;return r.buttons={optOutNotice:t.ccpa.optOutNoticeLabel||"Do not sell my personal information",save:t.ccpa.btnSave||"okay",showSecondLayer:t.ccpa.btnMoreInfo||t.labels.btnMore},r.firstLayer={description:{default:t.ccpa.firstLayerDescription||"",short:t.ccpa.firstLayerMobileDescription||"",shortDesktop:t.ccpa.firstLayerShortMessage||"",shortMobile:t.ccpa.firstLayerMobileDescription||""},title:t.ccpa.firstLayerTitle||""},r.secondLayer={categoryTab:t.secondLayer.tabsCategoriesLabel,description:t.ccpa.secondLayerDescription||"",serviceTab:t.secondLayer.tabsServicesLabel,title:t.ccpa.secondLayerTitle||""},r}return T(t,e),t}(In),wn=function(e,t){var n;this.acceptAllImplicitlyOutsideEU=e.displayOnlyForEU,this.consentAnalytics=Ee(e.consentAnalytics,!1),this.consentAPIv2=Ee(e.consentAPIv2,!1),this.consentXDevice=Ee(e.consentXDevice,!1),this.consentSharingIFrameIsActive=e.consentSharingIFrameIsActive,this.dataExchangeSettings=e.dataExchangeOnPage.reduce((function(e,t){return t.type===xe.DATA_LAYER?e.push({names:t.names,type:R.DATA_LAYER}):t.type===xe.WINDOW_EVENT&&e.push({names:t.names,type:R.WINDOW_EVENT}),e}),[]),this.googleConsentMode=e.googleConsentMode,this.id=e.settingsId,this.isCcpaEnabled=(null===(n=e.ccpa)||void 0===n?void 0:n.isActive)||!1,this.isEmbeddingsEnabled=!0,this.isTagLoggerActive=e.tagLoggerIsActive,this.isTcfEnabled=e.tcf2Enabled||!1,this.language={available:e.languagesAvailable,selected:t},this.reshowBanner=Ee(e.reshowBanner,-1),this.showFirstLayerOnVersionChange=e.showInitialViewForVersionChange.map((function(e){switch(e){case Pe.MAJOR:return N.MAJOR;case Pe.MINOR:return N.MINOR;case Pe.PATCH:default:return N.PATCH}})),this.version=e.version},En=function(e){function t(t,n,i,s){var r,o,a,c=this;return(c=e.call(this,t,n,i,s)||this).buttons={acceptAll:t.labels.btnAcceptAll,cnilDeny:(null===(r=null==i?void 0:i.labels)||void 0===r?void 0:r.CNIL_DENY_LINK_TEXT)||"Continuer sans accepter",denyAll:t.labels.btnDeny,save:t.labels.btnSave,showSecondLayer:t.labels.btnMore},c.firstLayer={description:{default:t.bannerMessage||"",short:t.bannerMobileDescription||"",shortDesktop:t.firstLayer.shortMessage||"",shortMobile:t.bannerMobileDescription||""},title:Ee(t.labels.firstLayerTitle,"Privacy Settings")},c.secondLayer={acceptButtonLabel:t.secondLayer.acceptButtonText,categoryTab:t.secondLayer.tabsCategoriesLabel,dataTransferFilter:{all:(null===(o=null==i?void 0:i.labels)||void 0===o?void 0:o.ALL)||"All",thirdCountry:(null===(a=null==i?void 0:i.labels)||void 0===a?void 0:a.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},denyButtonLabel:t.secondLayer.denyButtonText,description:t.labels.titleCorner,serviceTab:t.secondLayer.tabsServicesLabel,title:t.labels.headerCorner},c}return T(t,e),t}(In),An=function(e,t,n){this.privacyButton=Ee(null==n?void 0:n.labelsAria.privacyButton,""),this.services=e.consentTemplates.reduce((function(e,i){var s=new bn(i,n,t);return Y(Y([],z(e),!1),[s],!1)}),[])},Tn=function(){function e(){this.needsSessionRestore=!1,this.apiInstance=jt.getInstance(),this.locationInstance=Pt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.noShow},e.prototype.unsetNoShow=function(){delete this.noShow},e.prototype.getIsUsingNoShow=function(){return void 0!==this.noShow},e.prototype.getNoShow=function(){return!0===this.noShow},e.prototype.setNoShow=function(e){this.noShow=e},e.prototype.resolveSettingsId=function(){return q(this,void 0,void 0,(function(){var e,t,n,i,s,r,o,a;return J(this,(function(c){switch(c.label){case 0:return[4,this.apiInstance.fetchRuleset()];case 1:return e=c.sent(),n="",i=e.location,s=e.rules,r=e.defaultRule,o=r.settingsId,a=r.noShow,i&&i.code&&(t=i.regionCode&&s.find((function(e){var t;return null===(t=e.locations)||void 0===t?void 0:t.includes(i.regionCode)}))||s.find((function(e){var t;return null===(t=e.locations)||void 0===t?void 0:t.includes(i.code)})),this.locationInstance.setUserCountryData(i),ye.setUserCountryResponse(Pt.mapUserCountryData(i))),this.unsetNoShow(),t?(n=t.settingsId,void 0!==t.noShow&&this.setNoShow(!0===t.noShow)):(n=o,this.setNoShow(!0===a)),[2,{name:"Resolved Settings Id",noShow:this.getNoShow(),settingsId:n}]}}))}))},e}(),Ln=function(e){this.cookieMaxAgeSeconds=null,this.cookieRefresh=null,this.dataCollected=[],this.dataDistribution=null,this.dataProtectionOfficer=null,this.dataPurposes=[],this.dataRecipients=[],this.deviceStorage=null,this.deviceStorageDisclosureUrl=null,this.language=null,this.processingCompany=null,this.retentionPeriodDescription=null,this.technologiesUsed=[],this.urls=null,this.usesCookies=null,this.usesNonCookieAccess=null,this.cookieMaxAgeSeconds=Ee(null==e?void 0:e.cookieMaxAgeSeconds,null),this.cookieRefresh=Ee(null==e?void 0:e.cookieRefresh,null),this.dataCollected=e?_n(e,Ue.DATA_COLLECTED_LIST):[],this.dataDistribution=e?On(e):null,this.dataProtectionOfficer=Ee(null==e?void 0:e.dataProtectionOfficer,null),this.dataPurposes=e?Dn(e):[],this.dataRecipients=e?_n(e,Ue.DATA_RECIPIENTS_LIST):[],this.description=Sn(null,e),this.deviceStorage=Ee(null==e?void 0:e.deviceStorage,null),this.deviceStorageDisclosureUrl=Ee(null==e?void 0:e.deviceStorageDisclosureUrl,null),this.language=e?Rn(e):null,this.processingCompany=e?Nn(e):null,this.retentionPeriodDescription=e?Vn(e):null,this.technologiesUsed=e?_n(e,Ue.TECHNOLOGY_USED):[],this.usesCookies=Ee(null==e?void 0:e.usesCookies,null),this.usesNonCookieAccess=Ee(null==e?void 0:e.usesNonCookieAccess,null),this.urls=e?kn(e):null},_n=function(e,t){var n;return Ce(e[t])?e[t]:(null===(n=e[t])||void 0===n?void 0:n.length)>0?[e[t]]:[]},Dn=function(e){var t=_n(e,Ue.DATA_PURPOSES_LIST);return Ce(t)?t:e.dataPurposes},On=function(e){return{processingLocation:e.locationOfProcessing,thirdPartyCountries:e.thirdCountryTransfer?e.thirdCountryTransfer.split(","):[]}},Rn=function(e){return{available:e.languagesAvailable,selected:e.language}},Nn=function(e){return{address:e.addressOfProcessingCompany,dataProtectionOfficer:e.dataProtectionOfficer,name:e.nameOfProcessingCompany||e.processingCompany}},Vn=function(e){var t;return e.retentionPeriodDescription||(null===(t=e.retentionPeriodList)||void 0===t?void 0:t[0])||""},kn=function(e){return{cookiePolicy:e.cookiePolicyURL,dataProcessingAgreement:e.linkToDpa,optOut:e.optOutUrl,privacyPolicy:e.privacyPolicyURL||e.policyOfProcessorUrl}},xn=function(e){function t(t,n,i,s,r){var o,a,c,l=this;l=e.call(this,t,n,s,r)||this;var u=t.labels,d=t.tcf2;return l.cookieInformation.purposes=d.labelsPurposes,l.buttons={acceptAll:d.buttonsAcceptAllLabel,denyAll:d.buttonsDenyAllLabel,manageSettings:d.linksManageSettingsLabel,save:d.buttonsSaveLabel,showVendorTab:d.linksVendorListLinkLabel},l.firstLayer={description:{additionalInfo:d.firstLayerAdditionalInfo||null,dataSharedOutsideEUText:d.showDataSharedOutsideEUText&&d.dataSharedOutsideEUText?d.dataSharedOutsideEUText:null,default:d.firstLayerDescription.replace("%VENDOR_COUNT%",i.toString()),resurfaceNote:d.firstLayerNoteResurface||null},disclaimer:{serviceScope:d.firstLayerNoteService},title:d.firstLayerTitle},l.secondLayer={dataSharedOutsideEU:{text:(null===(o=null==s?void 0:s.labels)||void 0===o?void 0:o.VENDORS_OUTSIDE_EU)||null,title:u.transferToThirdCountries},dataTransferFilter:{all:(null===(a=null==s?void 0:s.labels)||void 0===a?void 0:a.ALL)||"All",thirdCountry:(null===(c=null==s?void 0:s.labels)||void 0===c?void 0:c.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},description:d.secondLayerDescription,purposesTab:d.tabsPurposeLabel,title:d.secondLayerTitle,vendorsTab:d.tabsVendorsLabel},l.titles={acmVendors:d.atpListTitle,examples:d.examplesLabel||"Examples",features:d.labelsFeatures,iabVendors:d.labelsIabVendors,nonIabPurposes:d.labelsNonIabPurposes,nonIabVendors:d.labelsNonIabVendors,purposes:d.labelsPurposes},l.toggles={consent:t.tcf2.togglesConsentToggleLabel,legitimateInterest:t.tcf2.togglesLegIntToggleLabel,specialFeaturesToggle:{offLabel:t.tcf2.togglesSpecialFeaturesToggleOff,onLabel:t.tcf2.togglesSpecialFeaturesToggleOn}},l.vendor={dataCategories:d.categoriesOfDataLabel,dataRetention:d.dataRetentionPeriodLabel,dataRetentionUnit:u.days,features:d.vendorFeatures,legitimateInterest:d.vendorLegitimateInterestPurposes,legitimateInterestClaim:d.legitimateInterestLabel,privacyPolicy:u.privacyPolicyLinkText,purposes:d.vendorPurpose,specialFeatures:d.vendorSpecialFeatures,specialPurposes:d.vendorSpecialPurposes,toggleAll:d.labelsActivateAllVendors},l.acmVendor={privacyPolicy:d.atpAdditionalInfo},l}return T(t,e),t}(In),Un=function(){function e(){this.aggregatedServices=[],this.allLegacyServicesHaveName=!1,this.isVariantLoaded=!1,this.isAggregatorLoaded=!1,this.language="",this.translations=null,this.botInstance=Qt.getInstance(),this.locationInstance=Pt.getInstance(),this.rulesetInstance=Tn.getInstance(),this.apiInstance=jt.getInstance(),this._core=null,this._coreJson=null,this._data=null,this._dpsJson=null,this._labels=null,this._legacySettings=null,this._ui=null,this.controllerIdInstance=xt.getInstance(),this.acceptAllImplicitlyOnInit=null,this.denyAllExplicitlyOnInit=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.allLegacyServicesHaveName=!1,e.instance.core=null,e.instance.data=null,e.instance.labels=null,e.instance.legacySettings=null,e.instance.ui=null,e.instance.dpsJson=null,e.instance.coreJson=null},Object.defineProperty(e.prototype,"core",{get:function(){return this._core},set:function(e){this._core=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coreJson",{get:function(){return this._coreJson},set:function(e){this._coreJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dpsJson",{get:function(){return this._dpsJson},set:function(e){this._dpsJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"legacySettings",{get:function(){return this._legacySettings},set:function(e){this._legacySettings=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},set:function(e){this._ui=e},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,n){return q(this,void 0,void 0,(function(){return J(this,(function(i){return this.language=n,this.core=new wn(e,n),this.coreJson=e,this.dpsJson=t,this.isAggregatorLoaded=!1,this.allLegacyServicesHaveName=this.checkIfServiceNameExists(t.consentTemplates),this.isAggregatorLoaded=!1,[2]}))}))},e.prototype.initData=function(e,t,i,s,r,o,a){return void 0===t&&(t=[]),void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===r&&(r=[]),void 0===o&&(o=!1),void 0===a&&(a=!1),q(this,void 0,void 0,(function(){var c,l,u,d,h,p,g=this;return J(this,(function(f){switch(f.label){case 0:if(l=(c=this).coreJson,u=c.dpsJson,d=c.legacySettings,!l||!u)return[2];switch(h=this.controllerIdInstance.value,p=(null==t?void 0:t.length)?t:this.aggregatedServices,e){case 0:return[3,1];case 2:return[3,3];case 1:return[3,5]}return[3,7];case 1:return[4,Promise.resolve().then(n.bind(n,692)).then((function(e){var t=new(0,e.default)(l,u,h,o);g.data=t}))];case 2:return f.sent(),[3,8];case 3:return d?[4,Promise.resolve().then(n.bind(n,464)).then((function(e){var t=e.default;return q(g,void 0,void 0,(function(){var e,n;return J(this,(function(o){switch(o.label){case 0:return(e=this.getDataTransferSettings())&&l.tcf2?(n=new t(d,l.tcf2,u,e,h,this.language,r,a),this.data=n,i?[4,n.init(s)]:[3,2]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))}))]:[2];case 4:return f.sent(),[3,8];case 5:return[4,Promise.resolve().then(n.bind(n,239)).then((function(e){var t=new(0,e.default)(u,h,p);g.data=t}))];case 6:return f.sent(),[3,8];case 7:console.error("Usercentrics: Unknown variant"),f.label=8;case 8:return this.isVariantLoaded=!0,[2]}}))}))},e.prototype.checkIfServiceNameExists=function(e){return e.every((function(e){var t;return null!=(null===(t=e._meta)||void 0===t?void 0:t.name)}))},e.prototype.initLabels=function(e,t,n){var i=this,s=i.coreJson,r=i.dpsJson,o=i.legacySettings,a=(null==n?void 0:n.length)?n:this.aggregatedServices;if(r&&this.core)if(o)switch(e){case 0:var c=new Cn(o,r,t,a);this.labels=c;break;case 1:var l=new En(o,r,t,a);this.labels=l;break;case 2:var u=new xn(o,r,this.getThirdPartyCount(),t,a);this.labels=u;break;default:console.error("Usercentrics: Unknown variant")}else{var d=new An(r,a,t),h=s?{label:"Powered by",partnerUrlLabel:Ee(s.labels.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"}:void 0;this.labels=j(j({},d),{poweredBy:h})}else console.error("Usercentrics: You have to call the init method before!")},e.prototype.initUI=function(e,t){return q(this,void 0,void 0,(function(){var i,s,r,o=this;return J(this,(function(a){switch(a.label){case 0:return s=(i=this).coreJson,r=i.legacySettings,s?2!==e?[3,2]:[4,Promise.resolve().then(n.bind(n,799)).then((function(e){var t,n=e.default,i=Re.CAT,a=!1;r&&(i=r.secondLayer.defaultView,a=r.secondLayer.hideDataProcessingServices);var c=new n(s,{defaultView:i,hideDataProcessingServices:a}),l=s.enablePoweredBy?{partnerUrl:s.partnerPoweredByUrl||null,url:tt(null==r?void 0:r.settingsId)}:null;o.ui=j(j({},c),{customCss:(null===(t=null==r?void 0:r.features)||void 0===t?void 0:t.customCss)&&r.useUnsafeCustomCss&&null!=r.stylesCss?r.stylesCss:null,poweredBy:l})}))]:[2];case 1:return a.sent(),[2];case 2:if(!r)return[2];switch(t){case 0:return[3,3];case 1:return[3,5];case 2:return[3,7]}return[3,9];case 3:return[4,Promise.resolve().then(n.bind(n,425)).then((function(e){var t=new(0,e.default)(s,r);o.ui=t}))];case 4:return a.sent(),[3,10];case 5:return[4,Promise.resolve().then(n.bind(n,81)).then((function(e){var t=new(0,e.default)(s,r);o.ui=t}))];case 6:return a.sent(),[3,10];case 7:return[4,Promise.resolve().then(n.bind(n,276)).then((function(e){var t=new(0,e.default)(s,r);o.ui=t}))];case 8:return a.sent(),[3,10];case 9:console.error("Usercentrics: Unknown variant"),a.label=10;case 10:return[2]}}))}))},e.prototype.getCcpaData=function(){return nt(this.data)?this.data:null},e.prototype.getDefaultData=function(){return function(e){return null!=e&&!nt(e)&&!it(e)}(this.data)?this.data:null},e.prototype.getTcfData=function(){return it(this.data)?this.data:null},e.prototype.getCcpaLabels=function(){return st(this.labels)?this.labels:null},e.prototype.getDefaultLabels=function(){return ot(this.labels)?this.labels:null},e.prototype.getTcfLabels=function(){return rt(this.labels)?this.labels:null},e.prototype.getCcpaUI=function(){return ct(this.ui)?this.ui:null},e.prototype.getDefaultUI=function(){return ut(this.ui)?this.ui:null},e.prototype.getTcfUI=function(){return lt(this.ui)?this.ui:null},e.prototype.getDataExchangeSettings=function(){return this.core?this.core.dataExchangeSettings:[]},e.prototype.getCategoriesData=function(){return this.data?this.data.categories:[]},e.prototype.getCategoriesBaseData=function(){var e=this;return this.data?this.data.categories.map((function(t){return{isEssential:t.isEssential,isHidden:t.isHidden,services:e.getServicesBaseInfo().filter((function(e){return e.categorySlug===t.slug})),slug:t.slug}})):[]},e.prototype.getCategoriesLabels=function(){return this.labels&&at(this.labels)?this.labels.categories:[]},e.prototype.getCategoriesDataAndLabels=function(){return function(e,t,n){return e.reduce((function(e,i){var s=t.find((function(e){return e.slug===i.slug})),r=et(i.services,n);return s&&e.push(j(j(j({},s),i),{services:r})),e}),[])}(this.getCategoriesData(),this.getCategoriesLabels(),this.getServicesLabels())},e.prototype.getCategoriesBasic=function(){var e=this.getCategoriesData(),t=this.getServicesLabels();return e.reduce((function(e,n){return Y(Y([],z(e),!1),[j(j({},n),{services:Ze(n.services,t)})],!1)}),[])},e.prototype.getCategoriesBaseInfo=function(){return this.getCategoriesDataAndLabels()},e.prototype.getCategoriesFullInfo=function(e,t){return q(this,void 0,void 0,(function(){return J(this,(function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getCategoriesDataAndLabels()]}}))}))},e.prototype.getDataTransferSettings=function(e){return this.core?{controllerId:this.controllerIdInstance.value,id:this.core.id,selectedLanguage:this.core.language.selected,version:e||this.core.version}:null},e.prototype.getEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce((function(e,t){return t.isEssential?Y(Y([],z(e),!1),[t],!1):e}),[]):this.getCategoriesBasic().filter((function(e){return e.isEssential}))},e.prototype.getEssentialCategoriesData=function(){return this.getCategoriesData().reduce((function(e,t){return t.isEssential?Y(Y([],z(e),!1),[t],!1):e}),[])},e.prototype.getNonEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce((function(e,t){return t.isEssential?e:Y(Y([],z(e),!1),[t],!1)}),[]):this.getCategoriesBasic().filter((function(e){return!e.isEssential}))},e.prototype.getNonEssentialCategoriesData=function(){return this.getCategoriesData().reduce((function(e,t){return t.isEssential?e:Y(Y([],z(e),!1),[t],!1)}),[])},e.prototype.getGoogleConsentMode=function(){return!!this.core&&this.core.googleConsentMode},e.prototype.getServicesLabels=function(){return this.labels?this.labels.services:[]},e.prototype.getServicesData=function(){return this.getCategoriesData().reduce((function(e,t){return Y(Y([],z(e),!1),z(t.services),!1)}),[])},e.prototype.getServicesDataAndLabels=function(){var e=this.getServicesData();return et(e,this.getServicesLabels())},e.prototype.getServicesBaseInfo=function(){var e,t;return e=this.mapBaseServices(this.getServicesData()),t=this.getServicesLabels(),e.reduce((function(e,n){var i=t.find((function(e){return e.id===n.id}));return Y(Y([],z(e),!1),[j(j(j({},n),i||Xe),{id:n.id})],!1)}),[])},e.prototype.getServicesFullInfo=function(e,t){return q(this,void 0,void 0,(function(){return J(this,(function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getServicesDataAndLabels()]}}))}))},e.prototype.getServicesFromCategories=function(e){return e.reduce((function(e,t){return e.concat(t.services)}),[])},e.prototype.getServicesWithConsent=function(){return this.getServicesDataAndLabels().reduce((function(e,t){return t.consent.status?Y(Y([],z(e),!1),[t],!1):e}),[])},e.prototype.areAllServicesAccepted=function(){return this.getServicesData().every((function(e){return e.consent.status}))},e.prototype.areAllVendorsAndPurposesAccepted=function(){var e=this.getTcfData();return!!e&&e.areAllPurposesAccepted()&&e.areAllVendorsAccepted()},e.prototype.extendServices=function(e,t){return q(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return(n=this.dpsJson)?(this.isAggregatorLoaded=!0,[4,this.fetchServices(n)]):[2];case 1:return(i=s.sent())&&0!==i.length?(this.aggregatedServices=i,this.initLabels(e,t,i),this.data&&(this.data.categories=this.data.categories.map((function(e){var t=n.categories.find((function(t){return t.categorySlug===e.slug}));return j(j({},e),{services:e.services.map((function(e){if(n.consentTemplates.find((function(t){return t.templateId===e.id}))&&t){var s=null==i?void 0:i.find((function(t){return e.id===t.templateId&&e.version===t.version})),r=new Ln(s);return j(j({},e),r)}return e}))})}))),[2]):[2]}}))}))},e.prototype.isCcpaEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isCcpaEnabled)||!1},e.prototype.isCcpaAvailable=function(){var e;if(this.isCcpaEnabled()&&null!=(null===(e=this.coreJson)||void 0===e?void 0:e.ccpa))switch(this.coreJson.ccpa.region){case Ve.US:return this.locationInstance.getIsUserInUS();case Ve.US_CA_ONLY:return this.locationInstance.getIsUserInCalifornia();default:return Promise.resolve(!0)}return Promise.resolve(!1)},e.prototype.isCrossDomainEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.consentSharingIFrameIsActive)||!1},e.prototype.isTcfEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isTcfEnabled)||!1},e.prototype.isTcfAvailable=function(){var e;return this.isTcfEnabled()&&null!=(null===(e=this.coreJson)||void 0===e?void 0:e.tcf2)},e.prototype.isTagLoggerActive=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isTagLoggerActive)||!1},e.prototype.mergeServicesIntoExistingCategories=function(e){return this.getCategoriesDataAndLabels().map((function(t){return j(j({},t),{services:t.services.map((function(t){return e.find((function(e){return e.id===t.id}))||t}))})}))},e.prototype.mergeServicesDataIntoExistingCategories=function(e){return this.getCategoriesData().map((function(t){return j(j({},t),{services:t.services.map((function(t){return e.find((function(e){return e.id===t.id}))||t}))})}))},e.prototype.setCategories=function(e){this.data&&(this.data.categories=e)},e.prototype.setControllerId=function(e){this.data&&(this.data.controllerId=e),it(this.data)&&this.data.updateControllerId(e)},e.prototype.updateServicesLanguage=function(e){this.data&&this.data.categories.map((function(t){return j(j({},t),{services:t.services.map((function(t){return j(j({},t),{language:j(j({},t.language),{selected:e})})}))})}))},e.prototype.shouldDenyAllExplicitlyOnInit=function(){var e;return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return null!==this.denyAllExplicitlyOnInit?[2,this.denyAllExplicitlyOnInit]:(t=this,[4,this.isCcpaAvailable()]);case 1:return t.denyAllExplicitlyOnInit=n.sent()&&!(null===(e=this.getCcpaData())||void 0===e?void 0:e.isExplicitConsented)&&!0===navigator.globalPrivacyControl||!1,[2,this.denyAllExplicitlyOnInit]}}))}))},e.prototype.shouldAcceptAllImplicitlyOnInit=function(){var e,t;return q(this,void 0,void 0,(function(){var n,i,s,r,o,a;return J(this,(function(c){switch(c.label){case 0:return null!==this.acceptAllImplicitlyOnInit?[2,this.acceptAllImplicitlyOnInit]:(n=this,(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()]);case 1:r=c.sent()&&!navigator.globalPrivacyControl,c.label=2;case 2:return(s=r)?[3,5]:(o=null===(e=this.core)||void 0===e?void 0:e.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null===(t=this.getTcfData())||void 0===t?void 0:t.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return n.acceptAllImplicitlyOnInit=i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow(),[2,this.acceptAllImplicitlyOnInit]}}))}))},e.prototype.shouldAcceptAllImplicitlyOnVendorAdded=function(){var e,t,n;return q(this,void 0,void 0,(function(){var i,s,r,o,a;return J(this,(function(c){switch(c.label){case 0:return(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()];case 1:r=c.sent()&&!(null===(e=this.getCcpaData())||void 0===e?void 0:e.isOptedOut),c.label=2;case 2:return(s=r)?[3,5]:(o=null===(t=this.core)||void 0===t?void 0:t.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null===(n=this.getTcfData())||void 0===n?void 0:n.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return[2,i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow()]}}))}))},e.prototype.shouldShowFirstLayerOnVersionChange=function(){var e=ye.fetchSettingsVersion();if(this.core&&e&&Ce(this.core.showFirstLayerOnVersionChange)){var t=this.core.version.split("."),n=e.split(".");return Se(this.core.showFirstLayerOnVersionChange,N.MAJOR)&&t[0]!==n[0]||Se(this.core.showFirstLayerOnVersionChange,N.MINOR)&&t[1]!==n[1]||Se(this.core.showFirstLayerOnVersionChange,N.PATCH)&&t[2]!==n[2]}return!1},e.prototype.getUpdatedServicesWithConsent=function(e){return this.getServicesDataAndLabels().map((function(t){if(!t.isEssential){var n=t;return n.consent.status=e===O.TRUE,n}return t}))},e.prototype.getUpdatedServicesDataWithConsent=function(e){return this.getServicesData().map((function(t){if(!t.isEssential){var n=t;return n.consent.status=e===O.TRUE,n}return t}))},e.prototype.getUpdatedServicesWithDecisions=function(e){return this.getServicesDataAndLabels().map((function(t){var n=e.find((function(e){return e.serviceId===t.id})),i=t;return i.consent.status=t.isEssential||(n?n.status:t.consent.status),i}))},e.prototype.getUpdatedServicesDataWithDecisions=function(e){return this.getServicesData().map((function(t){var n=e.find((function(e){return e.serviceId===t.id})),i=t;return i.consent.status=t.isEssential||(n?n.status:t.consent.status),i}))},e.prototype.updateDataTransferSettings=function(e){var t=e.controllerId,n=e.id,i=e.selectedLanguage,s=e.version;this.core&&this.data&&(this.data.controllerId=t,this.core.id=n,this.core.language.selected=i,this.core.version=s)},e.prototype.isTcfHistoryV2Disabled=function(){return!!it(this.data)&&!0===this.data.tcfv2HistoryDisabled},e.prototype.getTCFPurposeOneTreatment=function(){return it(this.data)&&this.data.purposeOneTreatment||!1},e.prototype.getTCFStackIds=function(){return it(this.data)?this.data.stackIds:[]},e.prototype.getTCFVendorIds=function(){return it(this.data)?this.data.vendorIds:[]},e.prototype.getTCFDisclosedVendorsSegmentString=function(){var e;return null===(e=this.getTcfData())||void 0===e?void 0:e.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(e){return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){return(t=this.getTcfData())?[2,t.injectTCString(e)]:[2,!1]}))}))},e.prototype.fetchServices=function(e){return q(this,void 0,void 0,(function(){var t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return(t=Ht(e.consentTemplates)).length?(n=jt.getInstance(),i=Qt.getInstance(),s=[],i.isRobot()?[3,2]:[4,n.fetchAggregatedServices(t)]):[2,null];case 1:s=r.sent(),r.label=2;case 2:return[2,s]}}))}))},e.prototype.mapBaseServices=function(e){return e.map((function(e){return{categorySlug:e.categorySlug,consent:e.consent,fetchSubServices:e.fetchSubServices,id:e.id,isEssential:e.isEssential,isHidden:e.isHidden,processorId:e.processorId,subServices:e.subServices,subServicesLength:e.subServicesLength,usesThirdCountry:e.usesThirdCountry,version:e.version}}))},e.prototype.getThirdPartyCount=function(){var e=it(this.data)?this.data.getVendorsCount():0;return this.getServicesData().length+e},e}(),Pn=function(){function e(){this.restoreAction=null,this.apiInstance=jt.getInstance(),this.controllerIdInstance=xt.getInstance(),this.eventDispatcherInstance=en.getInstance(),this.settingsV2=Un.getInstance(),this.botInstance=Qt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.userSessionData},e.prototype.execute=function(e,t,n,i,s,r){var o,a,c,l=this.settingsV2.getDataTransferSettings();if(l){var u=e.map((function(e){return Ae(l,e,n,i,e.categorySlug)})),d=Fn(t,u);if(!this.botInstance.isRobot()&&(r&&this.apiInstance.saveConsentsV1_DEPRECATED({consentString:s,dataTransferObjects:u}),null===(o=this.settingsV2.core)||void 0===o?void 0:o.consentAPIv2)){var h=Te({consentAction:n,consentString:s,dataTransferSettings:l,isAnalyticsEnabled:null===(a=this.settingsV2.core)||void 0===a?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null===(c=this.settingsV2.core)||void 0===c?void 0:c.consentXDevice,isTcf:!1,services:e});this.apiInstance.saveConsents(h)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d));var p=this.settingsV2.getServicesDataAndLabels(),g=ye.mapSettings(l,p);ye.saveSettings(g,p),vn.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(u,this.settingsV2.getGoogleConsentMode())}},e.prototype.getMergedServicesAndSettingsFromStorage=function(e){var t=e,n=ye.fetchSettings();if(n&&t){var i=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategories()),s=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategoriesData()),r=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategories()),o=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategoriesData()),a=this.getMergedAndUpdatedEssentialServices(i,n),c=this.getMergedAndUpdatedEssentialServices(s,n),l=this.getMergedNonEssentialServices(r,n),u=this.getMergedNonEssentialServices(o,n);return n.controllerId!==this.controllerIdInstance.value&&""===this.controllerIdInstance.value&&(this.controllerIdInstance.value=n.controllerId,t.controllerId=n.controllerId,it(t)&&t.updateControllerId(n.controllerId)),{dataTransferSettings:this.settingsV2.getDataTransferSettings(),mergedServices:a.mergedEssentialServices.concat(l),mergedServicesData:c.mergedEssentialServices.concat(u),mergedSettingsData:t,updatedEssentialServices:a.updatedEssentialServices}}return{dataTransferSettings:null,mergedServices:[],mergedServicesData:[],mergedSettingsData:t,updatedEssentialServices:[]}},e.prototype.getLatestConsentType=function(e){return e.length>0?e[e.length-1].type:"implicit"},e.prototype.getLatestConsentAction=function(e){return e.length>0?e[e.length-1].action:"onInitialPageLoad"},e.prototype.setUserSessionData=function(e){this.userSessionData=e},e.prototype.mergeServicesAndSettings=function(e,t,n,i,s,r){var o,a,c,l=this;if(!n)return[];if(Ce(i)){var u=i.map((function(e){return Ae(n,e,"onEssentialChange",l.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)})),d=Fn(t,u),h=Mn(t,d,s);if(r&&this.apiInstance.saveConsentsV1_DEPRECATED({dataTransferObjects:u}),null===(o=this.settingsV2.core)||void 0===o?void 0:o.consentAPIv2){var p=Te({consentAction:"onEssentialChange",dataTransferSettings:n,isAnalyticsEnabled:null===(a=this.settingsV2.core)||void 0===a?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null===(c=this.settingsV2.core)||void 0===c?void 0:c.consentXDevice,isTcf:this.settingsV2.isTcfAvailable(),services:i});this.apiInstance.saveConsents(p)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d)),ye.saveSettings(ye.mapSettings(n,h),h)}else this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(t)),ye.saveSettings(ye.mapSettings(n,e),e);return e.map((function(e){return Ae(n,e,l.getLatestConsentAction(e.consent.history),l.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)}))},e.prototype.restoreUserSession=function(e){var t,n,i;return q(this,void 0,void 0,(function(){var s;return J(this,(function(r){switch(r.label){case 0:return this.controllerIdInstance.value&&this.controllerIdInstance.needsSessionRestore&&(!(null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2)||(null===(n=this.settingsV2.core)||void 0===n?void 0:n.consentAPIv2)&&(null===(i=this.settingsV2.core)||void 0===i?void 0:i.consentXDevice))?[4,this.getCrossDeviceSessionData(this.controllerIdInstance.value)]:[3,2];case 1:s=r.sent(),r.label=2;case 2:if(!s&&this.userSessionData&&(s=j({},this.userSessionData)),!s&&window[X]&&"function"==typeof window[X].getUserSessionData)try{(null==(s=JSON.parse(window[X].getUserSessionData(),(function(e,t){if("timestamp"===e){var n=t.toString();return-1!==n.indexOf(".")?1e3*Number(n):Number(n)}return t})))?void 0:s.consents)&&(null==s?void 0:s.consents.length)&&!s.consents.every((function(e){return e.action}))&&(s.consents=s.consents.map((function(e){return j(j({},e),{action:"onMobileSessionRestore"})})),this.restoreAction="onMobileSessionRestore")}catch(e){}return s||!pe.isCrossDomainAvailable()?[3,4]:[4,this.getCrossDomainSessionData()];case 3:s=r.sent(),r.label=4;case 4:return s&&s.controllerId?[2,this.restoreData(s,e)]:(this.controllerIdInstance.needsSessionRestore=!1,[2,!1])}}))}))},e.prototype.getCrossDomainSessionData=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,pe.getCrossDomainSessionData().catch((function(){return console.warn(G.CROSS_DOMAIN_DATA_NOT_AVAILABLE),{}}))];case 1:return[2,e.sent()]}}))}))},e.prototype.getCrossDeviceSessionData=function(e){var t,n;return q(this,void 0,void 0,(function(){var i,s,r,o,a,c,l,u,d,h,p;return J(this,(function(g){switch(g.label){case 0:return i=["dWLDa0s-m","VkvM9IcSA","Zdgjo9gQh","r2tAWzO7","GVl-ixMH"],s=this.apiInstance.getSettingsId(),r=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return o=g.sent(),a=null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2,c=[],l=null,u=null,a?[4,this.apiInstance.fetchUserConsentsV2(r,o).catch((function(){return console.warn($.CROSS_DEVICE_DATA_NOT_AVAILABLE),null}))]:[3,3];case 2:return d=g.sent(),c=null!==(n=null==d?void 0:d.consents)&&void 0!==n?n:[],r&&(-1===i.indexOf(s)&&this.settingsV2.isTcfHistoryV2Disabled()||(l=null==d?void 0:d.tcf)),o&&(u=null==d?void 0:d.ccpa),[3,8];case 3:return[4,this.apiInstance.fetchUserConsents().catch((function(){return console.warn($.CROSS_DEVICE_DATA_NOT_AVAILABLE),[]}))];case 4:return h=g.sent(),c=h,r?-1===i.indexOf(s)?[3,6]:[4,this.apiInstance.fetchUserTcfData().catch((function(){return console.warn($.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null}))]:[3,8];case 5:return l=g.sent(),[3,8];case 6:return this.settingsV2.isTcfHistoryV2Disabled()?[3,8]:[4,this.apiInstance.fetchUserTcfDataV2().catch((function(){return console.warn($.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null}))];case 7:l=g.sent(),g.label=8;case 8:return r&&!l&&pe.isCrossDomainAvailable()?[4,this.getCrossDomainSessionData()]:[3,10];case 9:(p=g.sent())&&p.tcf&&p.controllerId===e&&(l=p.tcf),g.label=10;case 10:return[2,j(j({consents:c,controllerId:e,language:this.apiInstance.getJsonFileLanguage()},null!==l&&{tcf:l}),null!==u&&{ccpa:u})]}}))}))},e.prototype.restoreData=function(e,t){return q(this,void 0,void 0,(function(){var n,i,s,r,o,a,c,l,u,d,h,p,g,f,v,m,y,S,b=this;return J(this,(function(I){switch(I.label){case 0:return n=e.controllerId,i=e.consents,s=e.tcf,r=e.ccpa,o=this.settingsV2.core,a=this.getDataFacadeServices(t),c=ye.fetchControllerId(),this.controllerIdInstance.value=n,l=ye.fetchTCFData(),u=!1,!n||!Ce(i)&&a.length?[3,5]:(d=$n(i),h=ye.fetchServices(),"onSessionRestored"===e.consents[0].action&&n===c&&h.length===d.length&&h[0].history.length>0&&h[0].history[0].action&&"onSessionRestored"===h[0].history[0].action?[3,5]:[3,1]);case 1:return!Ce(d)&&a.length?[3,5]:(p=[],g=[],d.forEach((function(e){var t=a.findIndex((function(t){return t.id===e.templateId}));if(t>-1){var n=a[t],i=n;i.consent.status=e.status;var s=g.findIndex((function(e){return e.id===n.id}));-1===s?g.push(i):g[s]=i,a[t]=i;var r=b.settingsV2.getDataTransferSettings(e.settingsVersion);r&&p.push(Ae(r,i,e.action,e.updatedBy,n.categorySlug,{timestamp:"string"==typeof e.timestamp?b.resolveTimestamp(e.timestamp):e.timestamp}))}})),this.settingsV2.data&&this.settingsV2.setControllerId(n),f=void 0,v=void 0,o&&d.length&&(v=_e(d.map((function(e){return e.settingsVersion}))).sort(Ge)).length&&(f=v[v.length-1]),m=Fn(a,p),(y=this.settingsV2.getDataTransferSettings(f))?c&&n&&n!==c?[4,ye.clearAll()]:[3,3]:[3,4]);case 2:I.sent(),I.label=3;case 3:ye.saveSettings(ye.mapSettings(y,m),m),I.label=4;case 4:Ce(d)&&ye.setUserActionPerformed(!0),u=!0,I.label=5;case 5:return s&&s.tcString&&(s.tcString!==l.tcString||s.acString!==l.acString)&&(ye.saveTCFData(s),a.length||ye.setUserActionPerformed(!0)),S=this.settingsV2.getCcpaData(),r&&r.ccpaString&&S&&(S.setIsOptedOut(r.ccpaString),ye.setCcpaString(r.ccpaString),r.timestamp?ye.setCcpaTimeStamp(r):ye.clearCcpaData(),ye.setUserActionPerformed(!0)),[2,u]}}))}))},e.prototype.getDataFacadeServices=function(e){var t=this.settingsV2.checkIfServiceNameExists,n=e.categories,i=e.consentTemplates;if(i.length>0&&t(i))return i.map((function(e){var t,i=n.find((function(t){return t.categorySlug===e.categorySlug}));return{categorySlug:e.categorySlug,consent:yn(e,i),id:e.templateId,name:(null===(t=e._meta)||void 0===t?void 0:t.name)||"",processorId:"".concat(_t(kt())),version:e.version}}));var s=this.settingsV2.getServicesDataAndLabels();return s.length>0?s.map((function(e){return{categorySlug:e.categorySlug,consent:e.consent,id:e.id,name:e.name,processorId:e.processorId,version:e.version}})):[]},e.prototype.getMergedAndUpdatedEssentialServices=function(e,t){var n=this,i=[],s=e.map((function(e){var s,r,o=null===(s=t.services)||void 0===s?void 0:s.find((function(t){return t.id===e.id}));if(o){var a=e;return a.consent.history=o.history,a.consent.status=!0,a.processorId=o.processorId,a.categorySlug=(null===(r=n.settingsV2.getCategoriesBaseData().find((function(e){return e.services.some((function(e){return e.id===a.id}))})))||void 0===r?void 0:r.slug)||"",o.status||i.push(a),a}return e}));return{mergedEssentialServices:s,updatedEssentialServices:i}},e.prototype.getMergedNonEssentialServices=function(e,t){return e.map((function(e){var n,i,s=null===(n=t.services)||void 0===n?void 0:n.find((function(t){return t.id===e.id}));if(s)return(r=e).consent.history=s.history,r.consent.status=s.status,r.processorId=s.processorId,r;if(0===e.consent.history.length){var r=e,o=null===(i=t.services)||void 0===i?void 0:i.find((function(e){return e.history.length>0}));return r.consent.history=[{action:"onInitialPageLoad",language:e.language?e.language.selected:sn,status:e.consent.status,timestamp:(new Date).getTime(),type:"implicit",versions:o&&o.history.length>0?o.history[0].versions:{application:"",service:e.version,settings:""}}],r}return e}))},e.prototype.resolveTimestamp=function(e){return 10===e.length?1e3*parseInt(e,10):parseInt(e,10)},e}(),Fn=function(e,t){return e.map((function(e){var n=t.filter((function(t){return t.service.id===e.id}));if(Ce(n)){var i=e.consent.history,s=i.length+n.length,r=s<=3?i:i.slice(s-3),o=e;return o.consent.history=Y(Y([],z(r),!1),z(n.map((function(e){return Bn(e)}))),!1),o}return e}))},Mn=function(e,t,n){return e.reduce((function(e,i){var s=t.find((function(e){return e.id===i.id})),r=n.find((function(e){return e.id===i.id}));return s&&r?Y(Y([],z(e),!1),[{categorySlug:i.categorySlug,consent:s.consent,id:i.id,language:i.language,name:r.name,processorId:i.processorId,version:i.version}],!1):Y([],z(e),!1)}),[])},Bn=function(e){return{action:e.consent.action,language:e.settings.language,status:e.consent.status,timestamp:e.timestamp,type:e.consent.type,versions:{application:e.applicationVersion,service:e.service.version,settings:e.settings.version}}},$n=function(e){return e.filter((function(e){return!ft.includes(e.action)}))},Gn=function(){function e(){this.primaryLanguage="",this.apiInstance=jt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setPrimaryLanguage=function(e){this.primaryLanguage=e},e.prototype.getPrimaryLanguage=function(){return this.primaryLanguage},e.prototype.resolveLanguage=function(e){return void 0===e&&(e=!1),q(this,void 0,void 0,(function(){var t,n,i,s,r;return J(this,(function(o){switch(o.label){case 0:return t=ye.fetchUserCountryResponse(),n=[],t?(Pt.getInstance().setUserCountryData({code:t.countryCode,name:t.countryName,regionCode:t.regionCode}),[3,3]):[3,1];case 1:return[4,this.apiInstance.fetchAvailableLanguages()];case 2:n=o.sent(),o.label=3;case 3:if(!e){if(this.primaryLanguage)return this.apiInstance.setJsonFileLanguage(this.primaryLanguage),[2];if(i=ye.fetchLanguage())return this.apiInstance.setJsonFileLanguage(i),[2]}return n.length?[3,5]:[4,this.apiInstance.fetchAvailableLanguages()];case 4:n=o.sent(),o.label=5;case 5:return(s=jn(n))?(this.apiInstance.setJsonFileLanguage(s),[2]):(r=Hn(n))?(this.apiInstance.setJsonFileLanguage(r),[2]):n.length>0?(this.apiInstance.setJsonFileLanguage(n[0]),[2]):(this.apiInstance.setJsonFileLanguage(sn),[2])}}))}))},e}(),Hn=function(e){var t=window.navigator;if(Ce(t.languages))for(var n=0;n<t.languages.length;n+=1){var i=qn(e,t.languages[n]);if(i)return i}var s=null!=t.language?t.language:t.userLanguage;return qn(e,s)},jn=function(e){var t=document.documentElement.lang;return t?qn(e,t):null},qn=function(e,t){if(t){var n=t.toLowerCase().replace("-","_");if(Se(e,n))return n;var i=t.slice(0,2);if(Se(e,i))return i}return null};!function(e){e.API_INVALID_COMMAND="Usercentrics: (__uspapi) Invalid command: ",e.API_INVALID_CALLBACK="Usercentrics: (__uspapi) callback parameter not a function",e.INVALID_STRING="Usercentrics: ccpa string is invalid",e.RESHOW_AFTER_DAYS_INVALID="Usercentrics: reshow after days must be greater than 364.",e.SETTINGS_UNDEFINED="Usercentrics: ccpa is missing in setting"}(pn||(pn={})),function(e){e.ACCEPT="Y",e.DENY="N",e.UNKNOWN="-"}(gn||(gn={}));var Jn=function(){function e(){this.initOptions=null,this.isFirstTimePageVisit=!0,this.selectedLayer=null,this.shouldAcceptAllImplicitly=null,this.shouldShowFirstLayerOnVersionChange=!1,this.variant=null,this.ampInstance=dt.getInstance(),this.botInstance=Qt.getInstance(),this.settingsV2=Un.getInstance(),this.rulesetInstance=Tn.getInstance(),this.apiInstance=jt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.selectedLayer=null,e.instance.variant=null,e.instance.shouldAcceptAllImplicitly=null,e.instance.initOptions=null},e.prototype.init=function(e){return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return this.initOptions=e,this.isFirstTimePageVisit=this.isFirstTimeVisit(),null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.shouldShowFirstLayerOnVersionChange=this.settingsV2.shouldShowFirstLayerOnVersionChange(),[2]}}))}))},e.prototype.isFirstTimeVisit=function(){return!ye.settingsExist()||this.botInstance.isRobot()},e.prototype.shouldShowNone=function(){return q(this,void 0,void 0,(function(){var e,t;return J(this,(function(n){switch(n.label){case 0:return e=0===this.variant,null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()?[2,this.rulesetInstance.getNoShow()]:[2,this.shouldAcceptAllImplicitly&&!e]}}))}))},e.prototype.shouldShowFirstLayer=function(e){var t,n,i,s=this.ampInstance.isAmpEnabled(),r=0===this.variant,o=(null===(t=e.ccpa)||void 0===t?void 0:t.showOnPageLoad)||!1,a=r?o:!this.shouldAcceptAllImplicitly;if(this.shouldAcceptAllImplicitly&&!r)return!1;if(a&&this.isFirstTimePageVisit||this.shouldShowFirstLayerOnVersionChange||!ye.fetchUserActionPerformed()&&(!r||o)||s)return!0;switch(this.variant){case 0:if(this.shouldShowFirstLayerForCcpa(null===(n=e.ccpa)||void 0===n?void 0:n.reshowCMP,null===(i=e.ccpa)||void 0===i?void 0:i.reshowAfterDays))return!0;break;case 2:var c=this.settingsV2.getTcfData();if(null==c?void 0:c.shouldResurfaceUI())return!0;break;default:if(this.shouldForceReshowGDPRBanner())return!0}return!1},e.prototype.shouldForceReshowGDPRBanner=function(){var e=this.settingsV2.core;if(!e)return!1;var t,n=e.reshowBanner,i=this.settingsV2.getServicesData().reduce((function(e,t){return Y(Y([],z(e),!1),z(t.consent.history),!1)}),[]).filter((function(e){return["onAcceptAllServices","onDenyAllServices","onUpdateServices"].indexOf(e.action)>-1})).sort((function(e,t){return t.timestamp-e.timestamp}));if(n>0&&i.length>0){var s=new Date(i[0].timestamp);return s.setMonth(s.getMonth()+n),t=s,(new Date).getTime()-t.getTime()>=0}return!1},e.prototype.shouldShowPrivacyButton=function(e){var t=window.location.href,n=!e.privacyButtonUrls||0===e.privacyButtonUrls.contains.length;return e.privacyButtonUrls&&e.privacyButtonUrls.contains.length>0&&e.privacyButtonUrls.contains.some((function(e){return t.includes(e)}))&&(n=!0),e.privacyButtonIsVisible&&n},e.prototype.resolveUiVariant=function(e){return q(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return null!==this.variant?[2,this.variant]:[4,this.settingsV2.isCcpaAvailable()];case 1:return t.sent()?this.variant=0:this.variant=e?2:1,[2,this.variant]}}))}))},e.prototype.resolveUiInitialLayer=function(e){return q(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return[4,this.shouldShowNone()];case 1:return t.sent()?[2,1]:this.shouldShowFirstLayer(e)?[2,0]:this.shouldShowPrivacyButton(e)?[2,2]:[2,1]}}))}))},e.prototype.resolveUIOptions=function(e){var t;return q(this,void 0,void 0,(function(){var n,i,s,r;return J(this,(function(o){switch(o.label){case 0:return n=this.ampInstance.isAmpEnabled(),null!==this.variant?[3,2]:(i=this,[4,this.resolveUiVariant(e.tcf2Enabled)]);case 1:i.variant=o.sent(),o.label=2;case 2:return 0!==this.variant&&ye.clearCcpa(),2!==this.variant&&ye.clearTcf(),s=this,(null===(t=this.initOptions)||void 0===t?void 0:t.suppressCmpDisplay)?(r=1,[3,5]):[3,3];case 3:return[4,this.resolveUiInitialLayer(e)];case 4:r=o.sent(),o.label=5;case 5:return s.selectedLayer=r,[2,{ampEnabled:n,initialLayer:this.selectedLayer,variant:this.variant}]}}))}))},e.prototype.shouldShowFirstLayerForCcpa=function(e,t){var n;void 0===t&&(t=365);var i,s=this.settingsV2.legacySettings,r=(i=ye.getCcpaData())?((new Date).getTime()-i.timestamp)/864e5:0;return s||void 0!==e?null!==(n=null!=e?e:null==s?void 0:s.ccpa.reshowCMP)&&void 0!==n&&n&&r>t:r>t},e}(),zn=Object.freeze({initialize:function({modulePath:e=".",importFunctionName:t="__import__"}={}){try{self[t]=new Function("u","return import(u)")}catch(n){const i=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,r)=>{const o=new URL(e,i);if(self[t].moduleMap[o])return n(self[t].moduleMap[o]);const a=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){r(new Error(`Failed to import: ${e}`)),s(c)},onload(){n(self[t].moduleMap[o]),s(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}}),Yn=function(e){d(n,v(Error));var t=y(n);function n(e){var i;return a(this,n),(i=t.call(this,e)).name="DecodingError",i}return l(n)}(),Wn=function(e){d(n,v(Error));var t=y(n);function n(e){var i;return a(this,n),(i=t.call(this,e)).name="EncodingError",i}return l(n)}(),Qn=function(e){d(n,v(Error));var t=y(n);function n(e){var i;return a(this,n),(i=t.call(this,e)).name="GVLError",i}return l(n)}(),Kn=function(e){d(n,v(Error));var t=y(n);function n(e,i){var s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a(this,n),(s=t.call(this,"invalid value ".concat(i," passed for ").concat(e," ").concat(r))).name="TCModelError",s}return l(n)}(),Xn=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new Wn("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",i=0;i<e.length;i+=this.BASIS)n+=this.DICT[parseInt(e.substr(i,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new Yn("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var i=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-i.length)+i}return t}}]),e}();u(Xn,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),u(Xn,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),u(Xn,"BASIS",6),u(Xn,"LCM",24);var Zn=function(){function e(){a(this,e)}return l(e,[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var i=e.deepClone(e[n]);void 0!==i&&(t[n]=i)})),t}},{key:"deepClone",value:function(e){var t=s(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n,i=[],r=w(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.push(this.deepClone(o))}}catch(e){r.e(e)}finally{r.f()}return e instanceof Array?i:new e.constructor(i)}var a={};for(var c in e)e.hasOwnProperty(c)&&(a[c]=this.deepClone(e[c]));return a}}}]),e}(),ei=function(e){d(n,Zn);var t=y(n);function n(){var e;a(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return u(m(e=t.call.apply(t,[this].concat(s))),"root",null),e}return l(n,[{key:"getRoot",value:function(){return this.root}},{key:"isEmpty",value:function(){return!this.root}},{key:"add",value:function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}}},{key:"get",value:function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}},{key:"contains",value:function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t}},{key:"min",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;t;)t.left?t=t.left:(e=t.value,t=null);return e}},{key:"max",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;t;)t.right?t=t.right:(e=t.value,t=null);return e}},{key:"remove",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,n=null,i="left";t;)if(e<t.value)n=t,t=t.left,i="left";else if(e>t.value)n=t,t=t.right,i="right";else{if(t.left||t.right)if(t.left)if(t.right){var s=this.min(t.right);this.remove(s,t.right),t.value=s}else n?n[i]=t.left:this.root=t.left;else n?n[i]=t.right:this.root=t.right;else n?n[i]=null:this.root=null;t=null}}}],[{key:"build",value:function(e){if(e&&0!==e.length){if(1===e.length){var t=new n;return t.add(e[0]),t}var i=e.length>>1,s=new n;s.add(e[i]);var r=s.getRoot();if(r){if(i+1<e.length){var o=n.build(e.slice(i+1));r.right=o?o.getRoot():null}if(i-1>0){var a=n.build(e.slice(0,i-1));r.left=a?a.getRoot():null}}return s}return null}}]),n}(),ti=function(){function e(){a(this,e)}return l(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}]),e}();u(ti,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var ni,ii=l((function e(){a(this,e)}));u(ii,"cmpId","cmpId"),u(ii,"cmpVersion","cmpVersion"),u(ii,"consentLanguage","consentLanguage"),u(ii,"consentScreen","consentScreen"),u(ii,"created","created"),u(ii,"supportOOB","supportOOB"),u(ii,"isServiceSpecific","isServiceSpecific"),u(ii,"lastUpdated","lastUpdated"),u(ii,"numCustomPurposes","numCustomPurposes"),u(ii,"policyVersion","policyVersion"),u(ii,"publisherCountryCode","publisherCountryCode"),u(ii,"publisherCustomConsents","publisherCustomConsents"),u(ii,"publisherCustomLegitimateInterests","publisherCustomLegitimateInterests"),u(ii,"publisherLegitimateInterests","publisherLegitimateInterests"),u(ii,"publisherConsents","publisherConsents"),u(ii,"publisherRestrictions","publisherRestrictions"),u(ii,"purposeConsents","purposeConsents"),u(ii,"purposeLegitimateInterests","purposeLegitimateInterests"),u(ii,"purposeOneTreatment","purposeOneTreatment"),u(ii,"specialFeatureOptins","specialFeatureOptins"),u(ii,"useNonStandardStacks","useNonStandardStacks"),u(ii,"vendorConsents","vendorConsents"),u(ii,"vendorLegitimateInterests","vendorLegitimateInterests"),u(ii,"vendorListVersion","vendorListVersion"),u(ii,"vendorsAllowed","vendorsAllowed"),u(ii,"vendorsDisclosed","vendorsDisclosed"),u(ii,"version","version"),function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(ni||(ni={}));var si=function(e){d(n,Zn);var t=y(n);function n(e,i){var s;return a(this,n),u(m(s=t.call(this)),"purposeId_",void 0),u(m(s),"restrictionType",void 0),void 0!==e&&(s.purposeId=e),void 0!==i&&(s.restrictionType=i),s}return l(n,[{key:"hash",get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(n.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===ni.NOT_ALLOWED||this.restrictionType===ni.REQUIRE_CONSENT||this.restrictionType===ni.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}],[{key:"unHash",value:function(e){var t=e.split(this.hashSeparator),i=new n;if(2!==t.length)throw new Kn("hash",e);return i.purposeId=parseInt(t[0],10),i.restrictionType=parseInt(t[1],10),i}}]),n}();u(si,"hashSeparator","-");var ri,oi,ai,ci=function(e){d(n,Zn);var t=y(n);function n(){var e;a(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return u(m(e=t.call.apply(t,[this].concat(s))),"bitLength",0),u(m(e),"map",new Map),u(m(e),"gvl_",void 0),e}return l(n,[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var i,s=!0;if(null!==(i=this.gvl)&&void 0!==i&&i.vendors){var r=this.gvl.vendors[n];if(r)if(e===ni.NOT_ALLOWED)s=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case ni.REQUIRE_CONSENT:s=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case ni.REQUIRE_LI:s=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else s=!1;else s=!1}return s}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new ei),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){for(var t=this.gvl.vendorIds,n=e.hash,i=function(){var e,n,i=w(t);try{for(i.s();!(n=i.n()).done;)e=n.value}catch(e){i.e(e)}finally{i.f()}return e}(),s=b(Array(i).keys()).map((function(e){return e+1})),r=1;r<=i;r++)this.has(n)||(this.map.set(n,ei.build(s)),this.bitLength=0),this.map.get(n).add(r)}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{var i=new Set;this.map.forEach((function(e){e.get().forEach((function(e){i.add(e)}))})),t=Array.from(i)}return t}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,i=this.getRestrictions(e),s=0;s<i.length&&!n;s++)n=t.isSameAs(i[s]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach((function(t){e=Math.max(t.max(),e)})),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach((function(n,i){e?n.contains(e)&&t.push(si.unHash(i)):t.push(si.unHash(i))})),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach((function(t,n){e.add(si.unHash(n).purposeId)})),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,i=this.map.get(n);i&&(i.remove(e),i.isEmpty()&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach((function(e,n){var i=si.unHash(n);e.get().forEach((function(n){t.isOkToHave(i.restrictionType,i.purposeId,n)||e.remove(n)}))})))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}]),n}();!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(ri||(ri={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(oi||(oi={}));var li,ui=l((function e(){a(this,e)}));u(ui,"ID_TO_KEY",[oi.CORE,oi.VENDORS_DISCLOSED,oi.VENDORS_ALLOWED,oi.PUBLISHER_TC]),u(ui,"KEY_TO_ID",(u(ai={},oi.CORE,0),u(ai,oi.VENDORS_DISCLOSED,1),u(ai,oi.VENDORS_ALLOWED,2),u(ai,oi.PUBLISHER_TC,3),ai)),li=Symbol.iterator;var di,hi,pi,gi,fi,vi,mi,yi,Si,bi,Ii,Ci,wi,Ei,Ai,Ti,Li,_i,Di=function(e){d(n,Zn);var t=y(n);function n(){var e;a(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return u(m(e=t.call.apply(t,[this].concat(s))),"bitLength",0),u(m(e),"maxId_",0),u(m(e),"set_",new Set),e}return l(n,[{key:li,value:i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<=this.maxId)){e.next=7;break}return e.next=4,[t,this.has(t)];case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):"object"===s(e)?this.unset(Object.keys(e).map((function(e){return Number(e)}))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))}},{key:"isIntMap",value:function(e){var t=this,n="object"===s(e);return n&&Object.keys(e).every((function(n){var i=Number.isInteger(parseInt(n,10));return(i=i&&t.isValidNumber(e[n].id))&&void 0!==e[n].name}))}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((function(e){return Number(e)})));else{if(!this.isValidNumber(e))throw new Kn("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}]),n}();di=ii.cmpId,hi=ii.cmpVersion,pi=ii.consentLanguage,gi=ii.consentScreen,fi=ii.created,vi=ii.isServiceSpecific,mi=ii.lastUpdated,yi=ii.policyVersion,Si=ii.publisherCountryCode,bi=ii.publisherLegitimateInterests,Ii=ii.publisherConsents,Ci=ii.purposeConsents,wi=ii.purposeLegitimateInterests,Ei=ii.purposeOneTreatment,Ai=ii.specialFeatureOptins,Ti=ii.useNonStandardStacks,Li=ii.vendorListVersion,_i=ii.version;var Oi=l((function e(){a(this,e)}));u(Oi,di,12),u(Oi,hi,12),u(Oi,pi,12),u(Oi,gi,6),u(Oi,fi,36),u(Oi,vi,1),u(Oi,mi,36),u(Oi,yi,6),u(Oi,Si,12),u(Oi,bi,24),u(Oi,Ii,24),u(Oi,Ci,24),u(Oi,wi,24),u(Oi,Ei,1),u(Oi,Ai,12),u(Oi,Ti,1),u(Oi,Li,12),u(Oi,_i,6),u(Oi,"anyBoolean",1),u(Oi,"encodingType",1),u(Oi,"maxId",16),u(Oi,"numCustomPurposes",6),u(Oi,"numEntries",12),u(Oi,"numRestrictions",12),u(Oi,"purposeId",6),u(Oi,"restrictionType",2),u(Oi,"segmentType",3),u(Oi,"singleOrRange",1),u(Oi,"vendorId",16);var Ri,Ni=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}]),e}(),Vi=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new Wn("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new Yn("invalid bit length");return parseInt(e,2)}}]),e}(),ki=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e,t){return Vi.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new Yn("invalid bit length");var n=new Date;return n.setTime(100*Vi.decode(e,t)),n}}]),e}(),xi=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e,t){for(var n="",i=1;i<=t;i++)n+=Ni.encode(e.has(i));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new Yn("bitfield encoding length mismatch");for(var n=new Di,i=1;i<=t;i++)Ni.decode(e[i-1])&&n.set(i);return n.bitLength=e.length,n}}]),e}(),Ui=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,i=e.charCodeAt(1)-65;if(n<0||n>25||i<0||i>25)throw new Wn("invalid language code: ".concat(e));if(t%2==1)throw new Wn("numBits must be even, ".concat(t," is not valid"));return t/=2,Vi.encode(n,t)+Vi.encode(i,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new Yn("invalid bit length for language");var n=e.length/2,i=Vi.decode(e.slice(0,n),n)+65,s=Vi.decode(e.slice(n),n)+65;return String.fromCharCode(i)+String.fromCharCode(s)}}]),e}(),Pi=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e){var t=Vi.encode(e.numRestrictions,Oi.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach((function(n){t+=Vi.encode(n.purposeId,Oi.purposeId),t+=Vi.encode(n.restrictionType,Oi.restrictionType);for(var i=e.getVendors(n),s=i.length,r=0,o=0,a="",c=function(){var t=i[l];0===o&&(r++,o=t);var n=i[s-1],c=e.gvl.vendorIds;if(l===s-1||i[l+1]>function(e){for(;++e<=n&&!c.has(e););return e}(t)){var u=!(t===o);a+=Ni.encode(u),a+=Vi.encode(o,Oi.vendorId),u&&(a+=Vi.encode(t,Oi.vendorId)),o=0}},l=0;l<s;l++)c();t+=Vi.encode(r,Oi.numEntries),t+=a})),t}},{key:"decode",value:function(e){var t=0,n=new ci,i=Vi.decode(e.substr(t,Oi.numRestrictions),Oi.numRestrictions);t+=Oi.numRestrictions;for(var s=0;s<i;s++){var r=Vi.decode(e.substr(t,Oi.purposeId),Oi.purposeId);t+=Oi.purposeId;var o=Vi.decode(e.substr(t,Oi.restrictionType),Oi.restrictionType);t+=Oi.restrictionType;var a=new si(r,o),c=Vi.decode(e.substr(t,Oi.numEntries),Oi.numEntries);t+=Oi.numEntries;for(var l=0;l<c;l++){var u=Ni.decode(e.substr(t,Oi.anyBoolean));t+=Oi.anyBoolean;var d=Vi.decode(e.substr(t,Oi.vendorId),Oi.vendorId);if(t+=Oi.vendorId,u){var h=Vi.decode(e.substr(t,Oi.vendorId),Oi.vendorId);if(t+=Oi.vendorId,h<d)throw new Yn("Invalid RangeEntry: endVendorId ".concat(h," is less than ").concat(d));for(var p=d;p<=h;p++)n.add(p,a)}else n.add(d,a)}}return n.bitLength=t,n}}]),e}();!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(Ri||(Ri={}));var Fi=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e){var t,n=[],i=[],s=Vi.encode(e.maxId,Oi.maxId),r="",o=Oi.maxId+Oi.encodingType,a=o+e.maxId,c=2*Oi.vendorId+Oi.singleOrRange+Oi.numEntries,l=o+Oi.numEntries;return e.forEach((function(s,o){r+=Ni.encode(s),(t=e.maxId>c&&l<a)&&s&&(e.has(o+1)?0===i.length&&(i.push(o),l+=Oi.singleOrRange,l+=Oi.vendorId):(i.push(o),l+=Oi.vendorId,n.push(i),i=[]))})),t?(s+=String(Ri.RANGE),s+=this.buildRangeEncoding(n)):(s+=String(Ri.FIELD),s+=r),s}},{key:"decode",value:function(e,t){var n,i=0,s=Vi.decode(e.substr(i,Oi.maxId),Oi.maxId);i+=Oi.maxId;var r=Vi.decode(e.charAt(i),Oi.encodingType);if(i+=Oi.encodingType,r===Ri.RANGE){if(n=new Di,1===t){if("1"===e.substr(i,1))throw new Yn("Unable to decode default consent=1");i++}var o=Vi.decode(e.substr(i,Oi.numEntries),Oi.numEntries);i+=Oi.numEntries;for(var a=0;a<o;a++){var c=Ni.decode(e.charAt(i));i+=Oi.singleOrRange;var l=Vi.decode(e.substr(i,Oi.vendorId),Oi.vendorId);if(i+=Oi.vendorId,c){var u=Vi.decode(e.substr(i,Oi.vendorId),Oi.vendorId);i+=Oi.vendorId;for(var d=l;d<=u;d++)n.set(d)}else n.set(l)}}else{var h=e.substr(i,s);i+=s,n=xi.decode(h,s)}return n.bitLength=i,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=Vi.encode(t,Oi.numEntries);return e.forEach((function(e){var t=1===e.length;n+=Ni.encode(!t),n+=Vi.encode(e[0],Oi.vendorId),t||(n+=Vi.encode(e[1],Oi.vendorId))})),n}}]),e}();function Mi(){var e;return u(e={},ii.version,Vi),u(e,ii.created,ki),u(e,ii.lastUpdated,ki),u(e,ii.cmpId,Vi),u(e,ii.cmpVersion,Vi),u(e,ii.consentScreen,Vi),u(e,ii.consentLanguage,Ui),u(e,ii.vendorListVersion,Vi),u(e,ii.policyVersion,Vi),u(e,ii.isServiceSpecific,Ni),u(e,ii.useNonStandardStacks,Ni),u(e,ii.specialFeatureOptins,xi),u(e,ii.purposeConsents,xi),u(e,ii.purposeLegitimateInterests,xi),u(e,ii.purposeOneTreatment,Ni),u(e,ii.publisherCountryCode,Ui),u(e,ii.vendorConsents,Fi),u(e,ii.vendorLegitimateInterests,Fi),u(e,ii.publisherRestrictions,Pi),u(e,"segmentType",Vi),u(e,ii.vendorsDisclosed,Fi),u(e,ii.vendorsAllowed,Fi),u(e,ii.publisherConsents,xi),u(e,ii.publisherLegitimateInterests,xi),u(e,ii.numCustomPurposes,Vi),u(e,ii.publisherCustomConsents,xi),u(e,ii.publisherCustomLegitimateInterests,xi),e}var Bi=l((function e(){var t;a(this,e),u(this,"1",u({},oi.CORE,[ii.version,ii.created,ii.lastUpdated,ii.cmpId,ii.cmpVersion,ii.consentScreen,ii.consentLanguage,ii.vendorListVersion,ii.purposeConsents,ii.vendorConsents])),u(this,"2",(u(t={},oi.CORE,[ii.version,ii.created,ii.lastUpdated,ii.cmpId,ii.cmpVersion,ii.consentScreen,ii.consentLanguage,ii.vendorListVersion,ii.policyVersion,ii.isServiceSpecific,ii.useNonStandardStacks,ii.specialFeatureOptins,ii.purposeConsents,ii.purposeLegitimateInterests,ii.purposeOneTreatment,ii.publisherCountryCode,ii.vendorConsents,ii.vendorLegitimateInterests,ii.publisherRestrictions]),u(t,oi.PUBLISHER_TC,[ii.publisherConsents,ii.publisherLegitimateInterests,ii.numCustomPurposes,ii.publisherCustomConsents,ii.publisherCustomLegitimateInterests]),u(t,oi.VENDORS_ALLOWED,[ii.vendorsAllowed]),u(t,oi.VENDORS_DISCLOSED,[ii.vendorsDisclosed]),t))})),$i=l((function e(t,n){if(a(this,e),u(this,"1",[oi.CORE]),u(this,"2",[oi.CORE]),2===t.version)if(t.isServiceSpecific)this[2].push(oi.PUBLISHER_TC);else{var i=!(!n||!n.isForVendors);i&&!0!==t[ii.supportOOB]||this[2].push(oi.VENDORS_DISCLOSED),i&&(t[ii.supportOOB]&&t[ii.vendorsAllowed].size>0&&this[2].push(oi.VENDORS_ALLOWED),this[2].push(oi.PUBLISHER_TC))}})),Gi=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e,t){var n,i=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new Wn("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var s="";t!==oi.CORE&&(s=Vi.encode(ui.KEY_TO_ID[t],Oi.segmentType));var r=Mi();return n.forEach((function(n){var o=e[n],a=r[n],c=Oi[n];void 0===c&&i.isPublisherCustom(n)&&(c=Number(e[ii.numCustomPurposes]));try{s+=a.encode(o,c)}catch(e){throw new Wn("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}})),Xn.encode(s)}},{key:"decode",value:function(e,t,n){var i=this,s=Xn.decode(e),r=0;n===oi.CORE&&(t.version=Vi.decode(s.substr(r,Oi[ii.version]),Oi[ii.version])),n!==oi.CORE&&(r+=Oi.segmentType);var o=this.fieldSequence[String(t.version)][n],a=Mi();return o.forEach((function(e){var n=a[e],o=Oi[e];if(void 0===o&&i.isPublisherCustom(e)&&(o=Number(t[ii.numCustomPurposes])),0!==o){var c=s.substr(r,o);if(t[e]=n===Fi?n.decode(c,t.version):n.decode(c,o),Number.isInteger(o))r+=o;else{if(!Number.isInteger(t[e].bitLength))throw new Yn(e);r+=t[e].bitLength}}})),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}]),e}();u(Gi,"fieldSequence",new Bi);var Hi=function(){function e(){a(this,e)}return l(e,null,[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new Wn("Unable to encode TCModel without a GVL");if(!n.isReady)throw new Wn("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var i=e.version-1;if(!this.processor[i])throw new Wn("Invalid version: ".concat(e.version));return this.processor[i](e,n)}}]),e}();u(Hi,"processor",[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((function(n,i){n.forEach((function(s,r){if(s){var o=t.vendors[r];if(!o||o.deletedDate)n.unset(r);else if(0===o[i].length)if("legIntPurposes"===i&&0===o.purposes.length&&0===o.legIntPurposes.length&&o.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===o.flexiblePurposes.length)n.unset(r);else{for(var a=e.publisherRestrictions.getRestrictions(r),c=!1,l=0,u=a.length;l<u&&!c;l++)c=a[l].restrictionType===ni.REQUIRE_CONSENT&&"purposes"===i||a[l].restrictionType===ni.REQUIRE_LI&&"legIntPurposes"===i;c||n.unset(r)}else n.unset(r)}}))})),e.vendorsDisclosed.set(t.vendors),e}]);var ji=function(){function e(){a(this,e)}return l(e,null,[{key:"absCall",value:function(e,t,n,i){return new Promise((function(s,r){var o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",(function(){if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else r(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))})),o.addEventListener("error",(function(){r(new Error("error"))})),o.addEventListener("abort",(function(){r(new Error("aborted"))})),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){r(new Error("Timeout "+i+"ms "+e))},o.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,i)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}]),e}(),qi=function(e){d(c,Zn);var t,n,r=y(c);function c(e){var t;a(this,c),u(m(t=r.call(this)),"readyPromise",void 0),u(m(t),"gvlSpecificationVersion",void 0),u(m(t),"vendorListVersion",void 0),u(m(t),"tcfPolicyVersion",void 0),u(m(t),"lastUpdated",void 0),u(m(t),"purposes",void 0),u(m(t),"specialPurposes",void 0),u(m(t),"features",void 0),u(m(t),"specialFeatures",void 0),u(m(t),"isReady_",!1),u(m(t),"vendors_",void 0),u(m(t),"vendorIds",void 0),u(m(t),"fullVendorList",void 0),u(m(t),"byPurposeVendorMap",void 0),u(m(t),"bySpecialPurposeVendorMap",void 0),u(m(t),"byFeatureVendorMap",void 0),u(m(t),"bySpecialFeatureVendorMap",void 0),u(m(t),"stacks",void 0),u(m(t),"lang_",void 0),u(m(t),"isLatest",!1);var n=c.baseUrl;if(t.lang_=c.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new Qn("must specify GVL.baseUrl before loading GVL json");if(e>0){var i=e;c.CACHE.has(i)?(t.populate(c.CACHE.get(i)),t.readyPromise=Promise.resolve()):(n+=c.versionedFilename.replace("[VERSION]",String(i)),t.readyPromise=t.fetchJson(n))}else c.CACHE.has(c.LATEST_CACHE_KEY)?(t.populate(c.CACHE.get(c.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+c.latestFilename))}return t}return l(c,[{key:"cacheLanguage",value:function(){c.LANGUAGE_CACHE.has(this.lang_)||c.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}},{key:"fetchJson",value:(n=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this,e.next=4,ji.fetch(t);case 4:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=11;break;case 8:throw e.prev=8,e.t2=e.catch(0),new Qn(e.t2.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return n.apply(this,arguments)})},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}},{key:"changeLanguage",value:(t=o(i().mark((function e(t){var n,s,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.toUpperCase(),!c.consentLanguages.has(n)){e.next=21;break}if(n===this.lang_){e.next=19;break}if(this.lang_=n,!c.LANGUAGE_CACHE.has(n)){e.next=9;break}for(r in s=c.LANGUAGE_CACHE.get(n))s.hasOwnProperty(r)&&(this[r]=s[r]);e.next=19;break;case 9:return o=c.baseUrl+c.languageFilename.replace("[LANG]",t),e.prev=10,e.next=13,this.fetchJson(o);case 13:this.cacheLanguage(),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(10),new Qn("unable to load language: "+e.t0.message);case 19:e.next=22;break;case 21:throw new Qn("unsupported language ".concat(t));case 22:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(e){return t.apply(this,arguments)})},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&c.CACHE.set(c.LATEST_CACHE_KEY,this.getJson()),c.CACHE.has(this.vendorListVersion)||c.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors_=e.reduce((function(e,n){var i=t.vendors_[String(n)];return i&&void 0===i.deletedDate&&(i.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),i.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),i.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),i.flexiblePurposes&&i.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),i.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),i.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=i),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,i){var s=this,r=e.charAt(0).toUpperCase()+e.slice(1),o={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)]).forEach((function(e){o[String(e)]=s.vendors[String(e)]})),o}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var e=new c(this.getJson());return this.lang_!==c.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}}],[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new Qn("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(e){var t=!1;return void 0===e&&c.LANGUAGE_CACHE.size>0?(c.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(c.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}},{key:"emptyCache",value:function(e){var t=!1;return Number.isInteger(e)&&e>=0?(c.CACHE.delete(e),t=!0):void 0===e&&(c.CACHE=new Map,t=!0),t}},{key:"isInstanceOf",value:function(e){return"object"===s(e)&&"function"==typeof e.narrowVendorsTo}}]),c}();u(qi,"LANGUAGE_CACHE",new Map),u(qi,"CACHE",new Map),u(qi,"LATEST_CACHE_KEY",0),u(qi,"DEFAULT_LANGUAGE","EN"),u(qi,"consentLanguages",new ti),u(qi,"baseUrl_",void 0),u(qi,"latestFilename","vendor-list.json"),u(qi,"versionedFilename","archives/vendor-list-v[VERSION].json"),u(qi,"languageFilename","purposes-[LANG].json");var Ji=function(e){d(n,Zn);var t=y(n);function n(e){var i;return a(this,n),u(m(i=t.call(this)),"isServiceSpecific_",!1),u(m(i),"supportOOB_",!0),u(m(i),"useNonStandardStacks_",!1),u(m(i),"purposeOneTreatment_",!1),u(m(i),"publisherCountryCode_","AA"),u(m(i),"version_",2),u(m(i),"consentScreen_",0),u(m(i),"policyVersion_",2),u(m(i),"consentLanguage_","EN"),u(m(i),"cmpId_",0),u(m(i),"cmpVersion_",0),u(m(i),"addtlConsent_",""),u(m(i),"enableAdvertiserConsentMode_",!1),u(m(i),"vendorListVersion_",0),u(m(i),"numCustomPurposes_",0),u(m(i),"gvl_",void 0),u(m(i),"created",void 0),u(m(i),"lastUpdated",void 0),u(m(i),"specialFeatureOptins",new Di),u(m(i),"purposeConsents",new Di),u(m(i),"purposeLegitimateInterests",new Di),u(m(i),"publisherConsents",new Di),u(m(i),"publisherLegitimateInterests",new Di),u(m(i),"publisherCustomConsents",new Di),u(m(i),"publisherCustomLegitimateInterests",new Di),u(m(i),"customPurposes",void 0),u(m(i),"vendorConsents",new Di),u(m(i),"vendorLegitimateInterests",new Di),u(m(i),"vendorsDisclosed",new Di),u(m(i),"vendorsAllowed",new Di),u(m(i),"publisherRestrictions",new ci),e&&(i.gvl=e),i.updated(),i}return l(n,[{key:"gvl",get:function(){return this.gvl_},set:function(e){qi.isInstanceOf(e)||(e=new qi(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new Kn("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Kn("cmpVersion",e);this.cmpVersion_=e}},{key:"enableAdvertiserConsentMode",get:function(){return this.enableAdvertiserConsentMode_},set:function(e){this.enableAdvertiserConsentMode_=!0===e}},{key:"addtlConsent",get:function(){return this.addtlConsent_},set:function(e){this.addtlConsent_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Kn("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new Kn("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)|0)<0)throw new Kn("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new Kn("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardStacks",get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;if("object"===s(this.customPurposes)){var t=Object.keys(this.customPurposes).sort((function(e,t){return Number(e)-Number(t)}));e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new Kn("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}]),n}();u(Ji,"consentLanguages",qi.consentLanguages);var zi,Yi,Wi,Qi,Ki,Xi,Zi=function(){function e(){a(this,e)}return l(e,null,[{key:"encode",value:function(e,t){var n,i="";return e=Hi.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new $i(e,t)[""+e.version]).forEach((function(t,s){var r="";s<n.length-1&&(r="."),i+=Gi.encode(e,t)+r})),i}},{key:"decode",value:function(e,t){var n=e.split("."),i=n.length;t||(t=new Ji);for(var s=0;s<i;s++){var r=n[s],o=Xn.decode(r.charAt(0)).substr(0,Oi.segmentType),a=ui.ID_TO_KEY[Vi.decode(o,Oi.segmentType).toString()];Gi.decode(r,t,a)}return t}}]),e}(),es=function(e,t,n){return t?e.map((function(e){return t&&t[e.id]?j(j({},e),{name:"".concat(e.name," (").concat(n,": ").concat(t[e.id],")")}):e})):e},ts=function(e,t,n,i,s,r,o){if(!e)return[];var a=e.gvl,c=e.publisherRestrictions,l=e.vendorConsents,u=e.vendorLegitimateInterests;if(!a)return[];var d=ye.fetchTCFVendorsDisclosedObject(a.vendors),h=fs(c);return Object.values(a.vendors).map((function(e){var c,p,g,f=Le(e.legIntPurposes,a.purposes),v=Le(e.purposes,a.purposes);s&&(v=v.filter((function(e){return 1!==e.id})));var m=as(e.id,d),y=f.map((function(e){return e})),S=v.map((function(e){return e}));h.forEach((function(t){switch(t.restrictionType){case ni.REQUIRE_LI:S=S.filter((function(n){return n.id!==t.purposeId||(e.flexiblePurposes.indexOf(n.id)>-1&&y.push(n),!1)}));break;case ni.REQUIRE_CONSENT:y=y.filter((function(n){return n.id!==t.purposeId||(e.flexiblePurposes.indexOf(n.id)>-1&&S.push(n),!1)}));break;case ni.NOT_ALLOWED:S=v.filter((function(e){return e.id!==t.purposeId})),y=f.filter((function(e){return e.id!==t.purposeId}))}}));var b="",I="";e.urls&&e.urls.forEach((function(e){var t=e.langId,n=e.legIntClaim,i=e.privacy,s=t&&a.language&&t.toLowerCase()===a.language.toLowerCase();i&&(b&&!s||(b=i)),n&&(I&&!s||(I=n))}));var C,w=r.includes(e.id),E=null===(c=e.dataDeclaration)||void 0===c?void 0:c.reduce((function(e,t){var n=a.dataCategories;if(n&&n[t]){var i=j({id:t.toString()},n[t]);return e?Y(Y([],z(e),!1),[i],!1):[i]}return e}),[]);e.dataRetention&&e.dataRetention.stdRetention&&(C=[{id:e.dataRetention.stdRetention.toString(),name:e.dataRetention.stdRetention.toString()}]);var A=Le(e.specialFeatures.filter((function(e){return!t.includes(e)})),a.specialFeatures);return j(j(j({consent:m?l.has(e.id):null,cookieMaxAgeSeconds:e.cookieMaxAgeSeconds&&e.cookieMaxAgeSeconds>=0?e.cookieMaxAgeSeconds:null,cookieRefresh:Ee(e.cookieRefresh,null)},E&&{dataCategories:E}),C&&{dataRetention:C}),{deviceStorage:null,deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl||null,features:e.features.map((function(e){return{id:e,name:a.features[e].name}})),flexiblePurposes:Le(e.flexiblePurposes,a.purposes),id:e.id,legitimateInterestClaimUrl:I,legitimateInterestConsent:m?u.has(e.id):null,legitimateInterestPurposes:y,name:e.name,policyUrl:e.policyUrl,privacyUrl:b,purposes:es(S,null===(p=e.dataRetention)||void 0===p?void 0:p.purposes,o),showConsentToggle:S.length>0&&n,showLegitimateInterestConsentToggle:y.length>0&&n&&!i,showVendorOutsideEU:w,specialFeatures:A,specialPurposes:es(Le(e.specialPurposes,a.specialPurposes),null===(g=e.dataRetention)||void 0===g?void 0:g.specialPurposes,o),usesCookies:Ee(e.usesCookies,!1),usesNonCookieAccess:Ee(e.usesNonCookieAccess,null)})}))},ns=function(e){return{legitimateInterestPurposes:(null==e?void 0:e.legIntPurposes)||[],purposes:(null==e?void 0:e.purposes)||[]}},is=function(e){return e||"/browser-sdk/".concat(ee,"/cookie-bridge.html")},ss=function(e){return e||"https://usercentrics.mgr.consensu.org:443"},rs=function(e,t){if(!t||0===e.length)return[];var n=function(e){return _e(e.reduce((function(e,t){return e.concat(t.features.map((function(e){return e.id})))}),[]))}(e);return n.reduce((function(e,n){var i=t[n];return i?Y(Y([],z(e),!1),[i],!1):e}),[])},os=function(e,t){return!e||!t},as=function(e,t){return void 0===t&&(t=ye.fetchTCFVendorsDisclosedObject()),!0===t[e]},cs=function(e,t,n,i,s){var r=t.reduce((function(e,t){return e.concat(t.purposes.map((function(e){return e.id}))).concat(t.legitimateInterestPurposes.map((function(e){return e.id})))}),[]),o=gs(e,n,i).reduce((function(e,t){return e.concat(t.purposeIds)}),[]),a=_e(r.concat(o));return s?a.filter((function(e){return 1!==e})):a},ls=function(e,t,n,i,s,r,o,a,c){if(!e||!t||!n)return[];var l=cs(t,i,s,r,o),u=gs(t,s,r),d=ye.fetchTCFData().vendors,h=e.purposeConsents,p=e.purposeLegitimateInterests,g=_e(i.map((function(e){return e.legitimateInterestPurposes.map((function(e){return e.id}))})).reduce((function(e,t){return e.concat(t)}),[])),f=_e(i.map((function(e){return e.purposes.map((function(e){return e.id}))})).reduce((function(e,t){return e.concat(t)}),[])),v=l.reduce((function(e,t){var n,s=i.filter((function(e){return e.purposes.find((function(e){return e.id===t}))})),r=i.filter((function(e){return e.legitimateInterestPurposes.find((function(e){return e.id===t}))}));return j(j({},e),((n={})[t]=s.length+r.length,n))}),{});return l.reduce((function(e,t){var i=n[t];if(!i)return e;var s=u.find((function(e){return e.purposeIds.includes(t)}));return Y(Y([],z(e),!1),[{consent:d.length?h.has(t):null,description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,legitimateInterestConsent:d.length?p.has(t):null,name:i.name,numberOfVendors:v[i.id]||0,showConsentToggle:f.includes(t)&&a,showLegitimateInterestToggle:1!==i.id&&g.includes(t)&&a&&!c,stackId:(null==s?void 0:s.id)||null}],!1)}),[])},us=function(e){return{onATPListChanged:e.resurfaceATPListChanged,onIABLegalBasisChanged:e.resurfaceIABLegalBasisChanged,onPeriodEnded:e.resurfacePeriodEnded,onPurposeChanged:e.resurfacePurposeChanged,onVendorAdded:e.resurfaceVendorAdded}},ds=function(e,t,n,i){var s=t.reduce((function(e,t){return e.concat(t.specialFeatures.filter((function(e){return!n.includes(e.id)})).map((function(e){return e.id})))}),[]),r=gs(e,n,i).reduce((function(e,t){return e.concat(t.specialFeatureIds.filter((function(e){return!n.includes(e)})))}),[]);return _e(s.concat(r))},hs=function(e,t,n,i,s,r){if(!e||!t)return[];var o=ds(t.stacks,n,i,s),a=gs(t.stacks,i,s);return o.map((function(n){var i=t.specialFeatures[n],s=a.find((function(e){return e.specialFeatureIds.includes(n)}));return{consent:e.specialFeatureOptins.has(n),description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,name:i.name,showConsentToggle:r,stackId:(null==s?void 0:s.id)||null}}))},ps=function(e,t){if(!e)return[];var n=function(e){return _e(e.reduce((function(e,t){return e.concat(t.specialPurposes.map((function(e){return e.id})))}),[]))}(t);return n.reduce((function(t,n){var i=e[n];return i?Y(Y([],z(t),!1),[{description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,name:i.name}],!1):t}),[])},gs=function(e,t,n){return e?n.reduce((function(n,i){var s=e[i];return s?Y(Y([],z(n),!1),[{description:s.description,id:s.id,name:s.name,purposeIds:s.purposes,specialFeatureIds:s.specialFeatures.filter((function(e){return!t.includes(e)}))}],!1):n}),[]):[]},fs=function(e){return(null==e?void 0:e.getRestrictions().map((function(e){return{purposeId:e.purposeId,restrictionType:e.restrictionType}})))||[]},vs=function(e){return!!(null==e?void 0:e.timestamp)&&(Date.now()-e.timestamp)/864e5>365},ms=function(e,t){if(!(null==e?void 0:e.tcString))return!1;var n=Zi.decode(e.tcString);return!(2===n.policyVersion&&4===(null==t?void 0:t.policyVersion)||n.version===(null==t?void 0:t.version)&&n.policyVersion===t.policyVersion)},ys=function(e,t){if(!(null==e?void 0:e.acString)||!(null==e?void 0:e.acString.length))return!1;var n=null==e?void 0:e.acString.split("~")[1].split(".").filter((function(e){return""!==e})).map((function(e){return parseInt(e,10)})),i=null==e?void 0:e.acString.split("dv.")[1].split(".").filter((function(e){return""!==e})).map((function(e){return parseInt(e,10)})),s=Y(Y([],z(n),!1),z(i),!1).sort((function(e,t){return e-t})),r=t.map((function(e){return e.id})).sort((function(e,t){return e-t}));return!(s.length===r.length&&s.every((function(e,t){return e===r[t]})))},Ss=function(e,t){return!(!(null==e?void 0:e.vendors)||!(null==e?void 0:e.vendors.length)||t.every((function(t){return null==e?void 0:e.vendors.find((function(e){return e[ce.ID]===t.id}))})))},bs=function(e,t){return!(!(null==e?void 0:e.vendors)||!e.vendors.length||e.vendors.length&&!e.vendors[0][ce.SPECIAL_PURPOSES]||e.vendors.every((function(e){var n=t.find((function(t){return t.id===e[ce.ID]}));return!n||e[ce.PURPOSES].sort().toString()===n.purposes.map((function(e){return e.id})).sort().toString()&&e[ce.LEGITIMATE_INTEREST].sort().toString()===n.legitimateInterestPurposes.map((function(e){return e.id})).sort().toString()&&e[ce.SPECIAL_PURPOSES].sort().toString()===n.specialPurposes.map((function(e){return e.id})).sort().toString()})))},Is=function(e){return e.map((function(e){var t=e.id,n=e.legitimateInterestPurposes,i=e.purposes,s=e.specialPurposes;return[t,n.map((function(e){return e.id})),i.map((function(e){return e.id})),s.map((function(e){return e.id}))]}))},Cs=function(e){if(qi.consentLanguages.has(e.toLocaleLowerCase())||qi.consentLanguages.has(e.toUpperCase()))return e;var t=e.slice(0,2);return qi.consentLanguages.has(t.toLocaleLowerCase())||qi.consentLanguages.has(t.toUpperCase())?t:sn},ws=function(e){if(e&&e.source&&e.source.postMessage){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){return}if("object"===s(n)&&n.__tcfapiCall){var i=n.__tcfapiCall;window.__tcfapi(i.command,i.version,(function(n,s){var r={__tcfapiReturn:{returnValue:n,success:s,callId:i.callId}},o=t?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(e){}}),i.parameter)}}},Es=[],As=function(e,t,n,i){if(!e)return Es;switch(e){case"ping":"function"==typeof n&&n({cmpLoaded:!1,cmpStatus:"stub",gdprApplies:!0});break;case"pending":return Es;default:Es.push([e,t,n,i])}},Ts="__tcfapiLocator",Ls=function(){"undefined"!=typeof window&&(window.__tcfapi||!function(){for(var e=window,t=!1;e;){try{if(e.frames[Ts]){t=!0;break}}catch(e){}if(e===window.top){t=!1;break}e=e.parent}return t}()&&($e((function(){return!!window.document.body}),"").then((function(){var e=window.document.createElement("iframe");e.style.cssText="display:none",e.name=Ts,window.document.body.appendChild(e)})),1)&&(window.addEventListener("message",ws,!1),window.__tcfapi=As))};!function(e){e.ACCEPT_ALL_SERVICES="onAcceptAllServices",e.DENY_ALL_SERVICES="onDenyAllServices",e.ESSENTIAL_CHANGE="onEssentialChange",e.INITIAL_PAGE_LOAD="onInitialPageLoad",e.NON_EU_REGION="onNonEURegion",e.SESSION_RESTORED="onSessionRestored",e.TCF_STRING_CHANGE="onTcfStringChange",e.UPDATE_SERVICES="onUpdateServices",e.MOBILE_SESSION_RESTORED="onMobileSessionRestore"}(zi||(zi={})),function(e){e.EXPLICIT="explicit",e.IMPLICIT="implicit"}(Yi||(Yi={})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.CMP_SHOWN=1]="CMP_SHOWN",e[e.ACCEPT_ALL=2]="ACCEPT_ALL",e[e.DENY_ALL=3]="DENY_ALL",e[e.SAVE=4]="SAVE",e[e.ACCEPT_ALL_L1=5]="ACCEPT_ALL_L1",e[e.DENY_ALL_L1=6]="DENY_ALL_L1",e[e.SAVE_L1=7]="SAVE_L1",e[e.ACCEPT_ALL_L2=8]="ACCEPT_ALL_L2",e[e.DENY_ALL_L2=9]="DENY_ALL_L2",e[e.SAVE_L2=10]="SAVE_L2",e[e.COOKIE_POLICY_LINK=11]="COOKIE_POLICY_LINK",e[e.IMPRINT_LINK=12]="IMPRINT_LINK",e[e.MORE_INFORMATION_LINK=13]="MORE_INFORMATION_LINK",e[e.PRIVACY_POLICY_LINK=14]="PRIVACY_POLICY_LINK",e[e.CCPA_TOGGLES_ON=15]="CCPA_TOGGLES_ON",e[e.CCPA_TOGGLES_OFF=16]="CCPA_TOGGLES_OFF",e[e.SAY_MINE_LINK=17]="SAY_MINE_LINK"}(Wi||(Wi={})),function(e){e.API_NAME="__uspapi",e.GET_USP_DATA="getUSPData"}(Qi||(Qi={})),function(e){e[e.FIRST_LAYER=0]="FIRST_LAYER",e[e.NONE=1]="NONE",e[e.PRIVACY_BUTTON=2]="PRIVACY_BUTTON",e[e.SECOND_LAYER=3]="SECOND_LAYER"}(Ki||(Ki={})),function(e){e[e.CCPA=0]="CCPA",e[e.DEFAULT=1]="DEFAULT",e[e.TCF=2]="TCF"}(Xi||(Xi={})),void 0!==zn&&zn.initialize({modulePath:"/dir"});var _s=function(){function e(e,t){var n;if(this.ampInstance=dt.getInstance(),this.apiInstance=jt.getInstance(),this.botInstance=Qt.getInstance(),this.controllerIdInstance=xt.getInstance(),this.dataFacadeInstance=Pn.getInstance(),this.eventDispatcherInstance=en.getInstance(),this.initOptions={},this.isConsentRequired=null,this.languageInstance=Gn.getInstance(),this.storageServiceInstance=ye.getInstance(),this.locationInstance=Pt.getInstance(),this.settingsV2=Un.getInstance(),this.uiInstance=Jn.getInstance(),this.domains=null,this.rulesetRule={name:"",noShow:!0,settingsId:""},this.isCurrentDomainAllowed=function(e){var t,n=window.location.hostname.replace("www.",""),i=window.location.pathname,s=null===(t=e.allowedDomainOptions)||void 0===t?void 0:t.list;if((null==s?void 0:s.length)&&(s=s.filter((function(e){return"string"==typeof e&&""!==e.trim()})).map((function(e){return e.trim()}))),!(null==s?void 0:s.length))return!0;var r=s.concat(Z),o=!1;return r.forEach((function(e){if(e.includes("*")){if("*."===e.slice(0,2))n.includes(e.slice(2))&&(o=!0);else if("/*"===e.slice(-2)){var t=e.slice(0,-2);t.split("/")[0]===n&&(n+i).includes(t)&&(o=!0)}}else e.includes("/")?n+i===e&&(o=!0):n===e&&(o=!0)})),o},t&&(this.initOptions=t),this.apiInstance.setEuMode(!0===(null==t?void 0:t.euMode)),this.domains=(n=window.UC_UI_DOMAINS)?Object.entries(n).reduce((function(e,t){var n,i,s=t[0],r=t[1];return"/"===r.slice(-1)?j(j({},e),((n={})[s]=r.slice(0,-1),n)):j(j({},e),((i={})[s]=r,i))}),{aggregator:"",app:"",cdn:"",consents:"",consentsV2:"",consentsV2Fetch:"",crossDomainConsentSharingIFrame:"",graphql:"",trackingEvent:""}):null,this.apiInstance.setDomains(!0===(null==t?void 0:t.sandboxEnv),this.domains),(null==t?void 0:t.createTcfApiStub)&&Ls(),(null==t?void 0:t.useRulesetId)?this.apiInstance.setRulesetId(e):this.apiInstance.setSettingsId(e),this.controllerIdInstance.value="",(null==t?void 0:t.controllerId)&&!(null==t?void 0:t.useRulesetId)&&(this.controllerIdInstance.value=t.controllerId),(null==t?void 0:t.language)&&this.languageInstance.setPrimaryLanguage(t.language),(null==t?void 0:t.settingsCache)&&this.apiInstance.setJsonCacheBustingString(t.settingsCache),(null==t?void 0:t.version)&&this.apiInstance.setJsonFileVersion(t.version),(null==t?void 0:t.userCountryData)&&"object"===s(t.userCountryData)&&Object.keys(t.userCountryData).every((function(e){return"string"==typeof e}))&&this.locationInstance.setUserCountryData(t.userCountryData),(null==t?void 0:t.userSessionData)&&this.dataFacadeInstance.setUserSessionData(t.userSessionData),(null==t?void 0:t.ampEnabled)&&this.ampInstance.setIsAmpEnabled(!0),(null==t?void 0:t.blockDataLayerPush)&&this.eventDispatcherInstance.setBlockDataLayerPush(!0),(null==t?void 0:t.storeServiceIdToNameMapping)&&this.storageServiceInstance.setStoreServiceIdToNameMapping(null==t?void 0:t.storeServiceIdToNameMapping),(null==t?void 0:t.disableTracking)&&(this.initOptions.disableTracking=!0),(null==t?void 0:t.disableServerConsents)&&this.apiInstance.setDisableServerConsents(!0),(null==t?void 0:t.disableServerConsents)&&(null==t?void 0:t.controllerId))throw new Error("Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!");(null==t?void 0:t.enableDeprecatedV1ConsentSaving)&&(this.initOptions.enableDeprecatedV1ConsentSaving=t.enableDeprecatedV1ConsentSaving),this.initOptions.prefetchServices=Ee(null==t?void 0:t.prefetchServices,!0),this.setTrackingPixel=this.setTrackingPixel.bind(this)}return e.prototype.fetchCoreAndDps=function(){return q(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return[4,this.loadSettings()];case 1:return e=i.sent(),t={allowedDomainOptions:{list:(s=e).allowedDomains,showErrorCmp:s.showErrorOnUnallowedDomain},buttonDisplayLocation:s.buttonDisplayLocation,buttonPrivacyCloseIcon:s.buttonPrivacyCloseIcon,buttonPrivacyOpenIconUrl:s.buttonPrivacyOpenIconUrl,ccpa:(a=s.ccpa,{iabAgreementExists:a.iabAgreementExists,isActive:a.isActive,region:a.region,reshowAfterDays:a.reshowAfterDays,showOnPageLoad:a.showOnPageLoad}),consentAnalytics:s.consentAnalytics,consentAPIv2:s.consentAPIv2,consentSharingIFrameIsActive:s.consentSharingIFrameIsActive,consentXDevice:s.consentXDevice,customization:(o=s.customization,o?j(j({color:o.color?{primary:o.color.primary,privacyButtonBackground:o.color.privacyButtonBackground,privacyButtonIcon:o.color.privacyButtonIcon}:null},o.privacyButtonSizeMobile&&{privacyButtonSizeMobile:o.privacyButtonSizeMobile}),o.privacyButtonSizeDesktop&&{privacyButtonSizeDesktop:o.privacyButtonSizeDesktop}):o),dataExchangeOnPage:s.dataExchangeOnPage,displayOnlyForEU:s.displayOnlyForEU,enableBotDetection:s.enableBotDetection,enablePoweredBy:s.enablePoweredBy,googleConsentMode:s.googleConsentMode,integrations:s.integrations,interactionAnalytics:s.interactionAnalytics,labels:{partnerPoweredByLinkText:s.labels.partnerPoweredByLinkText,poweredBy:s.labels.poweredBy},languagesAvailable:s.languagesAvailable,partnerPoweredByUrl:s.partnerPoweredByUrl,privacyButtonIsVisible:s.privacyButtonIsVisible,privacyButtonUrls:s.privacyButtonUrls,reshowBanner:s.reshowBanner,settingsId:s.settingsId,showInitialViewForVersionChange:s.showInitialViewForVersionChange,tagLoggerIsActive:s.tagLoggerIsActive,tcf2:(r=s.tcf2,{resurfaceATPListChanged:r.resurfaceATPListChanged,resurfaceIABLegalBasisChanged:r.resurfaceIABLegalBasisChanged,resurfacePeriodEnded:r.resurfacePeriodEnded,resurfacePurposeChanged:r.resurfacePurposeChanged,resurfaceVendorAdded:r.resurfaceVendorAdded}),tcf2Enabled:s.tcf2Enabled,variants:s.variants,version:s.version},n=function(e){return{categories:e.categories,consentTemplates:e.consentTemplates}}(e),[2,{core:t,dps:n}]}var s,r,o,a}))}))},e.prototype.init=function(){var e,t,i;return q(this,void 0,void 0,(function(){var s,r,o,a,c,l,u,d,h,p,g,f,v,m,y,S,b,I,C,w,E,A,T=this;return J(this,(function(L){switch(L.label){case 0:return ye.getInstance().init(),this.apiInstance.getRulesetId()?(s=this,[4,Tn.getInstance().resolveSettingsId()]):[3,2];case 1:s.rulesetRule=L.sent(),this.apiInstance.setSettingsId(this.rulesetRule.settingsId),this.initOptions.controllerIds&&this.controllerIdInstance.setControllerIdByResolvedSettingsId(this.rulesetRule.settingsId,this.initOptions.controllerIds),L.label=2;case 2:return ye.clearOnNewSettingsId(this.apiInstance.getSettingsId()),ye.migrateLegacySettings(this.apiInstance.getSettingsId()),r=ye.fetchServices(),o=null==r?void 0:r.map((function(e){return e.history})).flat().reduce((function(e,t){return(null==e?void 0:e.timestamp)<t.timestamp?t:e})),a="explicit"===(null==o?void 0:o.type),[4,this.languageInstance.resolveLanguage()];case 3:L.sent(),L.label=4;case 4:return L.trys.push([4,6,,9]),[4,this.fetchCoreAndDps()];case 5:if(u=L.sent(),h=u.core,p=u.dps,!h.languagesAvailable.includes(this.apiInstance.getJsonFileLanguage()))throw new Error("Using non allowed language");return c=h,l=p,[3,9];case 6:return L.sent(),this.languageInstance.setPrimaryLanguage(""),[4,this.languageInstance.resolveLanguage(!0)];case 7:return L.sent(),[4,this.fetchCoreAndDps()];case 8:return d=L.sent(),h=d.core,p=d.dps,c=h,l=p,[3,9];case 9:if(!this.isCurrentDomainAllowed(c))throw(g=new Error).showErrorCmp=null===(e=c.allowedDomainOptions)||void 0===e?void 0:e.showErrorCmp,console.error('Usercentrics: The domain "'.concat(window.location.hostname,'" has not been added to the allowlist for this Usercentrics account.')),g;if(!c||!l)throw new Error;return this.botInstance.isBotEnabled=c.enableBotDetection,!c.consentSharingIFrameIsActive||this.botInstance.isRobot()?[3,11]:[4,pe.init({useEuCdn:this.initOptions.euMode||!1},this.domains).then((function(){return q(T,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return pe.setCrossDomainId(this.apiInstance.getSettingsId()),pe.setIsCrossDomainAvailable(!0),pe.setUseEuCdn(this.initOptions.euMode||!1),this.languageInstance.getPrimaryLanguage()?[3,3]:[4,pe.getCrossDomainLanguage().catch((function(){return console.warn(G.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE),""}))];case 1:return e=t.sent(),[4,this.changeLanguage(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))})).catch((function(e){pe.setIsCrossDomainAvailable(!1),pe.removeIFrame(ue),console.warn(G.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE,e)}))];case 10:L.sent(),L.label=11;case 11:return this.botInstance.isRobot()?this.initOptions.suppressCmpDisplay=!0:this.initOptions.disableTracking||this.addSessionTrackingPixel(),f=l.consentTemplates.find((function(e){var t;return"Fraud0"===(null===(t=e._meta)||void 0===t?void 0:t.name)||"q-_eu2X2d"===e.templateId})),(null===(t=c.integrations)||void 0===t?void 0:t.fraud0)&&c.integrations.fraud0.length>0&&f&&!(null==f?void 0:f.isDeactivated)&&((v=document.createElement("script")).src="https://bt.fraud0.com/api/v2/fz.js?cid=".concat(c.integrations.fraud0[0].accountId),v.async=!0,v.setAttribute(fn,"Fraud0"),v.type=Wt.TEXT_PLAIN,document.body.appendChild(v)),m=this.apiInstance.getJsonFileLanguage(),[4,this.settingsV2.init(c,l,m)];case 12:return L.sent(),[4,this.uiInstance.resolveUiVariant(c.tcf2Enabled)];case 13:return y=L.sent(),[4,this.settingsV2.initData(y,[],!1,!0===this.initOptions.euMode,this.initOptions.excludeAcceptAllVendors,a,this.initOptions.enableDeprecatedV1ConsentSaving)];case 14:return L.sent(),[4,this.apiInstance.fetchTranslations()];case 15:return S=L.sent(),!this.initOptions.prefetchServices&&this.settingsV2.allLegacyServicesHaveName?[3,17]:[4,this.settingsV2.extendServices(y,S)];case 16:L.sent(),this.apiInstance.resetAggregatedServicesCache(),L.label=17;case 17:return this.controllerIdInstance.setNeedSessionRestore(),[4,this.dataFacadeInstance.restoreUserSession(l)];case 18:return(b=L.sent())||(this.controllerIdInstance.init(),this.settingsV2.data&&this.settingsV2.setControllerId(this.controllerIdInstance.value)),[4,this.uiInstance.init(this.initOptions)];case 19:return L.sent(),I=this.settingsV2.getTcfData(),it(this.settingsV2.data)&&I?[4,this.settingsV2.data.init(!0===this.initOptions.euMode)]:[3,21];case 20:L.sent(),L.label=21;case 21:return this.settingsV2.initLabels(y,S),C=[],ye.settingsExist()&&(C=this.processStorageServicesAndSettings(this.settingsV2.data)),this.botInstance.isRobot()||(this.apiInstance.saveConsentsFromBuffer(),this.apiInstance.saveConsentsV2FromBuffer()),[4,this.uiInstance.resolveUIOptions(c)];case 22:return w=L.sent(),E=w.initialLayer,A=ye.fetchTCFData(),b&&I&&ye.saveTCFData(j(j({},A),{vendors:Is(I.getTCFData().vendors)})),this.setIsConsentRequired(this.uiInstance.shouldShowFirstLayer(c)),this.isConsentRequired&&ye.setUserActionPerformed(!1),this.settingsV2.initLabels(y,S),[4,this.settingsV2.initUI(E,y)];case 23:return L.sent(),I?!(0===E||(null===(i=this.initOptions)||void 0===i?void 0:i.suppressCmpDisplay)&&this.getIsConsentRequired())||this.botInstance.isRobot()?[3,25]:[4,I.setUIAsOpen()]:[3,27];case 24:return L.sent(),[3,27];case 25:return[4,I.setUIAsClosed()];case 26:L.sent(),L.label=27;case 27:return!this.settingsV2.isTagLoggerActive()||this.botInstance.isRobot()?[3,29]:[4,Promise.resolve().then(n.bind(n,322)).then((function(e){(new(0,e.default)).initTagLogger()}))];case 28:L.sent(),L.label=29;case 29:return this.eventDispatcherInstance.init(this.settingsV2.getDataExchangeSettings()),[4,this.updateStorage(r,C,b)];case 30:return L.sent(),[2,w]}}))}))},e.prototype.acceptAllForTCF=function(e){return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.acceptAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.acceptAllServices=function(e){return void 0===e&&(e="explicit"),q(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(O.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(O.TRUE),"onAcceptAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}}))}))},e.prototype.changeLanguage=function(e){var t;return q(this,void 0,void 0,(function(){var n,i,s,r,o,a,c,l,u,d,h,p,g,f,v,m;return J(this,(function(y){switch(y.label){case 0:return n=null===(t=this.settingsV2.core)||void 0===t?void 0:t.language.available,i=n&&n.some((function(t){return t===e})),s=e!==this.apiInstance.getJsonFileLanguage()&&i,r=this.settingsV2,o=r.core,a=r.data,s&&a&&o?(this.apiInstance.setJsonFileLanguage(e),this.apiInstance.resetTranslationsCache(),this.settingsV2.language=e,[4,this.fetchCoreAndDps()]):[3,8];case 1:return c=y.sent().dps,this.settingsV2.dpsJson=c,l=this.uiInstance,u=l.selectedLayer,d=l.variant,[4,this.apiInstance.fetchTranslations()];case 2:return h=y.sent(),null===d||null===u||null==c?[3,6]:!this.settingsV2.isAggregatorLoaded&&this.settingsV2.checkIfServiceNameExists(c.consentTemplates)?[3,4]:[4,this.settingsV2.extendServices(d,h)];case 3:return y.sent(),[3,5];case 4:this.settingsV2.initLabels(d,h),y.label=5;case 5:this.apiInstance.resetAggregatedServicesCache(),y.label=6;case 6:return this.settingsV2.updateServicesLanguage(e),p=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(a),g=p.mergedServices,f=p.mergedServicesData,v=p.mergedSettingsData,o.language.selected=e,v.categories=this.settingsV2.mergeServicesDataIntoExistingCategories(f),this.settingsV2.data=v,(m=this.settingsV2.getDataTransferSettings())&&ye.saveSettings(ye.mapSettings(m,g),g),it(v)?[4,v.changeLanguage(e)]:[3,8];case 7:y.sent(),y.label=8;case 8:return[2]}}))}))},e.prototype.denyAllForTCF=function(e){return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.denyAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.denyAllServices=function(e){return void 0===e&&(e="explicit"),q(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(O.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(O.FALSE),"onDenyAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}}))}))},e.prototype.fetchIsUserInEU=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.locationInstance.getIsUserInEU()]}))}))},e.prototype.fetchUserCountry=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.locationInstance.getUserCountryData()]}))}))},e.prototype.getAbTestVariant=function(){return this.apiInstance.getAbTestVariant()},e.prototype.getCategoriesBaseInfo=function(){return this.settingsV2.getCategoriesBaseInfo()},e.prototype.getCategoriesFullInfo=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getCategoriesFullInfo(this.uiInstance.variant,e)]}}))}))},e.prototype.getCcpaOptOutStatus=function(){var e;return(null===(e=this.settingsV2.getCcpaData())||void 0===e?void 0:e.getIsOptedOut())||!1},e.prototype.getCcpaExplicitNoticeStatus=function(){var e;return(null===(e=this.settingsV2.getCcpaData())||void 0===e?void 0:e.getExplicitNotice())||!1},e.prototype.saveOptOutForCcpa=function(e,t){return void 0===t&&(t="explicit"),q(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return(n=this.settingsV2.getCcpaData())&&n.getIsOptedOut()!==e?(n.setCcpaStorage(e),i={consentAction:e?"onDenyAllServices":"onAcceptAllServices",consentStatus:e?O.FALSE:O.TRUE,consentString:{CCPA:ye.getCcpaString()}},this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(i.consentStatus),this.settingsV2.getUpdatedServicesDataWithConsent(i.consentStatus),i.consentAction,t,i.consentString,this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()]):[2];case 1:return s.sent(),[2]}}))}))},e.prototype.saveDefaultForCcpa=function(){return q(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return e=this.settingsV2.getCcpaData(),t=ye.getCcpaString(),e?[3,2]:(ye.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]);case 1:case 3:return i.sent(),[2];case 2:return"-"===t[1]?(n=e.getIsOptedOut(),null==e||e.setCcpaStorage(n,gn.ACCEPT),window.dispatchEvent(new Event(Kt))):ye.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]}}))}))},e.prototype.getControllerId=function(){return this.controllerIdInstance.value},e.prototype.getServicesBaseInfo=function(){return this.settingsV2.getServicesBaseInfo()},e.prototype.getServicesFullInfo=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getServicesFullInfo(this.uiInstance.variant,e)]}}))}))},e.prototype.getSettingsCore=function(){var e=this.settingsV2.core;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsLabels=function(){var e=this.settingsV2.labels;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsData=function(){var e=this.settingsV2.data;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsUI=function(){return this.settingsV2.ui},e.prototype.getAriaLabels=function(){var e,t;return at(this.settingsV2.labels)&&null!=(null===(e=this.settingsV2.labels)||void 0===e?void 0:e.ariaLabels)?null===(t=this.settingsV2.labels)||void 0===t?void 0:t.ariaLabels:je},e.prototype.getTCFData=function(){var e=this.settingsV2.getTcfData();return e?e.getTCFData():null},e.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.settingsV2.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(e){return this.settingsV2.injectTCString(e)},e.prototype.setTCFUIAsClosed=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsClosed()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.setTCFUIAsOpen=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsOpen()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.updateChoicesForTCF=function(e,t){return q(this,void 0,void 0,(function(){var n;return J(this,(function(i){switch(i.label){case 0:return(n=this.settingsV2.getTcfData())?[4,n.updateChoices(e,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.areAllConsentsAccepted=function(){return this.settingsV2.isTcfAvailable()?this.settingsV2.areAllVendorsAndPurposesAccepted()&&this.settingsV2.areAllServicesAccepted():this.settingsV2.areAllServicesAccepted()},e.prototype.restoreUserSession=function(e){var t,n;return q(this,void 0,void 0,(function(){var i;return J(this,(function(s){switch(s.label){case 0:return(null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2)&&!(null===(n=this.settingsV2.core)||void 0===n?void 0:n.consentXDevice)?(console.warn($.CROSS_DEVICE_FEATURE_DISABLED),this.controllerIdInstance.needsSessionRestore=!1,[2]):(this.controllerIdInstance.value=e,this.controllerIdInstance.needsSessionRestore=!0,this.settingsV2.setControllerId(e),(i=this.settingsV2.dpsJson)?[4,this.dataFacadeInstance.restoreUserSession(i)]:[3,2]);case 1:s.sent()&&this.enableServicesScripts(this.processStorageServicesAndSettings(this.settingsV2.data),this.settingsV2.getGoogleConsentMode(),"onSessionRestored"),s.label=2;case 2:return[2]}}))}))},e.prototype.clearStorage=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,ye.clearAll()];case 1:return e.sent(),[2]}}))}))},e.prototype.postMessageAmp=function(e,t,n){return q(this,void 0,void 0,(function(){var i,s,r,o,a,c,l,u,d=this;return J(this,(function(h){switch(h.label){case 0:return i=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return s=h.sent(),r=function(){var e=d.settingsV2.getTcfData();return i&&(null==e?void 0:e.getTCString)?e.getTCString():s?ye.getCcpaString():""},o=function(){return q(d,void 0,void 0,(function(){var e,t,n,r;return J(this,(function(o){switch(o.label){case 0:return r=this.settingsV2.getTcfData(),i&&r?(e=D.TCF_V2,[4,r.getGdprApplies()]):[3,2];case 1:return t=o.sent(),n=this.settingsV2.getTCFPurposeOneTreatment(),[3,3];case 2:s&&(e=D.CCPA),o.label=3;case 3:return[2,j({consentStringType:e},i&&{gdprApplies:t,purposeOne:n})]}}))}))},c=[{action:t,type:e}],(l=e===L.CONSENT_RESPONSE&&t!==_.DISMISS&&(s||i))?(u={},[4,o()]):[3,3];case 2:u.consentMetadata=h.sent(),u.info=r(),l=u,h.label=3;case 3:return a=j.apply(void 0,[j.apply(void 0,c.concat([l])),n&&{initialHeight:n}]),[2,new Promise((function(e,t){try{window.parent.postMessage(j({},a),"*"),e()}catch(e){t(e)}}))]}}))}))},e.prototype.acceptAllAmp=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.postMessageAmp(L.CONSENT_RESPONSE,_.ACCEPT)];case 1:return e.sent(),[2]}}))}))},e.prototype.denyAllAmp=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.postMessageAmp(L.CONSENT_RESPONSE,_.REJECT)];case 1:return e.sent(),[2]}}))}))},e.prototype.saveTCFDataAmp=function(e){return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return t=e.every((function(e){return e.status})),0===e.length||t?[4,this.postMessageAmp(L.CONSENT_RESPONSE,_.ACCEPT)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.postMessageAmp(L.CONSENT_RESPONSE,_.REJECT)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype.dismissAmp=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.postMessageAmp(L.CONSENT_RESPONSE,_.DISMISS)];case 1:return e.sent(),[2]}}))}))},e.prototype.enterFullscreenAmp=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.postMessageAmp(L.CONSENT_UI,_.FULLSCREEN)]}))}))},e.prototype.uiReadyAmp=function(){return q(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){return e=this.settingsV2.labels,t="60vh",e&&at(e)&&(n=e.firstLayer.description.default.length,window.screen.height>700&&n<=250&&(t="50vh")),[2,this.postMessageAmp(L.CONSENT_UI,_.READY,t)]}))}))},e.prototype.saveUserActionPerformed=function(){return q(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return ye.setUserActionPerformed(!0),this.setIsConsentRequired(!1),this.uiInstance.selectedLayer?[4,this.settingsV2.initUI(this.uiInstance.selectedLayer,this.uiInstance.variant)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.updateServices=function(e,t){return void 0===t&&(t="explicit"),q(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return n=this.settingsV2.getUpdatedServicesWithDecisions(e),i=this.settingsV2.getUpdatedServicesDataWithDecisions(e),Ce(n)&&this.dataFacadeInstance.execute(n,i,"onUpdateServices",t,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return s.sent(),[2]}}))}))},e.prototype.updateLayer=function(e){return q(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return t=this.uiInstance.selectedLayer,this.uiInstance.selectedLayer=e,e===t?[2]:[4,this.settingsV2.initUI(e,this.uiInstance.variant)];case 1:return n.sent(),3!==e?[3,3]:[4,this.loadServices()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.loadServices=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return this.settingsV2.isAggregatorLoaded||!this.uiInstance.selectedLayer?[2]:[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[4,this.settingsV2.extendServices(this.uiInstance.variant,e)];case 2:return t.sent(),this.apiInstance.resetAggregatedServicesCache(),[2]}}))}))},e.prototype.loadSettings=function(){return q(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchSettingsJson()];case 1:return e=t.sent(),this.settingsV2.legacySettings=e,[2,e]}}))}))},e.prototype.updateStorage=function(e,t,n){return q(this,void 0,void 0,(function(){var i,s,r;return J(this,(function(o){switch(o.label){case 0:return[4,this.settingsV2.shouldDenyAllExplicitlyOnInit()];case 1:return o.sent()?(this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(O.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(O.FALSE),"onDenyAllServices","explicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7]):[3,2];case 2:return this.uiInstance.isFirstTimeVisit()?[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]:[3,4];case 3:return o.sent()?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(O.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(O.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):this.dataFacadeInstance.execute(this.settingsV2.getServicesDataAndLabels(),this.settingsV2.getServicesData(),"onInitialPageLoad","implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7];case 4:return i=null!=t?t:this.processStorageServicesAndSettings(this.settingsV2.data),a=this.settingsV2.getServicesData(),(s=(c=e)&&!a.every((function(e){return c.find((function(t){return t.id===e.id}))}))||!1)?[4,this.settingsV2.shouldAcceptAllImplicitlyOnVendorAdded()]:[3,6];case 5:s=o.sent(),o.label=6;case 6:s?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(O.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(O.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):(r=n&&this.dataFacadeInstance.restoreAction?this.dataFacadeInstance.restoreAction:"onInitialPageLoad",this.enableServicesScripts(i,this.settingsV2.getGoogleConsentMode(),r),this.dataFacadeInstance.restoreAction=null),o.label=7;case 7:return[2]}var a,c}))}))},e.prototype.enableScriptsForServicesWithConsent=function(){vn.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent())},e.prototype.setTrackingPixel=function(e){var t;!this.initOptions.disableTracking&&(null===(t=this.settingsV2.coreJson)||void 0===t?void 0:t.interactionAnalytics)&&this.apiInstance.setTrackingPixel(e)},e.prototype.addSessionTrackingPixel=function(){(new Image).src=this.apiInstance.createSessionTrackingUrl()},e.prototype.processStorageServicesAndSettings=function(e){if(!e||!this.settingsV2.labels)return[];var t=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(e),n=t.dataTransferSettings,i=t.mergedServicesData,s=t.mergedServices,r=t.updatedEssentialServices;return this.dataFacadeInstance.mergeServicesAndSettings(s,i,n,r,this.settingsV2.labels.services,this.initOptions.enableDeprecatedV1ConsentSaving)},e.prototype.enableServicesScripts=function(e,t,n){vn.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(e,t,n)},e.prototype.setIsConsentRequired=function(e){this.isConsentRequired=!0===e},e.prototype.getIsConsentRequired=function(){return this.isConsentRequired},e.prototype.getThirdPartyCount=function(){return this.settingsV2.getThirdPartyCount()},e}()},730:()=>{}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";window.addEventListener("itp_consent_status",(e=>{if(e.detail){Object.keys(e.detail).forEach((t=>{!0===e.detail[t]&&document.querySelectorAll('script[data-usercentrics-id="'+t+'"], script[type="application/usercentrics"][pid="'+t+'"]').forEach((e=>{let t=e;e.remove(),t.setAttribute("type","application/javascript"),document.body.appendChild(t)}))}));let t=e;document.addEventListener("DOMContentLoaded",(function(){Object.keys(t.detail).forEach((e=>{!0===t.detail[e]&&document.querySelectorAll('script[data-usercentrics-id="'+e+'"], script[type="application/usercentrics"][pid="'+e+'"]').forEach((e=>{let t=e;e.remove(),t.setAttribute("type","application/javascript"),document.body.appendChild(t)}))}))}))}}));var e=n(43);const t=new class{UC;settingsId;initialUIValues;async init(t){this.settingsId=t;const n={language:window.ucSdk?.defaultLanguage?.split("-")[0],euMode:"false"!==window.ucSdk?.euMode,version:"preview"===window.ucSdk?.ucVersion?"preview":"latest",usMode:"true"===window.ucSdk?.gpcMode};this.UC=await(async(t,i=n)=>new e.az(t,i))(this.settingsId),this.initialUIValues=await this.UC.init()}getAbTestVariant(){return this.UC.getAbTestVariant()}getControllerId(){return this.UC.getControllerId()}getServices(){return this.UC.getServicesBaseInfo()}getCategories(){return this.UC.getCategoriesBaseInfo()}getIsConsentRequired(){return this.UC.getIsConsentRequired()}getSettings(){return this.UC?.settingsV2}getSettingsCore(){return this.UC.getSettingsCore()}getSettingsLabels(){return this.UC.getSettingsLabels()}getAriaLabels(){return this.UC.getAriaLabels()}setTrackingPixel({abTestVariant:e,eventType:t}){this.UC.setTrackingPixel({abTestVariant:e,eventType:t})}async changeLanguage(e,t){await this.UC.changeLanguage(e),"function"==typeof t&&t()}afterChangeServices(e,t){e(),this.UC.setTrackingPixel({abTestVariant:this.UC.getAbTestVariant(),eventType:t})}async updateServices(t,n){await this.UC.updateServices(t),this.afterChangeServices(n,e.aS.SAVE)}async acceptAllServices(t){await this.UC.acceptAllServices(),this.afterChangeServices(t,e.aS.ACCEPT_ALL)}async denyAllServices(t){await this.UC.denyAllServices(),this.afterChangeServices(t,e.aS.DENY_ALL)}},i=e=>{if(!window.ucSdk?.jsonSettings||!window.ucSdk?.settingsId)return!1;let t=!1;return window.ucSdk?.jsonSettings.every((function(n){return n["settings-ID"]!==window.ucSdk?.settingsId||(Object.keys(n.services).every((function(i){return n.services[i]!==e||(t=i,!1)})),!1)})),t},s=e=>{if(!window.ucSdk?.jsonSettings||!window.ucSdk?.settingsId)return!1;let t=!1;return window.ucSdk?.jsonSettings.every((function(n){return n["settings-ID"]!==window.ucSdk?.settingsId||!n.services[e]||""===n.services[e]||(t=n.services[e],!1)})),t},r=e=>{window.ucSdk.jsonSettings=e;let t=!1;window.ucSdk?.jsonSettings.forEach((function(e,n){for(let i in e.URLs){let s=!1;if("localhost"===window.location.hostname&&(s=!0),(o(i)||!0===s)&&!1===t&&(window.ucSdk.settingsId=window.ucSdk?.jsonSettings[n]["settings-ID"],t=!0,void 0!==e.URLs[i].language&&""!==e.URLs[i].language&&(window.ucSdk.defaultLanguage=e.URLs[i].language),void 0!==e.URLs[i].gpc&&!0===e.URLs[i].gpc&&(window.ucSdk.gpcMode="true"),void 0!==e.URLs[i].close&&!0===e.URLs[i].close&&(window.ucSdk.closeButton="true"),void 0!==e.URLs[i].policy&&""!==e.URLs[i].policy&&(window.GlobalConsent=window.GlobalConsent||{},window.GlobalConsent.UrlCookiePolicy=e.URLs[i].policy),void 0!==e.URLs[i].itp&&!0===e.URLs[i].itp)){const e=document.createElement("script");e.type="application/javascript",e.dataset.customSdk="true",e.src=`\n            ${window.location.hostname.includes("porsche-preview.com")?"https://cookie.porsche-preview.com/":"https://cookie.porsche.com/"}?settingsId=${window.ucSdk?.settingsId}`,e.addEventListener("load",(()=>window.ucSdk.itpReady=!0)),window.ucSdk.cookieBridgeScript=e;const t=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."]');t.parentNode.insertBefore(e,t.previousSibling)}}})),window.ucSdk?.settingsId||console.error("No matching Usercentrics settings ID found")},o=e=>{if(e.indexOf("*")<0)return window.location.href.indexOf(e)>-1;{const t=e.split("*");let n=0;return t.forEach((function(e){window.location.href.indexOf(e)>-1&&n++})),n===t.length}},a=async()=>{await t.acceptAllServices((()=>{l({event:"consent_changed Optin",Optin:!0}),d({options:{Optin:!0}})}))},c=async()=>{await t.denyAllServices((()=>{l({event:"consent_changed Optin",Optin:!1}),d({options:{Optin:!1}})}))},l=e=>{window.dataLayer?.push(e),window.oneGa?.push(e),window._mtm?.push({mtmconsent:e})},u=(e,t,n)=>{l({event:`consent_changed ${e}`,...n,[e]:t}),window.dispatchEvent(new CustomEvent("usercentrics-events",{detail:{data:{event:"consent_changed",name:e,status:t}}}))},d=({services:e=t.getServices(),options:n}={})=>{const s={};e.forEach((e=>{const t=e.name.replace(/"/g,"").trim(),r=i(e.id),o={...n};Object.hasOwn(o,"Optin")&&(o.Optin||=e.isEssential),u(t,e.consent.status,o),s[t]=e.consent.status,r&&(u(r,e.consent.status,o),s[r]=e.consent.status)})),l({event:"consents_changed_finished",...n,Optin:!0,...s}),window.dispatchEvent(new Event("consents_changed_finished"))},h=()=>{const e=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."], script[src*="udg-uc-sdk-pds."], script[src*="udg-uc-sdk-pds-preview."]');let t="/all/usercentrics/uc-settings.json";if(!e)return;window._mtm=window._mtm||[],window.ucSdk=window.ucSdk||{},window.ucSdk.ucReady=!1,window.ucSdk.cookieOptin=document.cookie?.indexOf("uc-sdk-accept-all=true")>=0;const n=window.location.search,i=new URLSearchParams(n);window.ucSdk.paramOptin="true"===i.get("uc-consent-all"),window.ucSdk.paramOptout="false"===i.get("uc-consent-all"),("true"===i.get("uc-hide-banner")||window.location.hash.includes("#uc-hide-banner=true"))&&(window.ucSdk.hideBanner=!0),window.ucSdk.defaultLanguage=e.getAttribute("language"),window.ucSdk.gpcMode=e.getAttribute("data-gpc"),window.ucSdk.closeButton=e.getAttribute("data-close"),window.ucSdk.euMode=e.getAttribute("data-eu"),window.ucSdk.ucVersion=e.getAttribute("data-version"),window.ucSdk.noPds=e.getAttribute("data-pds"),window.ucSdk.hideBanner||="true"===e.getAttribute("data-hide-banner");const s=document.createElement("script");if("true"===window.ucSdk.noPds)s.text='porscheDesignSystem.load({ prefix: "uc" });',console.log("pds kommt von der Seite"),document.body.appendChild(s);else{if(s.type="text/javascript",s.text='var porscheDesignSystem;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{load:()=>r});const n="porscheDesignSystem";function o(){return document[n]||(document[n]={}),document[n]}function s({script:e,version:t,prefix:s}){const r=function(e){const t=o(),{[e]:n}=t;if(!n){let n=()=>{};const o=new Promise((e=>n=e));t[e]={isInjected:!1,isReady:()=>o,readyResolve:n,prefixes:[],registerCustomElements:null}}return t[e]}(t),{isInjected:i,prefixes:c=[],registerCustomElements:d}=r,[u]=Object.entries(o()).filter((([e,n])=>e!==t&&"object"==typeof n&&n.prefixes.includes(s)));if(u)throw new Error(`[Porsche Design System v${t}] prefix \'${s}\' is already registered with version \'${u[0]}\' of the Porsche Design System. Please use a different one.\\nTake a look at document.${n} for more details.`);i||(function(e){const t=document.createElement("script");t.src=e,t.setAttribute("crossorigin",""),document.body.appendChild(t)}(e),r.isInjected=!0),c.includes(s)||(c.push(s),d&&d(s))}const r=(e={})=>{const t="PORSCHE_DESIGN_SYSTEM_CDN";window[t]=e.cdn||window[t]||(window.location.origin.match(/\\.cn$/)?"cn":"auto");const n="porscheDesignSystem";document[n]||(document[n]={}),document[n].cdn={url:"https://cdn.ui.porsche."+("cn"===window[t]?"cn":"com"),prefixes:[]},s({version:"3.13.0",script:document[n].cdn.url+"/porsche-design-system/components/porsche-design-system.v3.13.0.c14b6df1f53e794a6bca.js",prefix:e.prefix||""})};porscheDesignSystem=t})();\nporscheDesignSystem.load({ prefix: "uc" });',document.body.appendChild(s),document.querySelectorAll('link[href*="/porsche-design-system/fonts/porsche-next-w-la-regular"][rel="preload"]').length<1){const e=document.createElement("link");e.rel="preload",e.href="https://cdn.ui.porsche.com/porsche-design-system/fonts/porsche-next-w-la-regular.min.b8f1c203bd2ac5334247025236ba8d86.woff2",e.as="font",e.type="font/woff2",e.crossorigin=!0,document.head.appendChild(e)}if(document.querySelectorAll('link[href*="/porsche-design-system/fonts/porsche-next-w-la-semi-bold"][rel="preload"]').length<1){const e=document.createElement("link");e.rel="preload",e.href="https://cdn.ui.porsche.com/porsche-design-system/fonts/porsche-next-w-la-semi-bold.min.b5f6fca7225aa73578f65320bcf79b45.woff2",e.as="font",e.type="font/woff2",e.crossorigin=!0,document.head.appendChild(e)}if(document.querySelectorAll("style[data-pds-initial-styles]").length<1){const e=document.createElement("style");e.setAttribute("data-pds-initial-styles",""),e.innerHTML="uc-p-accordion,uc-p-banner,uc-p-button,uc-p-button-group,uc-p-button-pure,uc-p-button-tile,uc-p-carousel,uc-p-checkbox-wrapper,uc-p-content-wrapper,uc-p-crest,uc-p-display,uc-p-divider,uc-p-fieldset,uc-p-fieldset-wrapper,uc-p-flex,uc-p-flex-item,uc-p-flyout,uc-p-flyout-navigation,uc-p-flyout-navigation-item,uc-p-grid,uc-p-grid-item,uc-p-heading,uc-p-headline,uc-p-icon,uc-p-inline-notification,uc-p-link,uc-p-link-pure,uc-p-link-social,uc-p-link-tile,uc-p-link-tile-model-signature,uc-p-link-tile-product,uc-p-marque,uc-p-modal,uc-p-model-signature,uc-p-multi-select,uc-p-multi-select-option,uc-p-pagination,uc-p-pin-code,uc-p-popover,uc-p-radio-button-wrapper,uc-p-scroller,uc-p-segmented-control,uc-p-segmented-control-item,uc-p-select,uc-p-select-option,uc-p-select-wrapper,uc-p-spinner,uc-p-stepper-horizontal,uc-p-stepper-horizontal-item,uc-p-switch,uc-p-table,uc-p-table-body,uc-p-table-cell,uc-p-table-head,uc-p-table-head-cell,uc-p-table-head-row,uc-p-table-row,uc-p-tabs,uc-p-tabs-bar,uc-p-tabs-item,uc-p-tag,uc-p-tag-dismissible,uc-p-text,uc-p-text-field-wrapper,uc-p-text-list,uc-p-text-list-item,uc-p-textarea-wrapper,uc-p-toast,uc-p-wordmark{visibility:hidden}.hydrated,.ssr{visibility:inherit}",document.head.appendChild(e)}}t=e.getAttribute("src").indexOf("preview.ppn.porsche.com")>=0?"https://preview.ppn.porsche.com"+t:"true"===e.getAttribute("data-dev")?"/uc-settings.json":"https://www.porsche.com"+t,e.hasAttribute("id")?(window.ucSdk.settingsId=e.getAttribute("id"),window.ucSdk?.settingsId||console.error("No Usercentrics settings ID found")):(e=>{const t=new XMLHttpRequest;t.open("GET",e,!1),t.send(null),200===t.status&&r(JSON.parse(t.responseText))})(t),window.ucSdk.defaultLanguage?.split(",").length>1&&(window.ucSdk.languages=window.ucSdk.defaultLanguage.split(","),window.ucSdk.defaultLanguage=window.ucSdk.defaultLanguage.split(",")[0]),window.GlobalConsent&&(window.GlobalConsent?.Language&&(window.ucSdk.defaultLanguage=window.GlobalConsent?.Language,"object"==typeof window.GlobalConsent?.Language&&window.GlobalConsent?.Language.length>0&&(window.ucSdk.defaultLanguage=window.GlobalConsent?.Language[0],window.ucSdk.languages=window.GlobalConsent?.Language)),window.GlobalConsent?.DarkMode&&(window.ucSdk.darkMode=window.GlobalConsent?.DarkMode),window.GlobalConsent?.DarkWidget&&(window.ucSdk.darkWidget=window.GlobalConsent?.DarkWidget)),document.querySelectorAll("*[uc-global-consent][uc-lang]").forEach((e=>{window.ucSdk.defaultLanguage=e.getAttribute("uc-lang")}))};window.ucSdk=window.ucSdk||{},window.ucPrivacyShield=window.ucPrivacyShield||{};window.usercentrics=window.usercentrics||{};const p=()=>{const e=document.createElement("uc-layer2");e.id=window.ucSdk?.settingsId,window.ucSdk?.defaultLanguage&&e.setAttribute("language",window.ucSdk?.defaultLanguage),window.ucSdk?.languages&&e.setAttribute("languages",window.ucSdk?.languages),"true"===window.ucSdk?.gpcMode&&e.setAttribute("ccpa","true"),"true"===window.ucSdk?.closeButton&&e.setAttribute("closeButton","true"),!0===window.GlobalConsent?.openAll&&e.setAttribute("openAll","true"),!1===window.GlobalConsent?.HideEssentialSDK&&e.setAttribute("essential","shown"),!0===window.GlobalConsent?.HideFunctionalSDK&&e.setAttribute("functional","unshown"),!0===window.GlobalConsent?.HideMarketingSDK&&e.setAttribute("marketing","unshown"),document.body.appendChild(e)},g=()=>{document.querySelectorAll('*[uc-layout="privacySettings"]:not([data-rendered])').forEach((e=>{const t=document.createElement("uc-widget");e.dataset.rendered="true",e.appendChild(t)}))},f=async()=>{h(),await(async()=>{const e=window.ucSdk?.settingsId||document.getElementsByTagName("uc-layer2").item(0)?.id;await t.init(e)})(),(()=>{!1!==window.ucSdk.itpReady?p():window.ucSdk.cookieBridgeScript.addEventListener("load",(function(){p()})),"complete"===document.readyState?(g(),window.addEventListener("load",(function(){g()}))):window.addEventListener("load",(function(){g()})),new MutationObserver((function(){g()})).observe(document.body,{attributes:!1,childList:!0,subtree:!0});const e=document.querySelectorAll('[href="#uc-info-modal-show"]');for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){e.preventDefault(),window.usercentrics.toggleConsentInfoModalIsVisible(!0)}))})(),window.ucSdk.ucReady=!0,window.dispatchEvent(new Event("ucReady")),(()=>{window.usercentrics&&"function"==typeof window.usercentrics.onViewInit&&window.usercentrics.onViewInit(),window.usercentrics.isInitialized=!0;const e="true"===window.ucSdk.gpcMode?!navigator.globalPrivacyControl:Boolean("true"===localStorage.getItem("uc_user_interaction")||window.ucSdk.cookieOptin||window.ucSdk.paramOptin||window.ucSdk.paramOptout);let n={},s={};t.getServices().forEach((e=>{const t=e.name.replace(/"/g,"").trim(),r=i(e.id),o=localStorage.getItem("uc_settings"),a=localStorage.getItem("uc_user_interaction");if(o&&"true"===a){const i=JSON.parse(o),s=i.services?.find((({id:t})=>t===e.id));s&&(n={...n,...t&&{[t]:s.status},...r&&{[r]:s.status}})}s={...s,[t]:e.consent.status,...r&&{[r]:e.consent.status}}})),Object.keys(n).length&&l({event:"consents_initialized",Optin:e,usc_origin:"from local setting",...n}),l({event:"consents_initialized",Optin:e,usc_origin:"from server setting",...s}),window.ucSdk.cookieOptin||window.ucSdk.paramOptin?a():window.ucSdk.paramOptout&&c(),window.dispatchEvent(new Event("ucInit"))})()};"loading"!==document.readyState?f():document.addEventListener("DOMContentLoaded",f);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const v=globalThis,m=v.ShadowRoot&&(void 0===v.ShadyCSS||v.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,y=Symbol(),S=new WeakMap;class b{constructor(e,t,n){if(this._$cssResult$=!0,n!==y)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(m&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=S.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&S.set(t,e))}return e}toString(){return this.cssText}}const I=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new b(n,e,y)},C=(e,t)=>{if(m)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),i=v.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=n.cssText,e.appendChild(t)}},w=m?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new b("string"==typeof e?e:e+"",void 0,y))(t)})(e):e,{is:E,defineProperty:A,getOwnPropertyDescriptor:T,getOwnPropertyNames:L,getOwnPropertySymbols:_,getPrototypeOf:D}=Object,O=globalThis,R=O.trustedTypes,N=R?R.emptyScript:"",V=O.reactiveElementPolyfillSupport,k=(e,t)=>e,x={toAttribute(e,t){switch(t){case Boolean:e=e?N:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},U=(e,t)=>!E(e,t),P={attribute:!0,type:String,converter:x,reflect:!1,hasChanged:U};Symbol.metadata??=Symbol("metadata"),O.litPropertyMetadata??=new WeakMap;class F extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=P){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,t);void 0!==i&&A(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){const{get:i,set:s}=T(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return i?.call(this)},set(t){const r=i?.call(this);s.call(this,t),this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??P}static _$Ei(){if(this.hasOwnProperty(k("elementProperties")))return;const e=D(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(k("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(k("properties"))){const e=this.properties,t=[...L(e),..._(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(w(e))}else void 0!==e&&t.push(w(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return C(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EC(e,t){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(void 0!==i&&!0===n.reflect){const s=(void 0!==n.converter?.toAttribute?n.converter:x).toAttribute(t,n.type);this._$Em=e,null==s?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,t){const n=this.constructor,i=n._$Eh.get(e);if(void 0!==i&&this._$Em!==i){const e=n.getPropertyOptions(i),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:x;this._$Em=i,this[i]=s.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){if(n??=this.constructor.getPropertyOptions(e),!(n.hasChanged??U)(this[e],t))return;this.P(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,n){this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e)!0!==n.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],n)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}F.elementStyles=[],F.shadowRootOptions={mode:"open"},F[k("elementProperties")]=new Map,F[k("finalized")]=new Map,V?.({ReactiveElement:F}),(O.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const M=globalThis,B=M.trustedTypes,$=B?B.createPolicy("lit-html",{createHTML:e=>e}):void 0,G="$lit$",H=`lit$${Math.random().toFixed(9).slice(2)}$`,j="?"+H,q=`<${j}>`,J=document,z=()=>J.createComment(""),Y=e=>null===e||"object"!=typeof e&&"function"!=typeof e,W=Array.isArray,Q=e=>W(e)||"function"==typeof e?.[Symbol.iterator],K="[ \t\n\f\r]",X=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Z=/-->/g,ee=/>/g,te=RegExp(`>|${K}(?:([^\\s"'>=/]+)(${K}*=${K}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),ne=/'/g,ie=/"/g,se=/^(?:script|style|textarea|title)$/i,re=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),oe=re(1),ae=(re(2),Symbol.for("lit-noChange")),ce=Symbol.for("lit-nothing"),le=new WeakMap,ue=J.createTreeWalker(J,129);function de(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==$?$.createHTML(t):t}const he=(e,t)=>{const n=e.length-1,i=[];let s,r=2===t?"<svg>":"",o=X;for(let t=0;t<n;t++){const n=e[t];let a,c,l=-1,u=0;for(;u<n.length&&(o.lastIndex=u,c=o.exec(n),null!==c);)u=o.lastIndex,o===X?"!--"===c[1]?o=Z:void 0!==c[1]?o=ee:void 0!==c[2]?(se.test(c[2])&&(s=RegExp("</"+c[2],"g")),o=te):void 0!==c[3]&&(o=te):o===te?">"===c[0]?(o=s??X,l=-1):void 0===c[1]?l=-2:(l=o.lastIndex-c[2].length,a=c[1],o=void 0===c[3]?te:'"'===c[3]?ie:ne):o===ie||o===ne?o=te:o===Z||o===ee?o=X:(o=te,s=void 0);const d=o===te&&e[t+1].startsWith("/>")?" ":"";r+=o===X?n+q:l>=0?(i.push(a),n.slice(0,l)+G+n.slice(l)+H+d):n+H+(-2===l?t:d)}return[de(e,r+(e[n]||"<?>")+(2===t?"</svg>":"")),i]};class pe{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let s=0,r=0;const o=e.length-1,a=this.parts,[c,l]=he(e,t);if(this.el=pe.createElement(c,n),ue.currentNode=this.el.content,2===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(i=ue.nextNode())&&a.length<o;){if(1===i.nodeType){if(i.hasAttributes())for(const e of i.getAttributeNames())if(e.endsWith(G)){const t=l[r++],n=i.getAttribute(e).split(H),o=/([.?@])?(.*)/.exec(t);a.push({type:1,index:s,name:o[2],strings:n,ctor:"."===o[1]?ye:"?"===o[1]?Se:"@"===o[1]?be:me}),i.removeAttribute(e)}else e.startsWith(H)&&(a.push({type:6,index:s}),i.removeAttribute(e));if(se.test(i.tagName)){const e=i.textContent.split(H),t=e.length-1;if(t>0){i.textContent=B?B.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],z()),ue.nextNode(),a.push({type:2,index:++s});i.append(e[t],z())}}}else if(8===i.nodeType)if(i.data===j)a.push({type:2,index:s});else{let e=-1;for(;-1!==(e=i.data.indexOf(H,e+1));)a.push({type:7,index:s}),e+=H.length-1}s++}}static createElement(e,t){const n=J.createElement("template");return n.innerHTML=e,n}}function ge(e,t,n=e,i){if(t===ae)return t;let s=void 0!==i?n._$Co?.[i]:n._$Cl;const r=Y(t)?void 0:t._$litDirective$;return s?.constructor!==r&&(s?._$AO?.(!1),void 0===r?s=void 0:(s=new r(e),s._$AT(e,n,i)),void 0!==i?(n._$Co??=[])[i]=s:n._$Cl=s),void 0!==s&&(t=ge(e,s._$AS(e,t.values),s,i)),t}class fe{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,i=(e?.creationScope??J).importNode(t,!0);ue.currentNode=i;let s=ue.nextNode(),r=0,o=0,a=n[0];for(;void 0!==a;){if(r===a.index){let t;2===a.type?t=new ve(s,s.nextSibling,this,e):1===a.type?t=new a.ctor(s,a.name,a.strings,this,e):6===a.type&&(t=new Ie(s,this,e)),this._$AV.push(t),a=n[++o]}r!==a?.index&&(s=ue.nextNode(),r++)}return ue.currentNode=J,i}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class ve{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,i){this.type=2,this._$AH=ce,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ge(this,e,t),Y(e)?e===ce||null==e||""===e?(this._$AH!==ce&&this._$AR(),this._$AH=ce):e!==this._$AH&&e!==ae&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):Q(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==ce&&Y(this._$AH)?this._$AA.nextSibling.data=e:this.T(J.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,i="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=pe.createElement(de(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(t);else{const e=new fe(i,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=le.get(e.strings);return void 0===t&&le.set(e.strings,t=new pe(e)),t}k(e){W(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const s of e)i===t.length?t.push(n=new ve(this.S(z()),this.S(z()),this,this.options)):n=t[i],n._$AI(s),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class me{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,i,s){this.type=1,this._$AH=ce,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=s,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ce}_$AI(e,t=this,n,i){const s=this.strings;let r=!1;if(void 0===s)e=ge(this,e,t,0),r=!Y(e)||e!==this._$AH&&e!==ae,r&&(this._$AH=e);else{const i=e;let o,a;for(e=s[0],o=0;o<s.length-1;o++)a=ge(this,i[n+o],t,o),a===ae&&(a=this._$AH[o]),r||=!Y(a)||a!==this._$AH[o],a===ce?e=ce:e!==ce&&(e+=(a??"")+s[o+1]),this._$AH[o]=a}r&&!i&&this.j(e)}j(e){e===ce?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ye extends me{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ce?void 0:e}}class Se extends me{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ce)}}class be extends me{constructor(e,t,n,i,s){super(e,t,n,i,s),this.type=5}_$AI(e,t=this){if((e=ge(this,e,t,0)??ce)===ae)return;const n=this._$AH,i=e===ce&&n!==ce||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==ce&&(n===ce||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Ie{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ge(this,e)}}const Ce=M.litHtmlPolyfillSupport;Ce?.(pe,ve),(M.litHtmlVersions??=[]).push("3.1.3");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class we extends F{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{const i=n?.renderBefore??t;let s=i._$litPart$;if(void 0===s){const e=n?.renderBefore??null;i._$litPart$=s=new ve(t.insertBefore(z(),e),e,void 0,n??{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ae}}we._$litElement$=!0,we.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:we});const Ee=globalThis.litElementPolyfillSupport;Ee?.({LitElement:we});(globalThis.litElementVersions??=[]).push("4.0.5");const Ae=I`
  .pds-loading,
  .hidden,
  .hidden * {
    display: none !important;
    z-index: -1000 !important;
  }

  .ccpa-banner {
    position: fixed;
    border-radius: 12px;
    background: #ffffff;
    box-shadow: 0 6px 36px rgba(0, 0, 0, 0.3);
    box-sizing: border-box;
    font-family: 'Porsche Next', 'Arial Narrow', sans-serif;
    z-index: 9999995;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 20px;

    #ccpa-banner-close {
      position: absolute;
      top: 20px;
      right: 20px;
    }

    @media (min-width: 640px) {
      left: unset;
      right: 20px;
      bottom: 20px;
      max-width: calc(100% - 40px);
      width: 600px;
    }
  }

  .modal {
    .categories {
      padding-bottom: 16px;
    }

    .category {
      max-width: 1052px;
      margin-bottom: 10px;

      &:last-child {
        margin-bottom: 0;
      }

      .category-content {
        display: flex;
        justify-content: flex-start;
      }
    }
  }
`;var Te={d:(e,t)=>{for(var n in t)Te.o(t,n)&&!Te.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},Le={};Te.d(Le,{O:()=>Re,H:()=>Oe});const _e="porscheDesignSystem";function De(){return document[_e]||(document[_e]={}),document[_e]}const Oe=(e={})=>{const t="PORSCHE_DESIGN_SYSTEM_CDN";window[t]=e.cdn||window[t]||(window.location.origin.match(/\.cn$/)?"cn":"auto");const n="porscheDesignSystem";document[n]||(document[n]={}),document[n].cdn={url:"https://cdn.ui.porsche."+("cn"===window[t]?"cn":"com"),prefixes:[]},function({script:e,version:t,prefix:n}){const i=function(e){const t=De(),{[e]:n}=t;if(!n){let n=()=>{};const i=new Promise((e=>n=e));t[e]={isInjected:!1,isReady:()=>i,readyResolve:n,prefixes:[],registerCustomElements:null}}return t[e]}(t),{isInjected:s,prefixes:r=[],registerCustomElements:o}=i,[a]=Object.entries(De()).filter((([e,i])=>e!==t&&"object"==typeof i&&i.prefixes.includes(n)));if(a)throw new Error(`[Porsche Design System v${t}] prefix '${n}' is already registered with version '${a[0]}' of the Porsche Design System. Please use a different one.\nTake a look at document.${_e} for more details.`);s||(function(e){const t=document.createElement("script");t.src=e,t.setAttribute("crossorigin",""),document.body.appendChild(t)}(e),i.isInjected=!0),r.includes(n)||(r.push(n),o&&o(n))}({version:"3.15.2",script:document[n].cdn.url+"/porsche-design-system/components/porsche-design-system.v3.15.2.2af3ef8cfd80e09c3ec8.js",prefix:e.prefix||""})},Re=(e=document.body)=>{let t;const n=new Promise((e=>t=e)),i=()=>{Ve().then((()=>ke(e,t)))};if(Ne())i();else{const e="readystatechange",t=()=>{Ne()&&(document.removeEventListener(e,t),i())};document.addEventListener(e,t)}return n},Ne=()=>"complete"===document.readyState,Ve=()=>{if(document.porscheDesignSystem?.["3.15.2"]?.isReady)return document.porscheDesignSystem["3.15.2"].isReady();{let e;const t=new Promise((t=>e=t)),n={set(t,n,i){return"3.15.2"===n&&i.isReady().then(e),Reflect.set(...arguments)}};return document.porscheDesignSystem=new Proxy(document.porscheDesignSystem||{},n),t}},ke=(e,t)=>{const n=xe(e);Promise.all(n).then((e=>t(e.length))).catch((e=>console.error("[Porsche Design System]",e)))},xe=e=>{let t=[];return 1===e?.nodeType&&Array.from(e.children).forEach((e=>{Pe(e)&&t.push(e.componentOnReady()),t=t.concat(xe(e))})),t},Ue=/^(.*-)?P-(.*)$/,Pe=e=>Ue.exec(e.tagName)&&"function"==typeof e.componentOnReady;var Fe=Le.O;const Me=I`
  .heading {
    max-width: 1052px;

    &.ccpa {
      margin-bottom: 8px;
    }
  }

  .heading-top {
    display: flex;
    justify-content: space-between;

    @media screen and (max-width: 640px) {
      flex-direction: column;
    }

    .language-switch {
      display: flex;
      align-items: center;
      flex-wrap: nowrap;
      gap: 0.5rem;
      order: 1;

      @media screen and (max-width: 640px) {
        order: 0;
        margin-left: auto;
      }

      .separator {
        margin-top: -0.2rem;
      }

      .active {
        font-weight: bold;
      }
    }
  }

  .description {
    max-width: 1052px;

    @media screen and (max-width: 640px) {
      .description {
        line-height: 20px;
        font-size: 30px;
      }
    }

    div {
      margin-bottom: 8px;

      & > br:first-child {
        display: none;
      }
    }
  }
`;customElements.define("uc-description",class extends we{static get properties(){return{open:{type:Boolean,attribute:"open",reflect:!0}}}constructor(){super(),this.ccpa=window.ucSdk?.gpcMode||document.getElementsByTagName("uc-layer2").item(0).getAttribute("ccpa"),this.languageSwitchElement=this.languageSwitch(),this.ccpa||"false"===this.ccpa?this.headline=t.getSettings().labels.secondLayer.title:this.headline=t.getSettings().labels.firstLayer.title,this.secondLayerText="",this.subtitle=t.getSettings().labels.firstLayer.title,this.init(),window.addEventListener("uc-language_changed",(()=>{this.updateLang()}))}async init(){this.ccpa&&"false"!==this.ccpa?this.secondLayerText=t.getSettings().labels.firstLayer.description.default+"<style>a{color:rgb(1, 2, 5)}</style>":this.secondLayerText=t.getSettings().labels.secondLayer.description+"<style>a{color:rgb(1, 2, 5)};</style>",this.text=this.secondLayerText.toString(),this.div=document.createElement("div"),this.div.innerHTML=this.secondLayerText,this.description=this.div,this.headline=t.getSettings().labels.secondLayer.title,this.subtitle=t.getSettings().labels.firstLayer.title,this.requestUpdate()}async fixLinks(){let e=this.renderRoot?.querySelectorAll("a");if(window.GlobalConsent?.UrlCookiePolicy&&""!==window.GlobalConsent?.UrlCookiePolicy)for(var t=0;t<e.length;t++)e[t].href=window.GlobalConsent?.UrlCookiePolicy}async firstUpdated(){this.fixLinks()}static styles=[Me];render(){return"true"!==this.ccpa?oe`
      <div slot="heading" class="heading">
        <div class="heading-top" @click="${this.switchLang}">
          ${this.languageSwitchElement}
          <uc-p-text size="small" class="subtitle">${this.subtitle}</uc-p-text>
        </div>
        <uc-p-heading tag="h2" size="large" style="margin-bottom: 8px">${this.headline}</uc-p-headline>
      </div>
      <div slot="text" class="text">
        <uc-p-text class="description" size="xx-small" style="margin-bottom:20px">${this.description}</uc-p-text>
      </div>
    `:oe`
      <div slot="heading" class="heading ccpa">
        <uc-p-heading tag="h2" size="medium">${this.headline}</uc-p-headline>
      </div>
      <div slot="text" class="text">
        <uc-p-text class="description" size="{ base: 'xx-small', s: 'small' }">${this.description}</uc-p-text>
      </div>
    `}updateLang(){this.headline=t.getSettings().labels.secondLayer.title,this.subtitle=t.getSettings().labels.firstLayer.title,this.ccpa&&"false"!==this.ccpa?this.secondLayerText=t.getSettings().labels.firstLayer.description.default+"<style>a{color:rgb(1, 2, 5)}</style>":this.secondLayerText=t.getSettings().labels.secondLayer.description+"<style>a{color:rgb(1, 2, 5)};</style>",this.text=this.secondLayerText.toString(),this.div=document.createElement("div"),this.div.innerHTML=this.secondLayerText;let e=this.div.querySelectorAll("a");if(window.GlobalConsent?.UrlCookiePolicy&&""!==window.GlobalConsent?.UrlCookiePolicy)for(var n=0;n<e.length;n++)e[n].href=window.GlobalConsent?.UrlCookiePolicy;this.description=this.div,this.languageSwitchElement=this.languageSwitch(),this.requestUpdate()}languageSwitch(){const e=t.getSettingsCore();if(!window.ucSdk?.languages||window.ucSdk?.languages.length<=1)return"";{let n="";window.ucSdk?.languages.forEach(((i,s)=>{const r=i.split("-")[0]?.toLowerCase();s>0&&(n+='<span aria-hidden="true">|</span>'),n+=`<uc-p-button-pure icon="none" aria="{ 'aria-label': '${t.getAriaLabels()?.languageSelector} ${r.toUpperCase()}' }" data-lang="${r}" @click="${this.switchLang}">\n             <span ${e?.language?.selected===r?'style="font-weight: bold"':""}>${r.toUpperCase()}</span>\n           </uc-p-button-pure>`})),n+='<uc-p-icon size="xx-small" name="globe" aria-hidden="true"></uc-p-icon>';const i=document.createElement("div");return i.classList.add("language-switch"),i.innerHTML=n,i}}switchLang(e){const t=e.target.closest("uc-p-button-pure");t&&window.usercentrics.updateLanguage(t.dataset?.lang)}});const Be=I`
  .deny {
    order: 2;
  }

  .save {
    order: 1;
  }

  .accept {
    order: 3;
    margin-left: auto;
  }

  .button-container {
    display: flex;
    gap: 15px;
  }

  @media screen and (max-width: 640px) {
    .button-container {
      flex-direction: column;
      gap: 10px;
    }

    .accept {
      width: 100%;
      order: 1;
      margin-left: 0;
    }

    .save {
      width: 100%;
      order: 2;
    }

    .deny {
      width: 100%;
      order: 3;
    }
  }
`;customElements.define("uc-footer",class extends we{saveLabel;acceptLabel;denyLabel;constructor(){super(),this.attachShadow({mode:"open"}),this.updateLabels(),window.addEventListener("uc-language_changed",(()=>{this.updateLabels(),this.requestUpdate()}))}static styles=[Be];render(){return oe`
      <div class="button-container">
        <uc-p-button type="button" variant="tertiary" class="save" @click="${this.handleSave}">
          ${this.saveLabel}
        </uc-p-button>
        <uc-p-button type="button" class="deny" @click="${this.handleDeny}">
          ${this.denyLabel}
        </uc-p-button>
        <uc-p-button type="button" class="accept" @click="${this.handleAccept}">
          ${this.acceptLabel}
        </uc-p-button>
      </div>
    `}handleAccept(){this.dispatchEvent(new Event("accept"))}handleDeny(){this.dispatchEvent(new Event("deny"))}handleSave(){this.dispatchEvent(new Event("save"))}updateLabels(){const{labels:{buttons:{save:e,acceptAll:n,denyAll:i}}}=t.getSettings();this.saveLabel=e,this.acceptLabel=n,this.denyLabel=i}});customElements.define("uc-layer2",class extends we{constructor(){super(),this.ccpa=window.ucSdk.gpcMode,this.module="false",t.initialUIValues.variant!==e.aD.DEFAULT&&t.initialUIValues.variant!==e.aD.CCPA||window.ucSdk.hideBanner||window.ucSdk.cookieOptin||window.ucSdk.paramOptin||window.ucSdk.paramOptout||"true"===localStorage.getItem("uc_user_interaction")||(this.module="true",t.setTrackingPixel({abTestVariant:t.getAbTestVariant(),eventType:e.aS.CMP_SHOWN})),this.modalInformation=t.getSettings()._labels.ariaLabels.usercentricsCMPUI,this.spacingTop=100,window.location.search&&window.location.search.indexOf("cs_redirect=1")>=0&&(this.spacingTop=180),this.closeLayer=t.getSettings()._labels.ariaLabels.closeButton,this.categories=t.getCategories();let n="";for(let e=0;e<this.categories.length;e++){let t=document.createElement("div");t.innerHTML=this.categories[e].description;let i=t.querySelector(".desc-short")?.textContent||t.innerText||"",s=!0;if(!this.categories[e].isEssential)for(let t=0;t<this.categories[e].services.length;t++)!0!==this.categories[e].services[t].consent.status&&(s=!1);n+=`\n        <div class="category cat${e+1} ${this.categories[e].slug}">\n          <div class="category-content" style="display:flex;">\n            <uc-p-checkbox-wrapper style="display:flex; align-self:flex-start; margin-top: 3px"\n                                   label="${this.categories[e].label}" hide-label="true">\n              <input type="checkbox" data-slug=${this.categories[e].slug} ${this.categories[e].isEssential?"disabled":""} ${s?"checked":""} />\n            </uc-p-checkbox-wrapper>\n            <uc-p-accordion\n              className="category${e+1}"\n              id="heading${e+1}"\n              heading="${this.categories[e].label}"\n              tag="h3"\n              compact="true"\n              style="margin-left:16px; flex-grow: 1;"\n            >\n              <uc-p-text size="xx-small">${i}</uc-p-text>\n            </uc-p-accordion>\n          </div>\n        </div>`}this.categoriesList=document.createElement("div"),this.categoriesList.classList.add("categories"),this.categoriesList.innerHTML=n,this.closeButton="false";var i=new CustomEvent("ucEventsSDK",{detail:{data:{event:"ui_changed",element:"secondLayer",visibility:!0}}});window.dispatchEvent(i),window.addEventListener("uc-language_changed",(()=>{this.updateLang()})),window.addEventListener("uc-layer2_hide",(()=>{this.module="false",this.displayOff[0].classList.add("hidden"),this.requestUpdate()})),window.addEventListener("uc-layer2_show",(()=>{this.module="true",t.setTrackingPixel({abTestVariant:t.getAbTestVariant(),eventType:e.aS.CMP_SHOWN}),this.displayOff[0].classList.remove("hidden"),this.requestUpdate()}))}async firstUpdated(){this.settingsId=this.getAttribute("id"),this.showEssential=this.getAttribute("essential"),this.showFunctional=this.getAttribute("functional"),this.showMarketing=this.getAttribute("marketing"),this.openAll=this.getAttribute("openAll"),this.displayOff=this.renderRoot?.querySelectorAll(".modal");"true"===window.ucSdk.closeButton&&(this.closeButton="true",this.requestUpdate()),"true"===this.ccpa&&(this.displayOff=this.renderRoot?.querySelectorAll(".ccpa-banner"),"true"!==localStorage.getItem("gpcInfoSeen_"+this.settingsId)&&document.cookie.indexOf("gpcInfoSeen_"+this.settingsId+"=true")>-1&&localStorage.setItem("gpcInfoSeen_"+this.settingsId,"true"),this.gpc=navigator.globalPrivacyControl,!0===this.gpc?(this.module="false",this.displayOff[0].classList.add("hidden"),c(),this.requestUpdate()):("true"===localStorage.getItem("gpcInfoSeen_"+this.settingsId)&&(this.module="false",this.displayOff[0].classList.add("hidden")),this.closeButton="true",a(),this.requestUpdate()));const e=this.renderRoot?.querySelector("uc-p-modal");e&&e.addEventListener("dismiss",(()=>{this.module="false",this.displayOff[0].classList.add("hidden"),"true"!==this.ccpa&&c(),this.requestUpdate()}));const t=this.renderRoot?.querySelector("#ccpa-banner-close");t&&t.addEventListener("click",(()=>{localStorage.setItem("gpcInfoSeen_"+this.settingsId,"true");var e=new Date;e.setMonth(e.getMonth()+12),document.cookie="gpcInfoSeen_"+this.settingsId+"=true;expires="+e+";domain=."+this.getTLD()+";path=/",this.module="false",this.displayOff[0].classList.add("hidden")}));const n=this.renderRoot?.querySelectorAll("uc-p-accordion");if(n.forEach((e=>e.addEventListener("update",(e=>{e.target.open=e.detail.open})))),"shown"!==this.showEssential){const e=this.renderRoot?.querySelectorAll(".category.essential");e.length>0&&(e[0].style.display="none")}if("unshown"===this.showFunctional){const e=this.renderRoot?.querySelectorAll(".category.functional");e.length>0&&(e[0].style.display="none")}if("unshown"===this.showMarketing){const e=this.renderRoot?.querySelectorAll(".category.marketing");e.length>0&&(e[0].style.display="none")}"true"===this.openAll&&n.forEach((e=>e.open=!0)),"true"!==this.module&&this.displayOff?.length>0&&"true"!==this.ccpa&&this.displayOff[0].classList.add("hidden"),await this.waitForPDS()}static styles=[Ae];render(){return"true"!==this.ccpa?oe`
          <uc-p-modal
            open=${this.module}
            aria="{ 'aria-label': '${this.modalInformation}' }"
            dismiss-button=${this.closeButton}
            class="modal"
            backdrop="shading"
            style="--p-modal-spacing-top: ${this.spacingTop}px; --p-modal-spacing-bottom: 50px;"
          >
            <div>
              <uc-description></uc-description>
              ${this.categoriesList}
            </div>

            <div slot="footer">
              <uc-footer class="footer"
                @save="${this.handleSave}"
                @accept="${this.handleAccept}"
                @deny="${this.handleDeny}"
              ></uc-footer>
            </div>
          </uc-p-modal>
        `:oe`
          <div class="ccpa-banner">
            <div
              id="ccpa-banner-content"
              class="content"
              role="status"
              aria-live="polite"
              aria-labelledby="label"
              aria-describedby="description"
            >
              <uc-description></uc-description>
            </div>

            <uc-p-button-pure
              id="ccpa-banner-close"
              aria-controls="ccpa-banner-content"
              variant="secondary"
              hide-label="true"
              icon="close"
              >${this.closeLayer}
            </uc-p-button-pure>
          </div>
        `}handleSave(){const e=t.getCategories(),n=this.shadowRoot.querySelectorAll('input[type="checkbox"]:not([disabled])'),i=Array.from(n).flatMap((({checked:t,dataset:{slug:n}})=>e.filter((({slug:e})=>e===n)).flatMap((({services:e})=>e.map((({id:e})=>({serviceId:e,status:t})))))));t.updateServices(i,d),window.dispatchEvent(new Event("consents_changed_finished")),this.close()}handleAccept(){a(),this.close()}handleDeny(){c(),this.close()}close(){this.module="false",this.displayOff[0].classList.add("hidden"),this.requestUpdate()}getTLD(){const e=location.hostname.split(".");return e.slice(0).slice(-(4===e.length?3:2)).join(".")}updateLang(){this.closeLayer=t.getSettings()._labels.ariaLabels.closeButton,this.categories=t.getCategories();for(let e=0;e<this.categories.length;e++){let t=document.createElement("div");t.innerHTML=this.categories[e].description;let n=t.querySelector(".desc-short")?.textContent||t.innerText||"";const i=this.renderRoot?.querySelector(".categories .cat"+(e+1)+" uc-p-accordion"),s=i?.shadowRoot?.querySelector("#accordion-control"),r=i?.querySelector("uc-p-text"),o=this.renderRoot?.querySelector(".categories .cat"+(e+1)+" uc-p-checkbox-wrapper"),a=o?.shadowRoot?.querySelector("label"),c=o?.querySelector("input");s&&(s.firstChild.data=this.categories[e].label),r&&(r.innerHTML=n),a&&(a.innerHTML=this.categories[e].label),c&&c.setAttribute("aria-label",this.categories[e].label)}this.requestUpdate()}async waitForPDS(){await Fe(),setTimeout((()=>{this.renderRoot?.querySelector(".pds-loading")?.classList.remove("pds-loading");const e=new Event("ucLayer2Shown");window.dispatchEvent(e)}),100)}});const $e=I`
  .layer4 {
    max-width: 100vw;
  }

  #sidebar {
    @media screen and (max-width: 800px) {
      display: none;
    }
  }

  .row {
    display: flex;
    justify-content: space-between;
    width: 100%;

    .state {
      position: relative;
      padding-left: 1.5em;
    }

    .state:before {
      content: '';
      width: 1.25em;
      height: 1.25em;
      border-radius: 49.9%;
      background: #959899;
      border: 1px solid #959899;
      position: absolute;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }

    .state.true:before {
      background: #e3e4e4;
    }
  }

  .deny {
    margin-top: 30px;
    margin-left: 15px;
    order: 2;
  }

  .save {
    margin-top: 30px;
    order: 1;
  }

  .accept {
    float: right;
    order: 3;
    margin-top: 30px;
  }

  .modal {
    width: 100%;
    max-height: 100%;
    display: flex;

    .categories {
      position: relative;
      width: 220px;
      margin-right: 20px;
      overflow-y: scroll;
      display: flex;
      word-wrap: break-word;
      flex-grow: 0;
      flex-shrink: 0;
    }

    @media screen and (max-width: 640px) {
      .categories {
        display: none;
      }
    }

    .listElement {
      max-width: 170px;
      margin-right: 10px;
      word-wrap: break-word;
    }

    .description {
      position: relative;
      width: calc(100vh - 220px);
      min-width: 350px;
      max-width: 900px;
      padding-right: 20px;
      overflow-y: scroll;

      @media screen and (max-width: 800px) {
        width: 100%;
        min-width: unset;
      }

      .desc-short {
        display: none;
      }
    }
  }

  .menubar {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    position: relative;

    @media screen and (max-width: 800px) {
      display: block;
    }
  }

  .logoMenu {
    margin-top: 20px;
    display: flex;
  }

  @media screen and (max-width: 640px) {
    .logoMenu {
      display: none;
    }
  }

  @media screen and (max-width: 800px) {
    .logoMenu {
      flex-direction: column;
      align-items: center;
      margin-top: 0;
    }
  }

  .menu {
    position: absolute;
    left: 199px;
    top: 14px;
    cursor: pointer;

    @media screen and (max-width: 800px) {
      display: none;
    }
  }

  .search {
    margin-left: calc(100% - 70%);
    margin-bottom: 10px;
  }

  @media screen and (max-width: 800px) {
    .search {
      margin-top: 20px;
      margin-left: 0;
      width: 100%;
    }
  }

  .close {
    cursor: pointer;
  }

  @media screen and (max-width: 800px) {
    .menubar {
      margin-top: 14px;
    }
  }

  .checkbox {
    font:
      900 1rem / calc(6px + 2.125ex) 'Porsche Next',
      'Arial Narrow',
      Arial,
      'Heiti SC',
      SimHei,
      sans-serif;
  }

  .line {
    border: 1px solid rgb(153, 153, 153, 0.3);
    margin-right: 10px;
  }
`;customElements.define("uc-layer4",class extends we{static get properties(){return{dialogVisible:{type:Boolean},shownValue:{type:String,attribute:!1}}}constructor(){super(),this.list=document.createElement("div"),this.info=document.createElement("div"),this.aName=[],this.aCategories=[],this.aInfo=[],this.aCompany=[],this.aPurposes=[],this.aPurposesList=[],this.aUsedTechnologies=[],this.aUsedTechnologiesList=[],this.aDataCollected=[],this.aDataCollectedList=[],this.aLegalBasis=[],this.aLegalBasisList=[],this.aLocation=[],this.aRetention=[],this.aDataRecipients=[],this.aUrls=[],this.aHistory=[],this.status=!1,this.theme="light",this.aCheckBox=[],this.checked="",this.serviceID="",this.nameList=[];for(let n=0;n<t.getCategories().length;n++){this.categorie=t.getCategories()[n].label,this.baseInfo=t.getCategories()[n],this.description=t.getCategories()[n].description;for(let n=0;n<this.baseInfo.services.length;n++){if(this.name=this.baseInfo.services[n].name,this.nameList.push(this.name),this.aName.push(`<br><uc-p-button-pure icon="none" id="xList" data="${this.name}">${this.name}</uc-p-button-pure><br>`),this.status=this.baseInfo.services[n].consent.status,this.desc=this.baseInfo.services[n].description,this.serviceID=this.baseInfo.services[n].id,0!==this.baseInfo.services[n].processingCompany.name.length&&(this.processingCompanyTitle=t.getSettingsLabels().service.processingCompanyTitle,this.processingCompany=this.baseInfo.services[n].processingCompany.name,this.processingCompanyAddress=this.baseInfo.services[n].processingCompany.address,this.aCompany.push(`\n         <uc-p-text style="margin-top:20px" ><b>${this.processingCompanyTitle}</b>  <br> ${this.processingCompany}<br> ${this.processingCompanyAddress}<br> </uc-p-text>`)),this.baseInfo.services[n].dataPurposes.length>0){this.purposesTitle=t.getSettingsLabels().service.dataPurposes.title,this.purposesDesc=t.getSettingsLabels().service.dataPurposes.description;for(let e=0;e<this.baseInfo.services[n].dataPurposes.length;e++)this.purposesList=this.baseInfo.services[n].dataPurposes[e],this.aPurposesList.push(`<uc-p-text-list-item>${this.purposesList}</uc-p-text-list-item>`);this.aPurposes.push(`<uc-p-text style="margin-top:20px"><b>${this.purposesTitle}</b><br> ${this.purposesDesc}<br> <uc-p-text-list>${this.aPurposesList.join("")}</uc-p-text-list></uc-p-text>`),this.aPurposesList=[]}if(this.baseInfo.services[n].technologiesUsed.length>0){this.technologieTitle=t.getSettingsLabels().service.technologiesUsed.title,this.technologieDesc=t.getSettingsLabels().service.technologiesUsed.description;for(let e=0;e<this.baseInfo.services[n].technologiesUsed.length;e++)this.usedTechnologiesList=this.baseInfo.services[n].technologiesUsed[e],this.aUsedTechnologiesList.push(`<uc-p-text-list-item>${this.usedTechnologiesList}</uc-p-text-list-item>`);this.aUsedTechnologies.push(`<uc-p-text style="margin-top:20px"><b>${this.technologieTitle}</b><br> ${this.technologieDesc}<br> <uc-p-text-list>${this.aUsedTechnologiesList.join("")}</uc-p-text-list></uc-p-text>`),this.aUsedTechnologiesList=[]}if(this.baseInfo.services[n].legalBasis.length>0){this.legalBasisTitle=t.getSettingsLabels().service.legalBasis.title,this.legalBasisDesc=t.getSettingsLabels().service.legalBasis.description;for(let e=0;e<this.baseInfo.services[n].legalBasis.length;e++)this.legalBasisList=this.baseInfo.services[n].legalBasis[e],this.aLegalBasisList.push(`<uc-p-text-list-item>${this.legalBasisList}</uc-p-text-list-item>`);this.aLegalBasis.push(`<uc-p-text style="margin-top:20px"><b>${this.legalBasisTitle}</b><br> ${this.legalBasisDesc}<br> <uc-p-text-list>${this.aLegalBasisList.join("")}</uc-p-text-list></uc-p-text>`),this.aLegalBasisList=[]}if(this.baseInfo.services[n].dataCollected.length>0){this.dataCollectedTitle=t.getSettingsLabels().service.dataCollected.title,this.dataCollectedDesc=t.getSettingsLabels().service.dataCollected.description;for(let e=0;e<this.baseInfo.services[n].dataCollected.length;e++)this.dataCollectedList=this.baseInfo.services[n].dataCollected[e],this.aDataCollectedList.push(`<uc-p-text-list-item>${this.dataCollectedList}</uc-p-text-list-item>`);this.aDataCollected.push(`<uc-p-text style="margin-top:20px"><b>${this.dataCollectedTitle}</b><br> ${this.dataCollectedDesc}<br> <uc-p-text-list>${this.aDataCollectedList.join("")}</uc-p-text-list></uc-p-text>`),this.aDataCollectedList=[]}this.baseInfo.services[n].dataDistribution.processingLocation.length>0&&(this.processingLocationTitle=t.getSettingsLabels().service.dataDistribution.processingLocationTitle,this.processingLocationDesc=this.baseInfo.services[n].dataDistribution.processingLocation,this.aLocation.push(`<uc-p-text style="margin-top:20px"><b>${this.processingLocationTitle}</b><br> ${this.processingLocationDesc}<br> </uc-p-text>`)),this.baseInfo.services[n].retentionPeriodDescription.length>1?(this.retentionTitle=t.getSettingsLabels().service.retentionPeriod.title,this.retentionDesc=this.baseInfo.services[n].retentionPeriodDescription,this.aRetention.push(`<uc-p-text style="margin-top:20px"><b>${this.retentionTitle}</b><br> ${this.retentionDesc}<br> </uc-p-text>`)):(this.retentionTitle=t.getSettingsLabels().service.retentionPeriod.title,this.retentionDesc=t.getSettingsLabels().service.retentionPeriod.description,this.aRetention.push(`<uc-p-text style="margin-top:20px"><b>${this.retentionTitle}</b><br> ${this.retentionDesc}<br> </uc-p-text>`)),this.baseInfo.services[n].dataRecipients[0]&&(this.baseInfo.services[n].dataRecipients[0].length>1?(this.dataRecipientsTitle=t.getSettingsLabels().service.dataRecipients.title,this.dataRecipientsDesc=this.baseInfo.services[n].dataRecipients[0],this.aDataRecipients.push(`<uc-p-text style="margin-top:20px"><b>${this.dataRecipientsTitle}</b><br> ${this.dataRecipientsDesc}<br> </uc-p-text>`)):(this.dataRecipientsTitle=t.getSettingsLabels().service.dataRecipients.title,this.dataRecipientsDesc=t.getSettingsLabels().service.dataRecipients.description,this.aDataRecipients.push(`<uc-p-text style="margin-top:20px"><b>${this.dataRecipientsTitle}</b><br> ${this.dataRecipientsDesc}<br> </uc-p-text>`))),this.urlTitle=t.getSettingsLabels().service.urls.privacyPolicyTitle,this.url=this.baseInfo.services[n].urls.privacyPolicy,this.url&&this.aUrls.push(`<uc-p-text style="margin-top:20px"><b>${this.urlTitle}</b></uc-p-text><uc-p-link-pure icon="none" href="${this.url}" target="_blank" style="word-break: break-all;">${this.url}</uc-p-link-pure><br> `),this.historyTitle=t.getSettingsLabels().service.history.title,this.aHistory.push(`<uc-p-text style="margin-top:20px"><b>${this.historyTitle}</b> </uc-p-text>`),this.aHistoryStatus=[];for(var e=0;e<this.baseInfo.services[n].consent.history.length;e++){if(this.history=this.baseInfo.services[n].consent.history[e].status,this.timestamp=this.baseInfo.services[n].consent.history[e].timestamp,this.timestamp){const e=new Date(this.timestamp);this.dateTimeString=e?e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+e.toLocaleTimeString():""}else this.dateTimeString="";this.statusString=t.getSettingsLabels().general.consentNotGiven,!0===this.history&&(this.statusString=t.getSettingsLabels().general.consentGiven),this.aHistoryStatus.push(`<uc-p-text><div class="row"><span class="state ${this.history}">${this.statusString}</span> <text style="">${this.dateTimeString}</text></div></uc-p-text>`)}!0===this.status?(this.checked="checked",!0===this.baseInfo.isEssential&&(this.checked=" disabled checked")):this.checked="",this.aCheckBox.push(`<br>\n            <div style="display:flex; margin-bottom:0.5em;"><uc-p-checkbox-wrapper label="${this.name}" hide-label="true" style="display:flex; align-self:flex-start" theme=${this.theme} id="service" data="${this.name}">\n              <input type="checkbox" ${this.checked} data-state="${this.status}" id="${this.serviceID}" class="check"/>\n              </uc-p-checkbox-wrapper><uc-p-text theme=${this.theme}></uc-p-text>\n              <div>\n                <uc-p-text style="margin-left:5px"><font size="4"><b> ${this.name}</b></font></uc-p-text>\n              </div>\n            </div>\n            <uc-p-text>${this.desc}</uc-p-text> ${this.aCompany.join("")}\n          ${this.aPurposes.join("")} ${this.aUsedTechnologies.join("")}  ${this.aDataCollected.join("")}  ${this.aLegalBasis.join("")}  ${this.aLocation.join("")}  ${this.aRetention.join("")}  ${this.aDataRecipients.join("")}  ${this.aUrls.join("")} ${this.aHistory.join("")}</uc-p-text> ${this.aHistoryStatus.join("")}</uc-p-text><br>`),this.aCompany=[],this.aPurposes=[],this.aUsedTechnologies=[],this.aDataCollected=[],this.aLegalBasis=[],this.aLocation=[],this.aRetention=[],this.aDataRecipients=[],this.aUrls=[],this.aHistory=[],this.aHistoryStatus=[]}this.aCategories.push(`\n         <uc-p-button-pure icon="none" id="button" style="font: 600 1rem" data="${this.categorie}"\n\n        ><font size="4"><b >${this.categorie}</b></font></uc-p-button-pure><br>${this.aName.join("")}<br><hr class="line"><br>`),this.aInfo.push(`<uc-p-heading tag="h3" size="large" id="categorie"> ${this.categorie}</uc-p-heading><br>\n        <uc-p-text>${this.description}</uc-p-text><br> ${this.aCheckBox.join("")}\n\n        `),this.aName=[],this.aCheckBox=[],this.aCompany=[]}this.list.innerHTML=this.aCategories.join(""),this.info.innerHTML=this.aInfo.join(""),this.requestUpdate(),setTimeout((function(){window.serviceName}),100),window.addEventListener("uc-layer4_hide",(()=>{this.module="false",this.requestUpdate()})),window.addEventListener("uc-layer4_show",(()=>{"true"===this.getAttribute("global")&&(this.module="true",this.requestUpdate())})),window.addEventListener("uc-layer4_scroll",(()=>{var e=this.renderRoot?.querySelectorAll("#categorie"),n=this.renderRoot?.querySelectorAll("#service");for(let n=0;n<e.length;n++)window.serviceName===t.getCategories()[n].label&&e[n].scrollIntoView();for(let e=0;e<n.length;e++)window.serviceName===n[e].getAttribute("data")&&n[e].scrollIntoView()}))}async firstUpdated(){await new Promise((e=>setTimeout(e,0))),this.menuId=this.renderRoot?.querySelectorAll("#button"),this.menuList=this.renderRoot?.querySelectorAll("#xList");var e=this.renderRoot?.querySelectorAll("#categorie"),n=this.renderRoot?.querySelectorAll("#service");setTimeout((function(){for(let n=0;n<e.length;n++)window.serviceName===t.getCategories()[n].label&&e[n].scrollIntoView()}),100),setTimeout((function(){for(let e=0;e<n.length;e++)window.serviceName===n[e].getAttribute("data")&&n[e].scrollIntoView()}),100);for(let t=0;t<this.menuId.length;t++)this.menuId[t].addEventListener("click",(()=>{e[t].scrollIntoView()}));for(let e=0;e<this.menuList.length;e++)this.menuList[e].addEventListener("click",(()=>{n[e].scrollIntoView()}))}static styles=[$e];render(){return oe`
      <uc-p-flyout aria="{ 'aria-label': '' }" open="${this.module}" class="layer4" @dismiss="${this.handleSave}">

        <div slot="header">
          <div class=menubar>

            <div class="logoMenu">
              <div class="privacyLogo">
                <!--<img src="https://www.porsche.com/all/usercentrics/pmbp-sticker.svg"/>-->
                <uc-p-wordmark size="inherit" style="height: 11px;"></uc-p-wordmark>

                <!-- TODO: Button element -->
                <uc-p-icon name="menu-lines" aria="{ 'aria-label': 'Menu Lines icon' }" class="menu" aria-hidden="true"
                           @click="${this.toggleSidebar}"></uc-p-icon>
              </div>
            </div>

            <div class="search" aria-hidden="true">
              <uc-p-text-field-wrapper>
                <input type="search" name="some-name" id="search" value="${this.shownValue}" @change="${this.search}"/>
                <style>
                  /* clears the X from Internet Explorer */
                  input[type=search]::-ms-clear {
                    display: none;
                    width: 0;
                    height: 0;
                  }

                  input[type=search]::-ms-reveal {
                    display: none;
                    width: 0;
                    height: 0;
                  }

                  /* clears the X from Chrome */
                  input[type="search"]::-webkit-search-decoration,
                  input[type="search"]::-webkit-search-cancel-button,
                  input[type="search"]::-webkit-search-results-button,
                  input[type="search"]::-webkit-search-results-decoration {
                    display: none;
                  }
                </style>

              </uc-p-text-field-wrapper>
            </div>

          </div>
        </div>

        <div class="modal">
          <div class="categories" id="sidebar" aria-hidden="true">
            <uc-p-text id="listElement" class="listElement"> ${this.list}
              <uc-p-text><br>
          </div>

          <div class="description">
            <uc-p-text> ${this.info}</uc-p-text>
          </div>
        </div>

        <div slot="footer">
          <uc-footer class="footer"
            @save="${this.handleSave}"
            @accept="${this.handleAccept}"
            @deny="${this.handleDeny}"
          ></uc-footer>
        </div>

      </uc-p-flyout>
    `}handleSave(){const e=this.shadowRoot.querySelectorAll('input[type="checkbox"]:not([disabled])'),n=Array.from(e).filter((({checked:e,dataset:{state:t}})=>e.toString()!==t)).map((({id:e,checked:t})=>({serviceId:e,status:t})));t.updateServices(n,d),this.close()}handleAccept(){a(),this.close()}handleDeny(){c(),this.close()}close(){this.module="false",this.requestUpdate()}toggleSidebar(){const e=this.renderRoot?.querySelector("#sidebar"),t=this.renderRoot?.querySelector(".description");"none"===e.style.display?(e.style.display="block",t.style.overflowy=" scroll"):e.style.display="none"}search(e){this.shownValue=e.srcElement.value;var t=this.renderRoot?.querySelectorAll("#service");for(let e=0;e<this.nameList.length;e++){new RegExp(this.shownValue,"gi").test(this.nameList[e])&&t[e].scrollIntoView()}}});const Ge=I`
  .widget {
    max-width: 800px;
    border: 1px;
    padding: 12px 10px 5px 10px;
    margin-bottom: 20px;

    .category {
      position: relative;
      padding-right: 40px;
      margin-bottom: 24px;

      &:last-child {
        margin-bottom: 0;
      }

      .category-head {
        display: flex;
        align-items: center;
      }

      .category-text {
        margin: 22px 0 30px;

        .desc-short {
          display: none;
        }
      }

      .service {
        display: flex;
        margin-bottom: 24px;

        &:last-child {
          margin-bottom: 0;
        }

        .text {
          margin-left: 10px;

          .name {
            display: flex;
          }
        }
      }
    }
  }
`;customElements.define("uc-widget",class extends we{constructor(){super(),this.attachShadow({mode:"open"}),this.infoIcon=t.getSettings().labels.ariaLabels.ccpaMoreInformation,this.theme="light",(window.ucSdk.darkMode||window.ucSdk.darkWidget||document.getElementById("dark"))&&(this.theme="dark"),this.categories=t.getCategories(),this.html="",this.showInfo=document.createElement("div");for(let e=0;e<this.categories.length;e++){let t="",n=!0;for(let i=0;i<this.categories[e].services.length;i++){!0!==this.categories[e].services[i].consent.status&&(n=!1);let s="margin-bottom: 24px; display: flex;";i+1===this.categories[e].services.length&&(s="display: flex;"),t+=`<div class="service" style="${s}">\n            <uc-p-checkbox-wrapper theme=${this.theme} class="check" label="${this.categories[e].services[i].name}" hide-label="true" >\n              <input\n                type="checkbox"\n                name="check-${this.categories[e].services[i].id}"\n                id="check-${this.categories[e].services[i].id}"\n                data-id="${this.categories[e].services[i].id}"\n                class="check service ${this.categories[e].services[i].isEssential?"essential":""}"\n                ${!0===this.categories[e].services[i].consent.status?"checked":""}\n                ${!0===this.categories[e].services[i].isEssential?"disabled":""} />\n            </uc-p-checkbox-wrapper>\n\n            <div class="text" style="margin-left: 10px;">\n              <div class="name" style="display: flex;">\n                <uc-p-text theme=${this.theme}>\n                    <b style="${this.categories[e].isEssential?" color: #757575":""}">\n                        ${this.categories[e].services[i].name}\n                    </b>\n                </uc-p-text>\n\n                <uc-p-button-pure\n                  class="info-icon"\n                  icon="information"\n                  tabindex="0"\n                  id="info-${this.categories[e].services[i].id}"\n                  data-id="${this.categories[e].services[i].id}"\n                  data-name="${this.categories[e].services[i].name}"\n                  theme=${this.theme}\n\n                  aria="{ 'aria-label': '${this.infoIcon}' }"\n                  style="margin-left:10px; cursor:pointer;">\n                </uc-p-button-pure>\n              </div>\n              <uc-p-text theme=${this.theme}>\n                  ${this.categories[e].services[i].description}\n              </uc-p-text>\n            </div>\n          </div>\n          `}this.html+=`<div class="category ${this.categories[e].isEssential?" essential":""}" style="padding-right: 40px; margin-bottom: 24px;">\n          <div class="category-head" style="display: flex;">\n            <uc-p-checkbox-wrapper label="${this.categories[e].label}" hide-label="true" theme=${this.theme}>\n              <input\n                  type="checkbox"\n                  name="check-${this.categories[e].slug}"\n                  id="check-${this.categories[e].slug}"\n                  data-id="${this.categories[e].slug}"\n                  class="check category"\n                  ${!this.categories[e].isEssential&&n?" checked":""}\n                  ${this.categories[e].isEssential?" disabled checked":""} />\n            </uc-p-checkbox-wrapper>\n            <uc-p-text theme=${this.theme} style="margin-left:10px;">\n              <b style="font-size: 1.125rem;${this.categories[e].isEssential?" color:#757575":""}">\n                ${this.categories[e].label}\n              </b>\n            </uc-p-text>\n            <uc-p-button-pure\n              class="info-icon"\n              icon="information"\n\n              id="info-${this.categories[e].slug}"\n              data-id="${this.categories[e].slug}"\n              data-name="${this.categories[e].label}"\n              theme=${this.theme}\n\n              aria="{ 'aria-label': '${this.infoIcon}' }"\n              style="margin-left:10px; cursor:pointer;">\n            </uc-p-button-pure>\n          </div>\n          <uc-p-accordion\n            theme=${this.theme}\n            id="accordion-${this.categories[e].label}"\n            tag="h3"\n            style="position: relative;"\n            class="accordion"\n            aria="{ 'aria-label': '${this.infoIcon}' }"\n            >\n\n            <uc-p-text class="category-text" theme=${this.theme} style="margin: 22px 0 30px;">\n               ${this.categories[e].description}\n            </uc-p-text>\n\n            ${t}\n          </uc-p-accordion>\n        </div>`}this.widget=document.createElement("div"),this.widget.innerHTML=this.html,this.requestUpdate(),window.addEventListener("uc-language_changed",(()=>{this.updateLang()}))}async firstUpdated(){window.addEventListener("consents_changed_finished",(()=>{this.updateWidget()})),setTimeout((()=>{this.shadowRoot.querySelectorAll("uc-p-accordion").forEach((e=>{var t=document.createElement("style");t.innerHTML="#accordion-control { position:absolute; width: 24px; top: -41px; right: -40px;}",e.shadowRoot?.appendChild(t),e.addEventListener("update",(e=>{e.target.open=e.detail.open}))}))}),1),this.infoIcons=this.renderRoot?.querySelectorAll(".info-icon");for(let e=0;e<this.infoIcons.length;e++)this.infoIcons[e]?.addEventListener("click",(e=>{this.openInfo(),window.serviceName=e.target.getAttribute("data-name")}));this.categoryCheckboxes=this.renderRoot?.querySelectorAll("input.check.category:not(.essential)");for(let e=0;e<this.categoryCheckboxes.length;e++)this.categoryCheckboxes[e]?.addEventListener("change",(e=>{let n=!1,i=e.target.getAttribute("data-id"),s=[];e.target.checked&&(n=!0);for(let e=0;e<this.categories.length;e++)if(this.categories[e].slug===i)for(let t=0;t<this.categories[e].services.length;t++)s.push({serviceId:this.categories[e].services[t].id,status:n});t.updateServices(s,d)}));this.serviceCheckboxes=this.renderRoot?.querySelectorAll("input.check.service:not(.essential)");for(let e=0;e<this.serviceCheckboxes.length;e++)this.serviceCheckboxes[e]?.addEventListener("change",(e=>{let t=!1,n=e.target.getAttribute("data-id");e.target.checked&&(t=!0),window.usercentrics.updateConsents([{templateId:n,status:t}])}))}static styles=[Ge];render(){return oe` <div class="widget">${this.widget} ${this.showInfo}</div> `}openInfo(){this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}updateWidget(){this.categories=t.getCategories();for(let e=0;e<this.categories.length;e++){let t=!0;for(let n=0;n<this.categories[e].services.length;n++){if(!this.categories[e].services[n].isEssential){let i=this.renderRoot?.querySelector('input.check.service[data-id="'+this.categories[e].services[n].id+'"]');i&&(!0===this.categories[e].services[n].consent.status?i.checked=!0:(i.checked=!1,t=!1))}let i=this.renderRoot?.querySelector('input.check.category[data-id="'+this.categories[e].slug+'"]');i.checked=t}}}updateLang(){this.categories=t.getCategories();for(let e=0;e<this.categories.length;e++){const t=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-head uc-p-checkbox-wrapper"),n=t?.shadowRoot?.querySelector("label"),i=t?.querySelector("input"),s=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-head uc-p-text b"),r=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-text");n.innerHTML=this.categories[e].label,i.setAttribute("aria-label",this.categories[e].label),s.innerHTML=this.categories[e].label,r.innerHTML=this.categories[e].description;for(let t=0;t<this.categories[e].services.length;t++){const n=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") div.service:nth-of-type("+(t+1)+")"),i=n?.querySelector("uc-p-checkbox-wrapper"),s=i?.shadowRoot?.querySelector("label"),r=i?.querySelector("input"),o=n?.querySelector(".name uc-p-text b"),a=n?.querySelector(".text > uc-p-text");s.innerHTML=this.categories[e].services[t].name,r.setAttribute("aria-label",this.categories[e].services[t].name),o.innerHTML=this.categories[e].services[t].name,a.innerHTML=this.categories[e].services[t].description}}this.requestUpdate()}});const He=I`
  .ucmodal-content {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center center;
    background-color: rgba(0, 0, 0, 0.85);
    z-index: 3;
    color: #ffffff;
  }
  .distances {
    position: absolute;
    width: 75%;
    max-width: 996px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-height: 100%;
    overflow: auto;
  }

  .headline {
    margin-bottom: 20px;
  }
  .text {
    margin-bottom: 20px;
    margin-right: 20px;
  }

  .buttons {
    //padding-right: 50px;
    margin-bottom: 10px !important;
  }

  .save {
    margin-right: 20px;
    @media screen and (max-width: 640px) {
      margin-bottom: 20px !important;
      margin-right: 0px;
      width: 100%;
    }
  }

  @media screen and (max-width: 640px) {
    .privacy {
      width: 100%;
    }
  }

  .open-layer4 {
    text-decoration: underline;
  }
`;customElements.define("uc-privacyshield",class extends we{constructor(){if(super(),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=[],this.privacyIds=[],this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.aName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.bgImageStyle=window.ucPrivacyShield?.bgimage?"background-image: url('"+window.ucPrivacyShield?.bgimage+"');":"",this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let n=0;n<t.getServices().length;n++)t.getServices()[n].id!==this.aTemplateId[e]&&t.getServices()[n].name!==this.aTemplateId[e].trim()&&t.getServices()[n].id!==s(this.aTemplateId[e].trim())||(this.privacyIds.push(t.getServices()[n].id),this.aName.push('<uc-p-button-pure theme="dark" icon="none" id="layer4" data-id="'+t.getServices()[n].id+'">'+t.getServices()[n].name+"</uc-p-button-pure>"),window.infoName=t.getServices()[n].name);this.newText=this.getAttribute("text")?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.list.innerHTML=this.newText}async firstUpdated(){if(window.addEventListener("consents_changed_finished",(()=>{this.checkState()})),this.displayOff=this.renderRoot?.querySelectorAll(".ucmodal"),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=[],this.privacyIds=[],this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.aName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.bgImageStyle=window.ucPrivacyShield?.bgimage?"background-image: url('"+window.ucPrivacyShield?.bgimage+"');":"",this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let n=0;n<t.getServices().length;n++)t.getServices()[n].id!==this.aTemplateId[e]&&t.getServices()[n].name!==this.aTemplateId[e].trim()&&t.getServices()[n].id!==s(this.aTemplateId[e].trim())||(this.privacyIds.push(t.getServices()[n].id),this.aName.push('<uc-p-button-pure theme="dark" icon="none" class="open-layer4" data-id="'+t.getServices()[n].id+'">'+t.getServices()[n].name+"</uc-p-button-pure>"),window.infoName=t.getServices()[n].name);this.newText=this.getAttribute("text")?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.list.innerHTML=this.newText,this.checkState(),this.requestUpdate(),window.setTimeout((()=>{this.renderRoot?.querySelectorAll(".open-layer4").forEach((e=>{e.addEventListener("click",(n=>{if(n.target!==this){for(let n=0;n<t.getServices().length;n++)e.innerHTML.includes(t.getServices()[n].name)&&(window.serviceName=t.getServices()[n].name);this.showInfo.style.zIndex="100",this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}}))}))}),1)}static styles=[He];render(){return oe`
      <div class="ucmodal">
        <div class="ucmodal-content" style=${this.bgImageStyle}>
          <div class="distances" data-ol-has-click-handler>
            <uc-p-heading tag="h1" class="headline" theme="dark" size="large">${this.headline} </uc-p-heading>
            <uc-p-text class="text" theme="dark">${this.list}</uc-p-text>
            <div class="buttons">
              <uc-p-button theme="dark" class="save" @click=${this.accept}>${this.save}</uc-p-button>

              <uc-p-link theme="dark" variant="secondary" class="privacy" href=${this.link||"#"} target="_blank"
                >${this.privacy}</uc-p-link
              >
            </div>
          </div>
        </div>
        ${this.showInfo}
      </div>
    `}accept(){this.privacyIds.forEach((function(e){window.usercentrics.updateConsents([{templateId:e,status:!0}])})),this.displayOff[0].style.display="none","function"==typeof window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]&&(window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)](),window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]=function(){})}checkState(){let e=!0;this.privacyIds.forEach((function(t){window.usercentrics.getConsents(t).consentStatus||(e=!1)})),e&&(this.displayOff[0].style.display="none","function"==typeof window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]&&(window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)](),window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]=function(){}))}});const je=I`
  .ucmodal-content {
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.6);
    z-index: 3;
  }

  .distances {
    max-width: 996px;
    background-color: white;
    border-radius: 12px;
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 10;
    transform: translate(-50%, -50%);
    max-height: 100%;
    width: 75%;
    overflow: auto;
  }

  .headline {
    padding: 36px 36px 8px;
  }

  .text {
    padding: 0 36px 36px;
  }

  .buttons {
    padding: 0 36px 36px;
    margin-bottom: 10px !important;
  }

  @media screen and (max-width: 640px) {
    .privacy {
      width: 100%;
    }
  }

  .save {
    margin-right: 20px;
  }

  @media screen and (max-width: 640px) {
    .save {
      margin-bottom: 20px !important;
      width: 100%;
    }
  }

  .open-layer4 {
    text-decoration: underline;
  }
`;customElements.define("uc-newprivacyshield",class extends we{constructor(){if(super(),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=[],this.privacyIds=[],this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.aName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let n=0;n<t.getServices().length;n++)t.getServices()[n].id!==this.aTemplateId[e]&&t.getServices()[n].name!==this.aTemplateId[e].trim()&&t.getServices()[n].id!==s(this.aTemplateId[e].trim())||(this.privacyIds.push(t.getServices()[n].id),this.aName.push('<uc-p-button-pure  icon="none" class="open-layer4" data-id="'+t.getServices()[n].id+'">'+t.getServices()[n].name+"</uc-p-button-pure>"),window.infoName=t.getServices()[n].name);this.newText=this.text?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.list.innerHTML=this.newText,window.addEventListener("consents_changed_finished",(()=>{this.checkState()}))}async firstUpdated(){if(this.displayOff=this.renderRoot?.querySelectorAll(".ucmodal"),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=[],this.privacyIds=[],this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.aName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let n=0;n<t.getServices().length;n++)t.getServices()[n].id!==this.aTemplateId[e]&&t.getServices()[n].name!==this.aTemplateId[e].trim()&&t.getServices()[n].id!==s(this.aTemplateId[e].trim())||(this.privacyIds.push(t.getServices()[n].id),this.aName.push('<uc-p-button-pure  icon="none" class="open-layer4" data-id="'+t.getServices()[n].id+'">'+t.getServices()[n].name+"</uc-p-button-pure>"),window.infoName=t.getServices()[n].name);this.newText=this.text?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.list.innerHTML=this.newText,this.checkState(),this.requestUpdate(),window.setTimeout((()=>{this.renderRoot?.querySelectorAll(".open-layer4").forEach((e=>{e.addEventListener("click",(n=>{if(n.target!==this){for(let n=0;n<t.getServices().length;n++)e.innerHTML.includes(t.getServices()[n].name)&&(window.serviceName=t.getServices()[n].name);this.showInfo.style.zIndex="100",this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}}))}))}),1)}static styles=[je];render(){return oe`
      <div class="ucmodal">
        <div class="ucmodal-content">
          <div class="distances" data-ol-has-click-handler>
            <uc-p-heading tag="h1" class="headline" size="large">
              ${this.headline}
            </uc-p-heading>
            <uc-p-text class="text">${this.list}</uc-p-text>

            <div class="buttons">
              <uc-p-button
                class="save"
                @click=${this.accept}
              >
                ${this.save}
              </uc-p-button>

              <uc-p-link
                variant="secondary"
                class="privacy"
                href=${this.link||"#"}
                target="_blank"
              >
                ${this.privacy}
              </uc-p-link>
            </div>
            </div>
          </div>
        </div>
        ${this.showInfo}
      </div>
    `}triggerCallbacks(){window.ucPrivacyShield.callbacks&&"function"==typeof window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]&&(window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)](),window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]=function(){})}accept(){this.privacyIds.forEach((function(e){window.usercentrics.updateConsents([{templateId:e,status:!0}])})),this.displayOff&&(this.displayOff[0].style.display="none"),this.triggerCallbacks()}checkState(){let e=!0;this.privacyIds.forEach((function(t){window.usercentrics.getConsents(t).consentStatus||(e=!1)})),e&&(this.displayOff&&(this.displayOff[0].style.display="none"),this.triggerCallbacks())}}),window.ucPrivacyShield.checkConsent=function(e){const t=()=>{if(0!==e.mapContainer?.length){const t=!1===e.backdrop?"uc-newprivacyshield":"uc-privacyshield",n=document.createElement(t),{headline:i,text:r,buttons:o}=window.ucPrivacyShield.consentservice??{};if(n.setAttribute("headline",i??""),n.setAttribute("text",r??""),n.setAttribute("link",o?.privacy?.link??""),n.setAttribute("linkLabel",o?.privacy?.label??""),n.setAttribute("buttonLabel",o?.consent?.label??""),n.setAttribute("callbackIndex",`${window.ucPrivacyShield.callbacks?.length||0}`),e.processorId){const t=[e.processorId].flat().map((e=>s(e)||e));n.setAttribute("IDs",t.join(","))}let a=!1;if(void 0!==e.mapContainer.length)for(const i of e.mapContainer)i.querySelector(t)||(i.appendChild(n.cloneNode()),a||=!0);else e.mapContainer.querySelector(t)||(e.mapContainer.appendChild(n),a||=!0);a&&(window.ucPrivacyShield.callbacks=window.ucPrivacyShield.callbacks||[],window.ucPrivacyShield.callbacks.push(e.callbacks.success))}};window.ucSdk.ucReady?t():window.addEventListener("ucReady",t)},window.usercentrics.getIsConsentRequired=function(){return t.getIsConsentRequired()},window.usercentrics.getConsents=function(e=!1){let n;const r=t.getServices();if(e){n={action:"",consentStatus:null,controllerId:t.getControllerId(),cookieNames:[],dataProcessor:"",dataProcessors:[],defaultCategorySlug:"",defaultConsentStatus:null,description:"",history:[],iabId:null,iabv2Id:null,isDeactivated:null,isEssential:null,isHidden:null,legalBasisList:[],optOutDescription:"",technicalName:null,templateId:"",unsavedConsentStatus:null,version:""};for(let t=0;t<r.length;t++)if(e===r[t].id||e.trim()===r[t].name||s(e.trim())===r[t].id){n.consentStatus=r[t].consent.status,n.dataProcessor=r[t].name,n.dataProcessors=[r[t].name],n.description=r[t].description,n.history=r[t].consent.history,n.isHidden=r[t].isHidden,n.isEssential=r[t].isEssential,n.legalBasisList=r[t].legalBasis,n.templateId=r[t].id,n.version=r[t].version;const e=i(r[t].id);e&&(n.technicalName=e)}return n}{let e=[];for(let s=0;s<r.length;s++){let o,a=r[s].consent.history;for(let e=0;e<a.length;e++)!0===a[e].status?a[e].consentStatus=!0:a[e].consentStatus=!1,delete a[e].status;o=!0===r[s].consent.status;let c=i(r[s].id);c||(c=null),n={action:"",addressOfProcessingCompany:"",categoryLabel:"",categorySlug:r[s].categorySlug,consentId:"",consentStatus:o,controllerId:t.getControllerId(),cookieMaxAgeSeconds:null,cookieNames:[],dataProcessingService:r[s].name,dataProcessor:r[s].name,dataProcessors:[r[s].name],description:r[s].description,history:a,iabId:"",iabv2Id:"",isDeactivated:null,isEssential:r[s].isEssential,isHidden:r[s].isHidden,legalBasisList:r[s].legalBasis,optOutDescription:"",technicalName:c,templateId:r[s].id,retentionPeriod:0,unsavedConsentStatus:null,usesNonCookieAccess:null,version:""},e.push(n)}return e}},window.usercentrics.updateConsents=function(e){const n=[],i=t.getServices();for(let t=0;t<e.length;t++)for(let r=0;r<i.length;r++)if(i[r].id===e[t].templateId||i[r].name===e[t].templateId.trim()||i[r].id===s(e[t].templateId.trim())){n.push({serviceId:i[r].id,status:e[t].status});break}t.updateServices(n,(()=>d({services:i.filter((({id:e})=>n.some((({serviceId:t})=>e===t))))})))},window.usercentrics.updateLanguage=e=>{t.changeLanguage(e,(()=>{window.dispatchEvent(new Event("uc-language_changed"))}))},window.usercentrics.ucIsReady=function(){return window.ucSdk.ucReady},window.usercentrics.updateConsentInfoModalIsVisible=function(e,t){const n=new CustomEvent("uc-layer4_hide",{}),i=new CustomEvent("uc-layer4_show",{}),s=new CustomEvent("uc-layer4_scroll",{});if(t&&(window.serviceName=t),!1===e)window.dispatchEvent(n);else{let n=!1;const r=document.querySelector('uc-layer4[global="true"]');if(r?.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]"))n=!0;else{document.body.querySelectorAll("uc-widget").forEach((function(e){const t=e?.shadowRoot.querySelectorAll("uc-layer4");t.forEach((function(e){e.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]")&&(n=!0)}))}))}if(!0===e&&!n)if(document.querySelector("body > uc-layer4"))window.dispatchEvent(i);else{const e=document.createElement("uc-layer4");e.setAttribute("global","true"),document.body.appendChild(e)}!0===e&&t&&window.dispatchEvent(s)}},window.usercentrics.toggleConsentInfoModalIsVisible=function(e){const t=new CustomEvent("uc-layer4_hide",{}),n=new CustomEvent("uc-layer4_show",{});if(!1===e)window.dispatchEvent(t);else{let i=!1;const s=document.querySelector('uc-layer4[global="true"]');if(s?.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]"))i=!0;else{document.body.querySelectorAll("uc-widget").forEach((function(e){const t=e?.shadowRoot.querySelectorAll("uc-layer4");t.forEach((function(e){e.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]")&&(i=!0)}))}))}if(!0===e||!i)if(document.querySelector("body > uc-layer4"))window.dispatchEvent(n);else{const e=document.createElement("uc-layer4");e.setAttribute("global","true"),document.body.appendChild(e)}i&&window.dispatchEvent(t)}},window.usercentrics.toggleCenteredModalIsVisible=function(e){const t=new CustomEvent("uc-layer2_show",{}),n=new CustomEvent("uc-layer2_hide",{});if(!0===e)window.dispatchEvent(t);else if(!1===e)window.dispatchEvent(n);else{const e=document.querySelector("uc-layer2");e?.shadowRoot?.querySelector("uc-p-modal.hidden")?window.dispatchEvent(t):window.dispatchEvent(n)}}})()})();